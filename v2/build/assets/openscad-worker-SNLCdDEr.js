(function(){"use strict";function ta(le,Oe){return Oe.forEach(function(F){F&&typeof F!="string"&&!Array.isArray(F)&&Object.keys(F).forEach(function(H){if(H!=="default"&&!(H in le)){var M=Object.getOwnPropertyDescriptor(F,H);Object.defineProperty(le,H,M.get?M:{enumerable:!0,get:function(){return F[H]}})}})}),Object.freeze(le)}var ea=(()=>{var le=self.location.href;return(function(Oe={}){var F=typeof Oe<"u"?Oe:{},H,M;F.ready=new Promise(function(o,a){H=o,M=a});var A=Object.assign({},F),Y=[],C="./this.program",j=(o,a)=>{throw a},N=typeof window=="object",S=typeof importScripts=="function",h=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b="";function p(o){return F.locateFile?F.locateFile(o,b):b+o}var B,x,U;(N||S)&&(S?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),le&&(b=le),b.indexOf("blob:")!==0?b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):b="",B=o=>{var a=new XMLHttpRequest;return a.open("GET",o,!1),a.send(null),a.responseText},S&&(U=o=>{var a=new XMLHttpRequest;return a.open("GET",o,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),x=(o,a,u)=>{var f=new XMLHttpRequest;f.open("GET",o,!0),f.responseType="arraybuffer",f.onload=()=>{if(f.status==200||f.status==0&&f.response){a(f.response);return}u()},f.onerror=u,f.send(null)});var X=F.print||console.log.bind(console),Z=F.printErr||console.warn.bind(console);Object.assign(F,A),A=null,F.arguments&&(Y=F.arguments),F.thisProgram&&(C=F.thisProgram),F.quit&&(j=F.quit);var pt;F.wasmBinary&&(pt=F.wasmBinary);var Q=F.noExitRuntime||!1;typeof WebAssembly!="object"&&m("no native wasm support detected");var tt,Ht=!1,ht;function Vt(o,a){o||m(a)}var Ut=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function K(o,a,u){a>>>=0;for(var f=a+u,d=a;o[d]&&!(d>=f);)++d;if(d-a>16&&o.buffer&&Ut)return Ut.decode(o.subarray(a,d));for(var g="";a<d;){var _=o[a++];if(!(_&128)){g+=String.fromCharCode(_);continue}var O=o[a++]&63;if((_&224)==192){g+=String.fromCharCode((_&31)<<6|O);continue}var z=o[a++]&63;if((_&240)==224?_=(_&15)<<12|O<<6|z:_=(_&7)<<18|O<<12|z<<6|o[a++]&63,_<65536)g+=String.fromCharCode(_);else{var G=_-65536;g+=String.fromCharCode(55296|G>>10,56320|G&1023)}}return g}function ft(o,a){return o>>>=0,o?K(Xt,o,a):""}function bt(o,a,u,f){if(u>>>=0,!(f>0))return 0;for(var d=u,g=u+f-1,_=0;_<o.length;++_){var O=o.charCodeAt(_);if(O>=55296&&O<=57343){var z=o.charCodeAt(++_);O=65536+((O&1023)<<10)|z&1023}if(O<=127){if(u>=g)break;a[u++>>>0]=O}else if(O<=2047){if(u+1>=g)break;a[u++>>>0]=192|O>>6,a[u++>>>0]=128|O&63}else if(O<=65535){if(u+2>=g)break;a[u++>>>0]=224|O>>12,a[u++>>>0]=128|O>>6&63,a[u++>>>0]=128|O&63}else{if(u+3>=g)break;a[u++>>>0]=240|O>>18,a[u++>>>0]=128|O>>12&63,a[u++>>>0]=128|O>>6&63,a[u++>>>0]=128|O&63}}return a[u>>>0]=0,u-d}function te(o,a,u){return bt(o,Xt,a,u)}function At(o){for(var a=0,u=0;u<o.length;++u){var f=o.charCodeAt(u);f<=127?a++:f<=2047?a+=2:f>=55296&&f<=57343?(a+=4,++u):a+=3}return a}var Bt,Xt,xt,Ee,T,W;function lt(){var o=tt.buffer;F.HEAP8=Bt=new Int8Array(o),F.HEAP16=xt=new Int16Array(o),F.HEAP32=T=new Int32Array(o),F.HEAPU8=Xt=new Uint8Array(o),F.HEAPU16=Ee=new Uint16Array(o),F.HEAPU32=W=new Uint32Array(o),F.HEAPF32=new Float32Array(o),F.HEAPF64=new Float64Array(o)}var It,Kt=[],Wt=[],qt=[],ee=[],ve=[],fe=0;function R(){return Q||fe>0}function L(){if(F.preRun)for(typeof F.preRun=="function"&&(F.preRun=[F.preRun]);F.preRun.length;)dt(F.preRun.shift());lr(Kt)}function at(){!F.noFSInit&&!y.init.initialized&&y.init(),y.ignorePermissions=!1,Ie.root=y.mount(Ie,{},null),lr(Wt)}function _t(){lr(qt)}function Lt(){nr(),lr(ee),y.quit()}function Gt(){if(F.postRun)for(typeof F.postRun=="function"&&(F.postRun=[F.postRun]);F.postRun.length;)jt(F.postRun.shift());lr(ve)}function dt(o){Kt.unshift(o)}function Le(o){Wt.unshift(o)}function jt(o){ve.unshift(o)}var Se=0,Re=null;function er(o){return o}function I(o){Se++,F.monitorRunDependencies&&F.monitorRunDependencies(Se)}function v(o){if(Se--,F.monitorRunDependencies&&F.monitorRunDependencies(Se),Se==0&&Re){var a=Re;Re=null,a()}}function m(o){F.onAbort&&F.onAbort(o),o="Aborted("+o+")",Z(o),Ht=!0,ht=1,o+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(o);throw M(a),a}var D="data:application/octet-stream;base64,";function q(o){return o.startsWith(D)}var $=0;function st(o){return function(){if(Ht)throw"program has already aborted!";$+=1;try{return o.apply(null,arguments)}catch(a){if(Ht||$>1||a===1/0||a==="unwind")throw a;m("unhandled exception: "+[a,a.stack])}finally{$-=1}}}function $t(o){var a={};for(var u in o){var f=o[u];typeof f=="function"?a[u]=st(f):a[u]=f}return a}function se(){var o=It.get,a={};It.get=u=>{var f=o.call(It,u),d=a[u];return(!d||d.func!==f)&&(d=a[u]={func:f,wrapper:st(f)}),d.wrapper}}var ne;F.locateFile?(ne="openscad.wasm",q(ne)||(ne=p(ne))):ne=new URL("openscad.wasm",self.location.href).href;function ke(o){try{if(o==ne&&pt)return new Uint8Array(pt);if(U)return U(o);throw"both async and sync fetching of the wasm failed"}catch(a){m(a)}}function ue(o){return!pt&&(N||S)&&typeof fetch=="function"?fetch(o,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+o+"'";return a.arrayBuffer()}).catch(function(){return ke(o)}):Promise.resolve().then(function(){return ke(o)})}function qe(o,a,u){return ue(o).then(function(f){return WebAssembly.instantiate(f,a)}).then(function(f){return f}).then(u,function(f){Z("failed to asynchronously prepare wasm: "+f),m(f)})}function Sr(o,a,u,f){return!o&&typeof WebAssembly.instantiateStreaming=="function"&&!q(a)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(function(d){var g=WebAssembly.instantiateStreaming(d,u);return g.then(f,function(_){return Z("wasm streaming compile failed: "+_),Z("falling back to ArrayBuffer instantiation"),qe(a,u,f)})}):qe(a,u,f)}function fr(){var o={a:Ro};function a(f,d){var g=f.exports;return g=$t(g),F.asm=g,tt=F.asm.Ab,lt(),It=F.asm.Db,Le(F.asm.Bb),se(),v(),g}I();function u(f){a(f.instance)}if(F.instantiateWasm)try{return F.instantiateWasm(o,a)}catch(f){Z("Module.instantiateWasm callback failed with error: "+f),M(f)}return Sr(pt,ne,o,u).catch(M),{}}var Mt,de;function Xr(o){this.name="ExitStatus",this.message="Program terminated with exit("+o+")",this.status=o}function lr(o){for(;o.length>0;)o.shift()(F)}function J(o,a,u,f){m("Assertion failed: "+ft(o)+", at: "+[a?ft(a):"unknown filename",u,f?ft(f):"unknown function"])}var Et=[];function E(o){var a=Et[o];return a||(o>=Et.length&&(Et.length=o+1),Et[o]=a=It.get(o)),a}function Nt(o,a){E(o)(a)}var oe=[];function St(o){o.add_ref()}var Pe=0;function Ot(o){var a=new rt(o);return a.get_caught()||(a.set_caught(!0),Pe--),a.set_rethrown(!1),oe.push(a),St(a),a.get_exception_ptr()}function Fe(){if(!oe.length)return 0;var o=oe[oe.length-1];return St(o),o.excPtr}function nt(o){if(o.release_ref()&&!o.get_rethrown()){var a=o.get_destructor();a&&E(a)(o.excPtr),en(o.excPtr)}}function rt(o){this.excPtr=o,this.ptr=o-24,this.set_type=function(a){W[this.ptr+4>>>2]=a},this.get_type=function(){return W[this.ptr+4>>>2]},this.set_destructor=function(a){W[this.ptr+8>>>2]=a},this.get_destructor=function(){return W[this.ptr+8>>>2]},this.set_refcount=function(a){T[this.ptr>>>2]=a},this.set_caught=function(a){a=a?1:0,Bt[this.ptr+12>>>0]=a},this.get_caught=function(){return Bt[this.ptr+12>>>0]!=0},this.set_rethrown=function(a){a=a?1:0,Bt[this.ptr+13>>>0]=a},this.get_rethrown=function(){return Bt[this.ptr+13>>>0]!=0},this.init=function(a,u){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(u),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var a=T[this.ptr>>>2];T[this.ptr>>>2]=a+1},this.release_ref=function(){var a=T[this.ptr>>>2];return T[this.ptr>>>2]=a-1,a===1},this.set_adjusted_ptr=function(a){W[this.ptr+16>>>2]=a},this.get_adjusted_ptr=function(){return W[this.ptr+16>>>2]},this.get_exception_ptr=function(){var a=En(this.get_type());if(a)return W[this.excPtr>>>2];var u=this.get_adjusted_ptr();return u!==0?u:this.excPtr}}function kr(o){o&&nt(new rt(o))}var ce=0;function Dt(){kt(0);var o=oe.pop();nt(o),ce=0}function hr(o){throw ce||(ce=o),o}function Ge(){var o=ce;if(!o)return Pr(0),0;var a=new rt(o);a.set_adjusted_ptr(o);var u=a.get_type();if(!u)return Pr(0),o;for(var f=0;f<arguments.length;f++){var d=arguments[f];if(d===0||d===u)break;var g=a.ptr+16;if(_n(d,u,g))return Pr(d),o}return Pr(u),o}var ge=Ge,ae=Ge,Ae=Ge,je=Ge;function Ce(){var o=oe.pop();o||m("no exception to throw");var a=o.excPtr;throw o.get_rethrown()||(oe.push(o),o.set_rethrown(!0),o.set_caught(!1),Pe++),ce=a,a}function br(o,a,u){var f=new rt(o);throw f.init(a,u),ce=o,Pe++,o}function pr(){return Pe}var Ct={isAbs:o=>o.charAt(0)==="/",splitPath:o=>{var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return a.exec(o).slice(1)},normalizeArray:(o,a)=>{for(var u=0,f=o.length-1;f>=0;f--){var d=o[f];d==="."?o.splice(f,1):d===".."?(o.splice(f,1),u++):u&&(o.splice(f,1),u--)}if(a)for(;u;u--)o.unshift("..");return o},normalize:o=>{var a=Ct.isAbs(o),u=o.substr(-1)==="/";return o=Ct.normalizeArray(o.split("/").filter(f=>!!f),!a).join("/"),!o&&!a&&(o="."),o&&u&&(o+="/"),(a?"/":"")+o},dirname:o=>{var a=Ct.splitPath(o),u=a[0],f=a[1];return!u&&!f?".":(f&&(f=f.substr(0,f.length-1)),u+f)},basename:o=>{if(o==="/")return"/";o=Ct.normalize(o),o=o.replace(/\/$/,"");var a=o.lastIndexOf("/");return a===-1?o:o.substr(a+1)},join:function(){var o=Array.prototype.slice.call(arguments);return Ct.normalize(o.join("/"))},join2:(o,a)=>Ct.normalize(o+"/"+a)};function We(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var o=new Uint8Array(1);return()=>(crypto.getRandomValues(o),o[0])}else return()=>m("randomDevice")}var pe={resolve:function(){for(var o="",a=!1,u=arguments.length-1;u>=-1&&!a;u--){var f=u>=0?arguments[u]:y.cwd();if(typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!f)return"";o=f+"/"+o,a=Ct.isAbs(f)}return o=Ct.normalizeArray(o.split("/").filter(d=>!!d),!a).join("/"),(a?"/":"")+o||"."},relative:(o,a)=>{o=pe.resolve(o).substr(1),a=pe.resolve(a).substr(1);function u(G){for(var it=0;it<G.length&&G[it]==="";it++);for(var gt=G.length-1;gt>=0&&G[gt]==="";gt--);return it>gt?[]:G.slice(it,gt-it+1)}for(var f=u(o.split("/")),d=u(a.split("/")),g=Math.min(f.length,d.length),_=g,O=0;O<g;O++)if(f[O]!==d[O]){_=O;break}for(var z=[],O=_;O<f.length;O++)z.push("..");return z=z.concat(d.slice(_)),z.join("/")}};function Ye(o,a,u){var f=At(o)+1,d=new Array(f),g=bt(o,d,0,d.length);return a&&(d.length=g),d}var xe={ttys:[],init:function(){},shutdown:function(){},register:function(o,a){xe.ttys[o]={input:[],output:[],ops:a},y.registerDevice(o,xe.stream_ops)},stream_ops:{open:function(o){var a=xe.ttys[o.node.rdev];if(!a)throw new y.ErrnoError(43);o.tty=a,o.seekable=!1},close:function(o){o.tty.ops.fsync(o.tty)},fsync:function(o){o.tty.ops.fsync(o.tty)},read:function(o,a,u,f,d){if(!o.tty||!o.tty.ops.get_char)throw new y.ErrnoError(60);for(var g=0,_=0;_<f;_++){var O;try{O=o.tty.ops.get_char(o.tty)}catch{throw new y.ErrnoError(29)}if(O===void 0&&g===0)throw new y.ErrnoError(6);if(O==null)break;g++,a[u+_]=O}return g&&(o.node.timestamp=Date.now()),g},write:function(o,a,u,f,d){if(!o.tty||!o.tty.ops.put_char)throw new y.ErrnoError(60);try{for(var g=0;g<f;g++)o.tty.ops.put_char(o.tty,a[u+g])}catch{throw new y.ErrnoError(29)}return f&&(o.node.timestamp=Date.now()),g}},default_tty_ops:{get_char:function(o){if(!o.input.length){var a=null;if(typeof window<"u"&&typeof window.prompt=="function"?(a=window.prompt("Input: "),a!==null&&(a+=`
`)):typeof readline=="function"&&(a=readline(),a!==null&&(a+=`
`)),!a)return null;o.input=Ye(a,!0)}return o.input.shift()},put_char:function(o,a){a===null||a===10?(X(K(o.output,0)),o.output=[]):a!=0&&o.output.push(a)},fsync:function(o){o.output&&o.output.length>0&&(X(K(o.output,0)),o.output=[])}},default_tty1_ops:{put_char:function(o,a){a===null||a===10?(Z(K(o.output,0)),o.output=[]):a!=0&&o.output.push(a)},fsync:function(o){o.output&&o.output.length>0&&(Z(K(o.output,0)),o.output=[])}}};function Or(o,a){return Xt.fill(0,o,o+a),o}function Ln(o,a){return Math.ceil(o/a)*a}function dn(o){o=Ln(o,65536);var a=rn(65536,o);return a?Or(a,o):0}var Jt={ops_table:null,mount:function(o){return Jt.createNode(null,"/",16895,0)},createNode:function(o,a,u,f){if(y.isBlkdev(u)||y.isFIFO(u))throw new y.ErrnoError(63);Jt.ops_table||(Jt.ops_table={dir:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,lookup:Jt.node_ops.lookup,mknod:Jt.node_ops.mknod,rename:Jt.node_ops.rename,unlink:Jt.node_ops.unlink,rmdir:Jt.node_ops.rmdir,readdir:Jt.node_ops.readdir,symlink:Jt.node_ops.symlink},stream:{llseek:Jt.stream_ops.llseek}},file:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:{llseek:Jt.stream_ops.llseek,read:Jt.stream_ops.read,write:Jt.stream_ops.write,allocate:Jt.stream_ops.allocate,mmap:Jt.stream_ops.mmap,msync:Jt.stream_ops.msync}},link:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,readlink:Jt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:y.chrdev_stream_ops}});var d=y.createNode(o,a,u,f);return y.isDir(d.mode)?(d.node_ops=Jt.ops_table.dir.node,d.stream_ops=Jt.ops_table.dir.stream,d.contents={}):y.isFile(d.mode)?(d.node_ops=Jt.ops_table.file.node,d.stream_ops=Jt.ops_table.file.stream,d.usedBytes=0,d.contents=null):y.isLink(d.mode)?(d.node_ops=Jt.ops_table.link.node,d.stream_ops=Jt.ops_table.link.stream):y.isChrdev(d.mode)&&(d.node_ops=Jt.ops_table.chrdev.node,d.stream_ops=Jt.ops_table.chrdev.stream),d.timestamp=Date.now(),o&&(o.contents[a]=d,o.timestamp=d.timestamp),d},getFileDataAsTypedArray:function(o){return o.contents?o.contents.subarray?o.contents.subarray(0,o.usedBytes):new Uint8Array(o.contents):new Uint8Array(0)},expandFileStorage:function(o,a){a>>>=0;var u=o.contents?o.contents.length:0;if(!(u>=a)){var f=1024*1024;a=Math.max(a,u*(u<f?2:1.125)>>>0),u!=0&&(a=Math.max(a,256));var d=o.contents;o.contents=new Uint8Array(a),o.usedBytes>0&&o.contents.set(d.subarray(0,o.usedBytes),0)}},resizeFileStorage:function(o,a){if(a>>>=0,o.usedBytes!=a)if(a==0)o.contents=null,o.usedBytes=0;else{var u=o.contents;o.contents=new Uint8Array(a),u&&o.contents.set(u.subarray(0,Math.min(a,o.usedBytes))),o.usedBytes=a}},node_ops:{getattr:function(o){var a={};return a.dev=y.isChrdev(o.mode)?o.id:1,a.ino=o.id,a.mode=o.mode,a.nlink=1,a.uid=0,a.gid=0,a.rdev=o.rdev,y.isDir(o.mode)?a.size=4096:y.isFile(o.mode)?a.size=o.usedBytes:y.isLink(o.mode)?a.size=o.link.length:a.size=0,a.atime=new Date(o.timestamp),a.mtime=new Date(o.timestamp),a.ctime=new Date(o.timestamp),a.blksize=4096,a.blocks=Math.ceil(a.size/a.blksize),a},setattr:function(o,a){a.mode!==void 0&&(o.mode=a.mode),a.timestamp!==void 0&&(o.timestamp=a.timestamp),a.size!==void 0&&Jt.resizeFileStorage(o,a.size)},lookup:function(o,a){throw y.genericErrors[44]},mknod:function(o,a,u,f){return Jt.createNode(o,a,u,f)},rename:function(o,a,u){if(y.isDir(o.mode)){var f;try{f=y.lookupNode(a,u)}catch{}if(f)for(var d in f.contents)throw new y.ErrnoError(55)}delete o.parent.contents[o.name],o.parent.timestamp=Date.now(),o.name=u,a.contents[u]=o,a.timestamp=o.parent.timestamp,o.parent=a},unlink:function(o,a){delete o.contents[a],o.timestamp=Date.now()},rmdir:function(o,a){var u=y.lookupNode(o,a);for(var f in u.contents)throw new y.ErrnoError(55);delete o.contents[a],o.timestamp=Date.now()},readdir:function(o){var a=[".",".."];for(var u in o.contents)o.contents.hasOwnProperty(u)&&a.push(u);return a},symlink:function(o,a,u){var f=Jt.createNode(o,a,41471,0);return f.link=u,f},readlink:function(o){if(!y.isLink(o.mode))throw new y.ErrnoError(28);return o.link}},stream_ops:{read:function(o,a,u,f,d){var g=o.node.contents;if(d>=o.node.usedBytes)return 0;var _=Math.min(o.node.usedBytes-d,f);if(_>8&&g.subarray)a.set(g.subarray(d,d+_),u);else for(var O=0;O<_;O++)a[u+O]=g[d+O];return _},write:function(o,a,u,f,d,g){if(a.buffer===Bt.buffer&&(g=!1),!f)return 0;var _=o.node;if(_.timestamp=Date.now(),a.subarray&&(!_.contents||_.contents.subarray)){if(g)return _.contents=a.subarray(u,u+f),_.usedBytes=f,f;if(_.usedBytes===0&&d===0)return _.contents=a.slice(u,u+f),_.usedBytes=f,f;if(d+f<=_.usedBytes)return _.contents.set(a.subarray(u,u+f),d),f}if(Jt.expandFileStorage(_,d+f),_.contents.subarray&&a.subarray)_.contents.set(a.subarray(u,u+f),d);else for(var O=0;O<f;O++)_.contents[d+O]=a[u+O];return _.usedBytes=Math.max(_.usedBytes,d+f),f},llseek:function(o,a,u){var f=a;if(u===1?f+=o.position:u===2&&y.isFile(o.node.mode)&&(f+=o.node.usedBytes),f<0)throw new y.ErrnoError(28);return f},allocate:function(o,a,u){Jt.expandFileStorage(o.node,a+u),o.node.usedBytes=Math.max(o.node.usedBytes,a+u)},mmap:function(o,a,u,f,d){if(!y.isFile(o.node.mode))throw new y.ErrnoError(43);var g,_,O=o.node.contents;if(!(d&2)&&O.buffer===Bt.buffer)_=!1,g=O.byteOffset;else{if((u>0||u+a<O.length)&&(O.subarray?O=O.subarray(u,u+a):O=Array.prototype.slice.call(O,u,u+a)),_=!0,g=dn(a),!g)throw new y.ErrnoError(48);g>>>=0,Bt.set(O,g>>>0)}return{ptr:g,allocated:_}},msync:function(o,a,u,f,d){return Jt.stream_ops.write(o,a,0,f,u,!1),0}}};function An(o,a,u,f){var d="al "+o;x(o,g=>{Vt(g,'Loading data file "'+o+'" failed (no arrayBuffer).'),a(new Uint8Array(g)),d&&v()},g=>{if(u)u();else throw'Loading data file "'+o+'" failed.'}),d&&I()}var y={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(o,a={})=>{if(o=pe.resolve(o),!o)return{path:"",node:null};var u={follow_mount:!0,recurse_count:0};if(a=Object.assign(u,a),a.recurse_count>8)throw new y.ErrnoError(32);for(var f=o.split("/").filter(gt=>!!gt),d=y.root,g="/",_=0;_<f.length;_++){var O=_===f.length-1;if(O&&a.parent)break;if(d=y.lookupNode(d,f[_]),g=Ct.join2(g,f[_]),y.isMountpoint(d)&&(!O||O&&a.follow_mount)&&(d=d.mounted.root),!O||a.follow)for(var z=0;y.isLink(d.mode);){var G=y.readlink(g);g=pe.resolve(Ct.dirname(g),G);var it=y.lookupPath(g,{recurse_count:a.recurse_count+1});if(d=it.node,z++>40)throw new y.ErrnoError(32)}}return{path:g,node:d}},getPath:o=>{for(var a;;){if(y.isRoot(o)){var u=o.mount.mountpoint;return a?u[u.length-1]!=="/"?u+"/"+a:u+a:u}a=a?o.name+"/"+a:o.name,o=o.parent}},hashName:(o,a)=>{for(var u=0,f=0;f<a.length;f++)u=(u<<5)-u+a.charCodeAt(f)|0;return(o+u>>>0)%y.nameTable.length},hashAddNode:o=>{var a=y.hashName(o.parent.id,o.name);o.name_next=y.nameTable[a],y.nameTable[a]=o},hashRemoveNode:o=>{var a=y.hashName(o.parent.id,o.name);if(y.nameTable[a]===o)y.nameTable[a]=o.name_next;else for(var u=y.nameTable[a];u;){if(u.name_next===o){u.name_next=o.name_next;break}u=u.name_next}},lookupNode:(o,a)=>{var u=y.mayLookup(o);if(u)throw new y.ErrnoError(u,o);for(var f=y.hashName(o.id,a),d=y.nameTable[f];d;d=d.name_next){var g=d.name;if(d.parent.id===o.id&&g===a)return d}return y.lookup(o,a)},createNode:(o,a,u,f)=>{var d=new y.FSNode(o,a,u,f);return y.hashAddNode(d),d},destroyNode:o=>{y.hashRemoveNode(o)},isRoot:o=>o===o.parent,isMountpoint:o=>!!o.mounted,isFile:o=>(o&61440)===32768,isDir:o=>(o&61440)===16384,isLink:o=>(o&61440)===40960,isChrdev:o=>(o&61440)===8192,isBlkdev:o=>(o&61440)===24576,isFIFO:o=>(o&61440)===4096,isSocket:o=>(o&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:o=>{var a=y.flagModes[o];if(typeof a>"u")throw new Error("Unknown file open mode: "+o);return a},flagsToPermissionString:o=>{var a=["r","w","rw"][o&3];return o&512&&(a+="w"),a},nodePermissions:(o,a)=>y.ignorePermissions?0:a.includes("r")&&!(o.mode&292)||a.includes("w")&&!(o.mode&146)||a.includes("x")&&!(o.mode&73)?2:0,mayLookup:o=>{var a=y.nodePermissions(o,"x");return a||(o.node_ops.lookup?0:2)},mayCreate:(o,a)=>{try{var u=y.lookupNode(o,a);return 20}catch{}return y.nodePermissions(o,"wx")},mayDelete:(o,a,u)=>{var f;try{f=y.lookupNode(o,a)}catch(g){return g.errno}var d=y.nodePermissions(o,"wx");if(d)return d;if(u){if(!y.isDir(f.mode))return 54;if(y.isRoot(f)||y.getPath(f)===y.cwd())return 10}else if(y.isDir(f.mode))return 31;return 0},mayOpen:(o,a)=>o?y.isLink(o.mode)?32:y.isDir(o.mode)&&(y.flagsToPermissionString(a)!=="r"||a&512)?31:y.nodePermissions(o,y.flagsToPermissionString(a)):44,MAX_OPEN_FDS:4096,nextfd:(o=0,a=y.MAX_OPEN_FDS)=>{for(var u=o;u<=a;u++)if(!y.streams[u])return u;throw new y.ErrnoError(33)},getStream:o=>y.streams[o],createStream:(o,a,u)=>{y.FSStream||(y.FSStream=function(){this.shared={}},y.FSStream.prototype={},Object.defineProperties(y.FSStream.prototype,{object:{get:function(){return this.node},set:function(d){this.node=d}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(d){this.shared.flags=d}},position:{get:function(){return this.shared.position},set:function(d){this.shared.position=d}}})),o=Object.assign(new y.FSStream,o);var f=y.nextfd(a,u);return o.fd=f,y.streams[f]=o,o},closeStream:o=>{y.streams[o]=null},chrdev_stream_ops:{open:o=>{var a=y.getDevice(o.node.rdev);o.stream_ops=a.stream_ops,o.stream_ops.open&&o.stream_ops.open(o)},llseek:()=>{throw new y.ErrnoError(70)}},major:o=>o>>8,minor:o=>o&255,makedev:(o,a)=>o<<8|a,registerDevice:(o,a)=>{y.devices[o]={stream_ops:a}},getDevice:o=>y.devices[o],getMounts:o=>{for(var a=[],u=[o];u.length;){var f=u.pop();a.push(f),u.push.apply(u,f.mounts)}return a},syncfs:(o,a)=>{typeof o=="function"&&(a=o,o=!1),y.syncFSRequests++,y.syncFSRequests>1&&Z("warning: "+y.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var u=y.getMounts(y.root.mount),f=0;function d(_){return y.syncFSRequests--,a(_)}function g(_){if(_)return g.errored?void 0:(g.errored=!0,d(_));++f>=u.length&&d(null)}u.forEach(_=>{if(!_.type.syncfs)return g(null);_.type.syncfs(_,o,g)})},mount:(o,a,u)=>{var f=u==="/",d=!u,g;if(f&&y.root)throw new y.ErrnoError(10);if(!f&&!d){var _=y.lookupPath(u,{follow_mount:!1});if(u=_.path,g=_.node,y.isMountpoint(g))throw new y.ErrnoError(10);if(!y.isDir(g.mode))throw new y.ErrnoError(54)}var O={type:o,opts:a,mountpoint:u,mounts:[]},z=o.mount(O);return z.mount=O,O.root=z,f?y.root=z:g&&(g.mounted=O,g.mount&&g.mount.mounts.push(O)),z},unmount:o=>{var a=y.lookupPath(o,{follow_mount:!1});if(!y.isMountpoint(a.node))throw new y.ErrnoError(28);var u=a.node,f=u.mounted,d=y.getMounts(f);Object.keys(y.nameTable).forEach(_=>{for(var O=y.nameTable[_];O;){var z=O.name_next;d.includes(O.mount)&&y.destroyNode(O),O=z}}),u.mounted=null;var g=u.mount.mounts.indexOf(f);u.mount.mounts.splice(g,1)},lookup:(o,a)=>o.node_ops.lookup(o,a),mknod:(o,a,u)=>{var f=y.lookupPath(o,{parent:!0}),d=f.node,g=Ct.basename(o);if(!g||g==="."||g==="..")throw new y.ErrnoError(28);var _=y.mayCreate(d,g);if(_)throw new y.ErrnoError(_);if(!d.node_ops.mknod)throw new y.ErrnoError(63);return d.node_ops.mknod(d,g,a,u)},create:(o,a)=>(a=a!==void 0?a:438,a&=4095,a|=32768,y.mknod(o,a,0)),mkdir:(o,a)=>(a=a!==void 0?a:511,a&=1023,a|=16384,y.mknod(o,a,0)),mkdirTree:(o,a)=>{for(var u=o.split("/"),f="",d=0;d<u.length;++d)if(u[d]){f+="/"+u[d];try{y.mkdir(f,a)}catch(g){if(g.errno!=20)throw g}}},mkdev:(o,a,u)=>(typeof u>"u"&&(u=a,a=438),a|=8192,y.mknod(o,a,u)),symlink:(o,a)=>{if(!pe.resolve(o))throw new y.ErrnoError(44);var u=y.lookupPath(a,{parent:!0}),f=u.node;if(!f)throw new y.ErrnoError(44);var d=Ct.basename(a),g=y.mayCreate(f,d);if(g)throw new y.ErrnoError(g);if(!f.node_ops.symlink)throw new y.ErrnoError(63);return f.node_ops.symlink(f,d,o)},rename:(o,a)=>{var u=Ct.dirname(o),f=Ct.dirname(a),d=Ct.basename(o),g=Ct.basename(a),_,O,z;if(_=y.lookupPath(o,{parent:!0}),O=_.node,_=y.lookupPath(a,{parent:!0}),z=_.node,!O||!z)throw new y.ErrnoError(44);if(O.mount!==z.mount)throw new y.ErrnoError(75);var G=y.lookupNode(O,d),it=pe.relative(o,f);if(it.charAt(0)!==".")throw new y.ErrnoError(28);if(it=pe.relative(a,u),it.charAt(0)!==".")throw new y.ErrnoError(55);var gt;try{gt=y.lookupNode(z,g)}catch{}if(G!==gt){var ct=y.isDir(G.mode),ot=y.mayDelete(O,d,ct);if(ot)throw new y.ErrnoError(ot);if(ot=gt?y.mayDelete(z,g,ct):y.mayCreate(z,g),ot)throw new y.ErrnoError(ot);if(!O.node_ops.rename)throw new y.ErrnoError(63);if(y.isMountpoint(G)||gt&&y.isMountpoint(gt))throw new y.ErrnoError(10);if(z!==O&&(ot=y.nodePermissions(O,"w"),ot))throw new y.ErrnoError(ot);y.hashRemoveNode(G);try{O.node_ops.rename(G,z,g)}catch(Ft){throw Ft}finally{y.hashAddNode(G)}}},rmdir:o=>{var a=y.lookupPath(o,{parent:!0}),u=a.node,f=Ct.basename(o),d=y.lookupNode(u,f),g=y.mayDelete(u,f,!0);if(g)throw new y.ErrnoError(g);if(!u.node_ops.rmdir)throw new y.ErrnoError(63);if(y.isMountpoint(d))throw new y.ErrnoError(10);u.node_ops.rmdir(u,f),y.destroyNode(d)},readdir:o=>{var a=y.lookupPath(o,{follow:!0}),u=a.node;if(!u.node_ops.readdir)throw new y.ErrnoError(54);return u.node_ops.readdir(u)},unlink:o=>{var a=y.lookupPath(o,{parent:!0}),u=a.node;if(!u)throw new y.ErrnoError(44);var f=Ct.basename(o),d=y.lookupNode(u,f),g=y.mayDelete(u,f,!1);if(g)throw new y.ErrnoError(g);if(!u.node_ops.unlink)throw new y.ErrnoError(63);if(y.isMountpoint(d))throw new y.ErrnoError(10);u.node_ops.unlink(u,f),y.destroyNode(d)},readlink:o=>{var a=y.lookupPath(o),u=a.node;if(!u)throw new y.ErrnoError(44);if(!u.node_ops.readlink)throw new y.ErrnoError(28);return pe.resolve(y.getPath(u.parent),u.node_ops.readlink(u))},stat:(o,a)=>{var u=y.lookupPath(o,{follow:!a}),f=u.node;if(!f)throw new y.ErrnoError(44);if(!f.node_ops.getattr)throw new y.ErrnoError(63);return f.node_ops.getattr(f)},lstat:o=>y.stat(o,!0),chmod:(o,a,u)=>{var f;if(typeof o=="string"){var d=y.lookupPath(o,{follow:!u});f=d.node}else f=o;if(!f.node_ops.setattr)throw new y.ErrnoError(63);f.node_ops.setattr(f,{mode:a&4095|f.mode&-4096,timestamp:Date.now()})},lchmod:(o,a)=>{y.chmod(o,a,!0)},fchmod:(o,a)=>{var u=y.getStream(o);if(!u)throw new y.ErrnoError(8);y.chmod(u.node,a)},chown:(o,a,u,f)=>{var d;if(typeof o=="string"){var g=y.lookupPath(o,{follow:!f});d=g.node}else d=o;if(!d.node_ops.setattr)throw new y.ErrnoError(63);d.node_ops.setattr(d,{timestamp:Date.now()})},lchown:(o,a,u)=>{y.chown(o,a,u,!0)},fchown:(o,a,u)=>{var f=y.getStream(o);if(!f)throw new y.ErrnoError(8);y.chown(f.node,a,u)},truncate:(o,a)=>{if(a<0)throw new y.ErrnoError(28);var u;if(typeof o=="string"){var f=y.lookupPath(o,{follow:!0});u=f.node}else u=o;if(!u.node_ops.setattr)throw new y.ErrnoError(63);if(y.isDir(u.mode))throw new y.ErrnoError(31);if(!y.isFile(u.mode))throw new y.ErrnoError(28);var d=y.nodePermissions(u,"w");if(d)throw new y.ErrnoError(d);u.node_ops.setattr(u,{size:a,timestamp:Date.now()})},ftruncate:(o,a)=>{var u=y.getStream(o);if(!u)throw new y.ErrnoError(8);if((u.flags&2097155)===0)throw new y.ErrnoError(28);y.truncate(u.node,a)},utime:(o,a,u)=>{var f=y.lookupPath(o,{follow:!0}),d=f.node;d.node_ops.setattr(d,{timestamp:Math.max(a,u)})},open:(o,a,u)=>{if(o==="")throw new y.ErrnoError(44);a=typeof a=="string"?y.modeStringToFlags(a):a,u=typeof u>"u"?438:u,a&64?u=u&4095|32768:u=0;var f;if(typeof o=="object")f=o;else{o=Ct.normalize(o);try{var d=y.lookupPath(o,{follow:!(a&131072)});f=d.node}catch{}}var g=!1;if(a&64)if(f){if(a&128)throw new y.ErrnoError(20)}else f=y.mknod(o,u,0),g=!0;if(!f)throw new y.ErrnoError(44);if(y.isChrdev(f.mode)&&(a&=-513),a&65536&&!y.isDir(f.mode))throw new y.ErrnoError(54);if(!g){var _=y.mayOpen(f,a);if(_)throw new y.ErrnoError(_)}a&512&&!g&&y.truncate(f,0),a&=-131713;var O=y.createStream({node:f,path:y.getPath(f),flags:a,seekable:!0,position:0,stream_ops:f.stream_ops,ungotten:[],error:!1});return O.stream_ops.open&&O.stream_ops.open(O),F.logReadFiles&&!(a&1)&&(y.readFiles||(y.readFiles={}),o in y.readFiles||(y.readFiles[o]=1)),O},close:o=>{if(y.isClosed(o))throw new y.ErrnoError(8);o.getdents&&(o.getdents=null);try{o.stream_ops.close&&o.stream_ops.close(o)}catch(a){throw a}finally{y.closeStream(o.fd)}o.fd=null},isClosed:o=>o.fd===null,llseek:(o,a,u)=>{if(y.isClosed(o))throw new y.ErrnoError(8);if(!o.seekable||!o.stream_ops.llseek)throw new y.ErrnoError(70);if(u!=0&&u!=1&&u!=2)throw new y.ErrnoError(28);return o.position=o.stream_ops.llseek(o,a,u),o.ungotten=[],o.position},read:(o,a,u,f,d)=>{if(u>>>=0,f<0||d<0)throw new y.ErrnoError(28);if(y.isClosed(o))throw new y.ErrnoError(8);if((o.flags&2097155)===1)throw new y.ErrnoError(8);if(y.isDir(o.node.mode))throw new y.ErrnoError(31);if(!o.stream_ops.read)throw new y.ErrnoError(28);var g=typeof d<"u";if(!g)d=o.position;else if(!o.seekable)throw new y.ErrnoError(70);var _=o.stream_ops.read(o,a,u,f,d);return g||(o.position+=_),_},write:(o,a,u,f,d,g)=>{if(u>>>=0,f<0||d<0)throw new y.ErrnoError(28);if(y.isClosed(o))throw new y.ErrnoError(8);if((o.flags&2097155)===0)throw new y.ErrnoError(8);if(y.isDir(o.node.mode))throw new y.ErrnoError(31);if(!o.stream_ops.write)throw new y.ErrnoError(28);o.seekable&&o.flags&1024&&y.llseek(o,0,2);var _=typeof d<"u";if(!_)d=o.position;else if(!o.seekable)throw new y.ErrnoError(70);var O=o.stream_ops.write(o,a,u,f,d,g);return _||(o.position+=O),O},allocate:(o,a,u)=>{if(y.isClosed(o))throw new y.ErrnoError(8);if(a<0||u<=0)throw new y.ErrnoError(28);if((o.flags&2097155)===0)throw new y.ErrnoError(8);if(!y.isFile(o.node.mode)&&!y.isDir(o.node.mode))throw new y.ErrnoError(43);if(!o.stream_ops.allocate)throw new y.ErrnoError(138);o.stream_ops.allocate(o,a,u)},mmap:(o,a,u,f,d)=>{if((f&2)!==0&&(d&2)===0&&(o.flags&2097155)!==2)throw new y.ErrnoError(2);if((o.flags&2097155)===1)throw new y.ErrnoError(2);if(!o.stream_ops.mmap)throw new y.ErrnoError(43);return o.stream_ops.mmap(o,a,u,f,d)},msync:(o,a,u,f,d)=>(u>>>=0,o.stream_ops.msync?o.stream_ops.msync(o,a,u,f,d):0),munmap:o=>0,ioctl:(o,a,u)=>{if(!o.stream_ops.ioctl)throw new y.ErrnoError(59);return o.stream_ops.ioctl(o,a,u)},readFile:(o,a={})=>{if(a.flags=a.flags||0,a.encoding=a.encoding||"binary",a.encoding!=="utf8"&&a.encoding!=="binary")throw new Error('Invalid encoding type "'+a.encoding+'"');var u,f=y.open(o,a.flags),d=y.stat(o),g=d.size,_=new Uint8Array(g);return y.read(f,_,0,g,0),a.encoding==="utf8"?u=K(_,0):a.encoding==="binary"&&(u=_),y.close(f),u},writeFile:(o,a,u={})=>{u.flags=u.flags||577;var f=y.open(o,u.flags,u.mode);if(typeof a=="string"){var d=new Uint8Array(At(a)+1),g=bt(a,d,0,d.length);y.write(f,d,0,g,void 0,u.canOwn)}else if(ArrayBuffer.isView(a))y.write(f,a,0,a.byteLength,void 0,u.canOwn);else throw new Error("Unsupported data type");y.close(f)},cwd:()=>y.currentPath,chdir:o=>{var a=y.lookupPath(o,{follow:!0});if(a.node===null)throw new y.ErrnoError(44);if(!y.isDir(a.node.mode))throw new y.ErrnoError(54);var u=y.nodePermissions(a.node,"x");if(u)throw new y.ErrnoError(u);y.currentPath=a.path},createDefaultDirectories:()=>{y.mkdir("/tmp"),y.mkdir("/home"),y.mkdir("/home/web_user")},createDefaultDevices:()=>{y.mkdir("/dev"),y.registerDevice(y.makedev(1,3),{read:()=>0,write:(a,u,f,d,g)=>d}),y.mkdev("/dev/null",y.makedev(1,3)),xe.register(y.makedev(5,0),xe.default_tty_ops),xe.register(y.makedev(6,0),xe.default_tty1_ops),y.mkdev("/dev/tty",y.makedev(5,0)),y.mkdev("/dev/tty1",y.makedev(6,0));var o=We();y.createDevice("/dev","random",o),y.createDevice("/dev","urandom",o),y.mkdir("/dev/shm"),y.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{y.mkdir("/proc");var o=y.mkdir("/proc/self");y.mkdir("/proc/self/fd"),y.mount({mount:()=>{var a=y.createNode(o,"fd",16895,73);return a.node_ops={lookup:(u,f)=>{var d=+f,g=y.getStream(d);if(!g)throw new y.ErrnoError(8);var _={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>g.path}};return _.parent=_,_}},a}},{},"/proc/self/fd")},createStandardStreams:()=>{F.stdin?y.createDevice("/dev","stdin",F.stdin):y.symlink("/dev/tty","/dev/stdin"),F.stdout?y.createDevice("/dev","stdout",null,F.stdout):y.symlink("/dev/tty","/dev/stdout"),F.stderr?y.createDevice("/dev","stderr",null,F.stderr):y.symlink("/dev/tty1","/dev/stderr"),y.open("/dev/stdin",0),y.open("/dev/stdout",1),y.open("/dev/stderr",1)},ensureErrnoError:()=>{y.ErrnoError||(y.ErrnoError=function(a,u){this.name="ErrnoError",this.node=u,this.setErrno=function(f){this.errno=f},this.setErrno(a),this.message="FS error"},y.ErrnoError.prototype=new Error,y.ErrnoError.prototype.constructor=y.ErrnoError,[44].forEach(o=>{y.genericErrors[o]=new y.ErrnoError(o),y.genericErrors[o].stack="<generic error, no stack>"}))},staticInit:()=>{y.ensureErrnoError(),y.nameTable=new Array(4096),y.mount(Jt,{},"/"),y.createDefaultDirectories(),y.createDefaultDevices(),y.createSpecialDirectories(),y.filesystems={MEMFS:Jt}},init:(o,a,u)=>{y.init.initialized=!0,y.ensureErrnoError(),F.stdin=o||F.stdin,F.stdout=a||F.stdout,F.stderr=u||F.stderr,y.createStandardStreams()},quit:()=>{y.init.initialized=!1,Ur(0);for(var o=0;o<y.streams.length;o++){var a=y.streams[o];a&&y.close(a)}},getMode:(o,a)=>{var u=0;return o&&(u|=365),a&&(u|=146),u},findObject:(o,a)=>{var u=y.analyzePath(o,a);return u.exists?u.object:null},analyzePath:(o,a)=>{try{var u=y.lookupPath(o,{follow:!a});o=u.path}catch{}var f={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=y.lookupPath(o,{parent:!0});f.parentExists=!0,f.parentPath=u.path,f.parentObject=u.node,f.name=Ct.basename(o),u=y.lookupPath(o,{follow:!a}),f.exists=!0,f.path=u.path,f.object=u.node,f.name=u.node.name,f.isRoot=u.path==="/"}catch(d){f.error=d.errno}return f},createPath:(o,a,u,f)=>{o=typeof o=="string"?o:y.getPath(o);for(var d=a.split("/").reverse();d.length;){var g=d.pop();if(g){var _=Ct.join2(o,g);try{y.mkdir(_)}catch{}o=_}}return _},createFile:(o,a,u,f,d)=>{var g=Ct.join2(typeof o=="string"?o:y.getPath(o),a),_=y.getMode(f,d);return y.create(g,_)},createDataFile:(o,a,u,f,d,g)=>{var _=a;o&&(o=typeof o=="string"?o:y.getPath(o),_=a?Ct.join2(o,a):o);var O=y.getMode(f,d),z=y.create(_,O);if(u){if(typeof u=="string"){for(var G=new Array(u.length),it=0,gt=u.length;it<gt;++it)G[it]=u.charCodeAt(it);u=G}y.chmod(z,O|146);var ct=y.open(z,577);y.write(ct,u,0,u.length,0,g),y.close(ct),y.chmod(z,O)}return z},createDevice:(o,a,u,f)=>{var d=Ct.join2(typeof o=="string"?o:y.getPath(o),a),g=y.getMode(!!u,!!f);y.createDevice.major||(y.createDevice.major=64);var _=y.makedev(y.createDevice.major++,0);return y.registerDevice(_,{open:O=>{O.seekable=!1},close:O=>{f&&f.buffer&&f.buffer.length&&f(10)},read:(O,z,G,it,gt)=>{for(var ct=0,ot=0;ot<it;ot++){var Ft;try{Ft=u()}catch{throw new y.ErrnoError(29)}if(Ft===void 0&&ct===0)throw new y.ErrnoError(6);if(Ft==null)break;ct++,z[G+ot]=Ft}return ct&&(O.node.timestamp=Date.now()),ct},write:(O,z,G,it,gt)=>{for(var ct=0;ct<it;ct++)try{f(z[G+ct])}catch{throw new y.ErrnoError(29)}return it&&(O.node.timestamp=Date.now()),ct}}),y.mkdev(d,g,_)},forceLoadFile:o=>{if(o.isDevice||o.isFolder||o.link||o.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(B)try{o.contents=Ye(B(o.url),!0),o.usedBytes=o.contents.length}catch{throw new y.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(o,a,u,f,d)=>{function g(){this.lengthKnown=!1,this.chunks=[]}if(g.prototype.get=function(ot){if(!(ot>this.length-1||ot<0)){var Ft=ot%this.chunkSize,re=ot/this.chunkSize|0;return this.getter(re)[Ft]}},g.prototype.setDataGetter=function(ot){this.getter=ot},g.prototype.cacheLength=function(){var ot=new XMLHttpRequest;if(ot.open("HEAD",u,!1),ot.send(null),!(ot.status>=200&&ot.status<300||ot.status===304))throw new Error("Couldn't load "+u+". Status: "+ot.status);var Ft=Number(ot.getResponseHeader("Content-length")),re,Yt=(re=ot.getResponseHeader("Accept-Ranges"))&&re==="bytes",he=(re=ot.getResponseHeader("Content-Encoding"))&&re==="gzip",ut=1024*1024;Yt||(ut=Ft);var Rt=(ye,tr)=>{if(ye>tr)throw new Error("invalid range ("+ye+", "+tr+") or no bytes requested!");if(tr>Ft-1)throw new Error("only "+Ft+" bytes available! programmer error!");var De=new XMLHttpRequest;if(De.open("GET",u,!1),Ft!==ut&&De.setRequestHeader("Range","bytes="+ye+"-"+tr),De.responseType="arraybuffer",De.overrideMimeType&&De.overrideMimeType("text/plain; charset=x-user-defined"),De.send(null),!(De.status>=200&&De.status<300||De.status===304))throw new Error("Couldn't load "+u+". Status: "+De.status);return De.response!==void 0?new Uint8Array(De.response||[]):Ye(De.responseText||"",!0)},Te=this;Te.setDataGetter(ye=>{var tr=ye*ut,De=(ye+1)*ut-1;if(De=Math.min(De,Ft-1),typeof Te.chunks[ye]>"u"&&(Te.chunks[ye]=Rt(tr,De)),typeof Te.chunks[ye]>"u")throw new Error("doXHR failed!");return Te.chunks[ye]}),(he||!Ft)&&(ut=Ft=1,Ft=this.getter(0).length,ut=Ft,X("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ft,this._chunkSize=ut,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!S)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _=new g;Object.defineProperties(_,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var O={isDevice:!1,contents:_}}else var O={isDevice:!1,url:u};var z=y.createFile(o,a,O,f,d);O.contents?z.contents=O.contents:O.url&&(z.contents=null,z.url=O.url),Object.defineProperties(z,{usedBytes:{get:function(){return this.contents.length}}});var G={},it=Object.keys(z.stream_ops);it.forEach(ct=>{var ot=z.stream_ops[ct];G[ct]=function(){return y.forceLoadFile(z),ot.apply(null,arguments)}});function gt(ct,ot,Ft,re,Yt){var he=ct.node.contents;if(Yt>=he.length)return 0;var ut=Math.min(he.length-Yt,re);if(he.slice)for(var Rt=0;Rt<ut;Rt++)ot[Ft+Rt]=he[Yt+Rt];else for(var Rt=0;Rt<ut;Rt++)ot[Ft+Rt]=he.get(Yt+Rt);return ut}return G.read=(ct,ot,Ft,re,Yt)=>(y.forceLoadFile(z),gt(ct,ot,Ft,re,Yt)),G.mmap=(ct,ot,Ft,re,Yt)=>{y.forceLoadFile(z);var he=dn(ot);if(!he)throw new y.ErrnoError(48);return gt(ct,Bt,he,ot,Ft),{ptr:he,allocated:!0}},z.stream_ops=G,z},createPreloadedFile:(o,a,u,f,d,g,_,O,z,G)=>{var it=a?pe.resolve(Ct.join2(o,a)):o;function gt(ct){function ot(Ft){G&&G(),O||y.createDataFile(o,a,Ft,f,d,z),g&&g(),v()}Browser.handledByPreloadPlugin(ct,it,ot,()=>{_&&_(),v()})||ot(ct)}I(),typeof u=="string"?An(u,ct=>gt(ct),_):gt(u)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(o,a=(()=>{}),u=(()=>{}))=>{var f=y.indexedDB();try{var d=f.open(y.DB_NAME(),y.DB_VERSION)}catch(g){return u(g)}d.onupgradeneeded=()=>{X("creating db");var g=d.result;g.createObjectStore(y.DB_STORE_NAME)},d.onsuccess=()=>{var g=d.result,_=g.transaction([y.DB_STORE_NAME],"readwrite"),O=_.objectStore(y.DB_STORE_NAME),z=0,G=0,it=o.length;function gt(){G==0?a():u()}o.forEach(ct=>{var ot=O.put(y.analyzePath(ct).object.contents,ct);ot.onsuccess=()=>{z++,z+G==it&&gt()},ot.onerror=()=>{G++,z+G==it&&gt()}}),_.onerror=u},d.onerror=u},loadFilesFromDB:(o,a=(()=>{}),u=(()=>{}))=>{var f=y.indexedDB();try{var d=f.open(y.DB_NAME(),y.DB_VERSION)}catch(g){return u(g)}d.onupgradeneeded=u,d.onsuccess=()=>{var g=d.result;try{var _=g.transaction([y.DB_STORE_NAME],"readonly")}catch(ct){u(ct);return}var O=_.objectStore(y.DB_STORE_NAME),z=0,G=0,it=o.length;function gt(){G==0?a():u()}o.forEach(ct=>{var ot=O.get(ct);ot.onsuccess=()=>{y.analyzePath(ct).exists&&y.unlink(ct),y.createDataFile(Ct.dirname(ct),Ct.basename(ct),ot.result,!0,!0,!0),z++,z+G==it&&gt()},ot.onerror=()=>{G++,z+G==it&&gt()}}),_.onerror=u},d.onerror=u}},Pt={DEFAULT_POLLMASK:5,calculateAt:function(o,a,u){if(Ct.isAbs(a))return a;var f;if(o===-100)f=y.cwd();else{var d=Pt.getStreamFromFD(o);f=d.path}if(a.length==0){if(!u)throw new y.ErrnoError(44);return f}return Ct.join2(f,a)},doStat:function(o,a,u){try{var f=o(a)}catch(O){if(O&&O.node&&Ct.normalize(a)!==Ct.normalize(y.getPath(O.node)))return-54;throw O}T[u>>>2]=f.dev,T[u+8>>>2]=f.ino,T[u+12>>>2]=f.mode,W[u+16>>>2]=f.nlink,T[u+20>>>2]=f.uid,T[u+24>>>2]=f.gid,T[u+28>>>2]=f.rdev,de=[f.size>>>0,(Mt=f.size,+Math.abs(Mt)>=1?Mt>0?(Math.min(+Math.floor(Mt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Mt-+(~~Mt>>>0))/4294967296)>>>0:0)],T[u+40>>>2]=de[0],T[u+44>>>2]=de[1],T[u+48>>>2]=4096,T[u+52>>>2]=f.blocks;var d=f.atime.getTime(),g=f.mtime.getTime(),_=f.ctime.getTime();return de=[Math.floor(d/1e3)>>>0,(Mt=Math.floor(d/1e3),+Math.abs(Mt)>=1?Mt>0?(Math.min(+Math.floor(Mt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Mt-+(~~Mt>>>0))/4294967296)>>>0:0)],T[u+56>>>2]=de[0],T[u+60>>>2]=de[1],W[u+64>>>2]=d%1e3*1e3,de=[Math.floor(g/1e3)>>>0,(Mt=Math.floor(g/1e3),+Math.abs(Mt)>=1?Mt>0?(Math.min(+Math.floor(Mt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Mt-+(~~Mt>>>0))/4294967296)>>>0:0)],T[u+72>>>2]=de[0],T[u+76>>>2]=de[1],W[u+80>>>2]=g%1e3*1e3,de=[Math.floor(_/1e3)>>>0,(Mt=Math.floor(_/1e3),+Math.abs(Mt)>=1?Mt>0?(Math.min(+Math.floor(Mt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Mt-+(~~Mt>>>0))/4294967296)>>>0:0)],T[u+88>>>2]=de[0],T[u+92>>>2]=de[1],W[u+96>>>2]=_%1e3*1e3,de=[f.ino>>>0,(Mt=f.ino,+Math.abs(Mt)>=1?Mt>0?(Math.min(+Math.floor(Mt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Mt-+(~~Mt>>>0))/4294967296)>>>0:0)],T[u+104>>>2]=de[0],T[u+108>>>2]=de[1],0},doMsync:function(o,a,u,f,d){if(!y.isFile(a.node.mode))throw new y.ErrnoError(43);if(f&2)return 0;o>>>=0;var g=Xt.slice(o,o+u);y.msync(a,g,d,u,f)},varargs:void 0,get:function(){Pt.varargs+=4;var o=T[Pt.varargs-4>>>2];return o},getStr:function(o){var a=ft(o);return a},getStreamFromFD:function(o){var a=y.getStream(o);if(!a)throw new y.ErrnoError(8);return a}};function Ai(o){try{return o=Pt.getStr(o),y.chdir(o),0}catch(a){if(typeof y>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Ci(o,a){try{return o=Pt.getStr(o),y.chmod(o,a),0}catch(u){if(typeof y>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}var Ie={mount:function(o){return F.websocket=F.websocket&&typeof F.websocket=="object"?F.websocket:{},F.websocket._callbacks={},F.websocket.on=function(a,u){return typeof u=="function"&&(this._callbacks[a]=u),this},F.websocket.emit=function(a,u){typeof this._callbacks[a]=="function"&&this._callbacks[a].call(this,u)},y.createNode(null,"/",16895,0)},createSocket:function(o,a,u){a&=-526337;var f=a==1;if(f&&u&&u!=6)throw new y.ErrnoError(66);var d={family:o,type:a,protocol:u,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:Ie.websocket_sock_ops},g=Ie.nextname(),_=y.createNode(Ie.root,g,49152,0);_.sock=d;var O=y.createStream({path:g,node:_,flags:2,seekable:!1,stream_ops:Ie.stream_ops});return d.stream=O,d},getSocket:function(o){var a=y.getStream(o);return!a||!y.isSocket(a.node.mode)?null:a.node.sock},stream_ops:{poll:function(o){var a=o.node.sock;return a.sock_ops.poll(a)},ioctl:function(o,a,u){var f=o.node.sock;return f.sock_ops.ioctl(f,a,u)},read:function(o,a,u,f,d){var g=o.node.sock,_=g.sock_ops.recvmsg(g,f);return _?(a.set(_.buffer,u),_.buffer.length):0},write:function(o,a,u,f,d){var g=o.node.sock;return g.sock_ops.sendmsg(g,a,u,f)},close:function(o){var a=o.node.sock;a.sock_ops.close(a)}},nextname:function(){return Ie.nextname.current||(Ie.nextname.current=0),"socket["+Ie.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(o,a,u){var f;if(typeof a=="object"&&(f=a,a=null,u=null),f)if(f._socket)a=f._socket.remoteAddress,u=f._socket.remotePort;else{var d=/ws[s]?:\/\/([^:]+):(\d+)/.exec(f.url);if(!d)throw new Error("WebSocket URL must be in the format ws(s)://address:port");a=d[1],u=parseInt(d[2],10)}else try{var g=F.websocket&&typeof F.websocket=="object",_="ws:#".replace("#","//");if(g&&typeof F.websocket.url=="string"&&(_=F.websocket.url),_==="ws://"||_==="wss://"){var O=a.split("/");_=_+O[0]+":"+u+"/"+O.slice(1).join("/")}var z="binary";g&&typeof F.websocket.subprotocol=="string"&&(z=F.websocket.subprotocol);var G=void 0;z!=="null"&&(z=z.replace(/^ +| +$/g,"").split(/ *, */),G=z),g&&F.websocket.subprotocol===null&&(z="null",G=void 0);var it;it=WebSocket,f=new it(_,G),f.binaryType="arraybuffer"}catch{throw new y.ErrnoError(23)}var gt={addr:a,port:u,socket:f,dgram_send_queue:[]};return Ie.websocket_sock_ops.addPeer(o,gt),Ie.websocket_sock_ops.handlePeerEvents(o,gt),o.type===2&&typeof o.sport<"u"&&gt.dgram_send_queue.push(new Uint8Array([255,255,255,255,112,111,114,116,(o.sport&65280)>>8,o.sport&255])),gt},getPeer:function(o,a,u){return o.peers[a+":"+u]},addPeer:function(o,a){o.peers[a.addr+":"+a.port]=a},removePeer:function(o,a){delete o.peers[a.addr+":"+a.port]},handlePeerEvents:function(o,a){var u=!0,f=function(){F.websocket.emit("open",o.stream.fd);try{for(var g=a.dgram_send_queue.shift();g;)a.socket.send(g),g=a.dgram_send_queue.shift()}catch{a.socket.close()}};function d(g){if(typeof g=="string"){var _=new TextEncoder;g=_.encode(g)}else{if(Vt(g.byteLength!==void 0),g.byteLength==0)return;g=new Uint8Array(g)}var O=u;if(u=!1,O&&g.length===10&&g[0]===255&&g[1]===255&&g[2]===255&&g[3]===255&&g[4]===112&&g[5]===111&&g[6]===114&&g[7]===116){var z=g[8]<<8|g[9];Ie.websocket_sock_ops.removePeer(o,a),a.port=z,Ie.websocket_sock_ops.addPeer(o,a);return}o.recv_queue.push({addr:a.addr,port:a.port,data:g}),F.websocket.emit("message",o.stream.fd)}h?(a.socket.on("open",f),a.socket.on("message",function(g,_){_&&d(new Uint8Array(g).buffer)}),a.socket.on("close",function(){F.websocket.emit("close",o.stream.fd)}),a.socket.on("error",function(g){o.error=14,F.websocket.emit("error",[o.stream.fd,o.error,"ECONNREFUSED: Connection refused"])})):(a.socket.onopen=f,a.socket.onclose=function(){F.websocket.emit("close",o.stream.fd)},a.socket.onmessage=function(_){d(_.data)},a.socket.onerror=function(g){o.error=14,F.websocket.emit("error",[o.stream.fd,o.error,"ECONNREFUSED: Connection refused"])})},poll:function(o){if(o.type===1&&o.server)return o.pending.length?65:0;var a=0,u=o.type===1?Ie.websocket_sock_ops.getPeer(o,o.daddr,o.dport):null;return(o.recv_queue.length||!u||u&&u.socket.readyState===u.socket.CLOSING||u&&u.socket.readyState===u.socket.CLOSED)&&(a|=65),(!u||u&&u.socket.readyState===u.socket.OPEN)&&(a|=4),(u&&u.socket.readyState===u.socket.CLOSING||u&&u.socket.readyState===u.socket.CLOSED)&&(a|=16),a},ioctl:function(o,a,u){switch(a){case 21531:var f=0;return o.recv_queue.length&&(f=o.recv_queue[0].data.length),T[u>>>2]=f,0;default:return 28}},close:function(o){if(o.server){try{o.server.close()}catch{}o.server=null}for(var a=Object.keys(o.peers),u=0;u<a.length;u++){var f=o.peers[a[u]];try{f.socket.close()}catch{}Ie.websocket_sock_ops.removePeer(o,f)}return 0},bind:function(o,a,u){if(typeof o.saddr<"u"||typeof o.sport<"u")throw new y.ErrnoError(28);if(o.saddr=a,o.sport=u,o.type===2){o.server&&(o.server.close(),o.server=null);try{o.sock_ops.listen(o,0)}catch(f){if(f.name!=="ErrnoError"||f.errno!==138)throw f}}},connect:function(o,a,u){if(o.server)throw new y.ErrnoError(138);if(typeof o.daddr<"u"&&typeof o.dport<"u"){var f=Ie.websocket_sock_ops.getPeer(o,o.daddr,o.dport);if(f)throw f.socket.readyState===f.socket.CONNECTING?new y.ErrnoError(7):new y.ErrnoError(30)}var d=Ie.websocket_sock_ops.createPeer(o,a,u);throw o.daddr=d.addr,o.dport=d.port,new y.ErrnoError(26)},listen:function(o,a){if(!h)throw new y.ErrnoError(138)},accept:function(o){if(!o.server||!o.pending.length)throw new y.ErrnoError(28);var a=o.pending.shift();return a.stream.flags=o.stream.flags,a},getname:function(o,a){var u,f;if(a){if(o.daddr===void 0||o.dport===void 0)throw new y.ErrnoError(53);u=o.daddr,f=o.dport}else u=o.saddr||0,f=o.sport||0;return{addr:u,port:f}},sendmsg:function(o,a,u,f,d,g){if(o.type===2){if((d===void 0||g===void 0)&&(d=o.daddr,g=o.dport),d===void 0||g===void 0)throw new y.ErrnoError(17)}else d=o.daddr,g=o.dport;var _=Ie.websocket_sock_ops.getPeer(o,d,g);if(o.type===1){if(!_||_.socket.readyState===_.socket.CLOSING||_.socket.readyState===_.socket.CLOSED)throw new y.ErrnoError(53);if(_.socket.readyState===_.socket.CONNECTING)throw new y.ErrnoError(6)}ArrayBuffer.isView(a)&&(u+=a.byteOffset,a=a.buffer);var O;if(O=a.slice(u,u+f),o.type===2&&(!_||_.socket.readyState!==_.socket.OPEN))return(!_||_.socket.readyState===_.socket.CLOSING||_.socket.readyState===_.socket.CLOSED)&&(_=Ie.websocket_sock_ops.createPeer(o,d,g)),_.dgram_send_queue.push(O),f;try{return _.socket.send(O),f}catch{throw new y.ErrnoError(28)}},recvmsg:function(o,a){if(o.type===1&&o.server)throw new y.ErrnoError(53);var u=o.recv_queue.shift();if(!u){if(o.type===1){var f=Ie.websocket_sock_ops.getPeer(o,o.daddr,o.dport);if(!f)throw new y.ErrnoError(53);if(f.socket.readyState===f.socket.CLOSING||f.socket.readyState===f.socket.CLOSED)return null;throw new y.ErrnoError(6)}throw new y.ErrnoError(6)}var d=u.data.byteLength||u.data.length,g=u.data.byteOffset||0,_=u.data.buffer||u.data,O=Math.min(a,d),z={buffer:new Uint8Array(_,g,O),addr:u.addr,port:u.port};if(o.type===1&&O<d){var G=d-O;u.data=new Uint8Array(_,g+O,G),o.recv_queue.unshift(u)}return z}}};function Zr(o){var a=Ie.getSocket(o);if(!a)throw new y.ErrnoError(8);return a}function Cn(o){return T[ri()>>>2]=o,o}function xn(o){return(o&255)+"."+(o>>8&255)+"."+(o>>16&255)+"."+(o>>24&255)}function xi(o){var a="",u=0,f=0,d=0,g=0,_=0,O=0,z=[o[0]&65535,o[0]>>16,o[1]&65535,o[1]>>16,o[2]&65535,o[2]>>16,o[3]&65535,o[3]>>16],G=!0,it="";for(O=0;O<5;O++)if(z[O]!==0){G=!1;break}if(G){if(it=xn(z[6]|z[7]<<16),z[5]===-1)return a="::ffff:",a+=it,a;if(z[5]===0)return a="::",it==="0.0.0.0"&&(it=""),it==="0.0.0.1"&&(it="1"),a+=it,a}for(u=0;u<8;u++)z[u]===0&&(u-d>1&&(_=0),d=u,_++),_>f&&(f=_,g=u-f+1);for(u=0;u<8;u++){if(f>1&&z[u]===0&&u>=g&&u<g+f){u===g&&(a+=":",g===0&&(a+=":"));continue}a+=Number(nn(z[u]&65535)).toString(16),a+=u<7?":":""}return a}function Mi(o,a){var u=xt[o>>>1],f=nn(Ee[o+2>>>1]),d;switch(u){case 2:if(a!==16)return{errno:28};d=T[o+4>>>2],d=xn(d);break;case 10:if(a!==28)return{errno:28};d=[T[o+8>>>2],T[o+12>>>2],T[o+16>>>2],T[o+20>>>2]],d=xi(d);break;default:return{errno:5}}return{family:u,addr:d,port:f}}function yn(o){for(var a=o.split("."),u=0;u<4;u++){var f=Number(a[u]);if(isNaN(f))return null;a[u]=f}return(a[0]|a[1]<<8|a[2]<<16|a[3]<<24)>>>0}function qr(o){return parseInt(o)}function Mn(o){var a,u,f,d,g=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,_=[];if(!g.test(o))return null;if(o==="::")return[0,0,0,0,0,0,0,0];for(o.startsWith("::")?o=o.replace("::","Z:"):o=o.replace("::",":Z:"),o.indexOf(".")>0?(o=o.replace(new RegExp("[.]","g"),":"),a=o.split(":"),a[a.length-4]=qr(a[a.length-4])+qr(a[a.length-3])*256,a[a.length-3]=qr(a[a.length-2])+qr(a[a.length-1])*256,a=a.slice(0,a.length-2)):a=o.split(":"),f=0,d=0,u=0;u<a.length;u++)if(typeof a[u]=="string")if(a[u]==="Z"){for(d=0;d<8-a.length+1;d++)_[u+d]=0;f=d-1}else _[u+f]=Ue(parseInt(a[u],16));else _[u+f]=a[u];return[_[1]<<16|_[0],_[3]<<16|_[2],_[5]<<16|_[4],_[7]<<16|_[6]]}var rr={address_map:{id:1,addrs:{},names:{}},lookup_name:function(o){var a=yn(o);if(a!==null||(a=Mn(o),a!==null))return o;var u;if(rr.address_map.addrs[o])u=rr.address_map.addrs[o];else{var f=rr.address_map.id++;Vt(f<65535,"exceeded max address mappings of 65535"),u="172.29."+(f&255)+"."+(f&65280),rr.address_map.names[u]=o,rr.address_map.addrs[o]=u}return u},lookup_addr:function(o){return rr.address_map.names[o]?rr.address_map.names[o]:null}};function Pn(o,a,u){if(u&&o===0)return null;var f=Mi(o,a);if(f.errno)throw new y.ErrnoError(f.errno);return f.addr=rr.lookup_addr(f.addr)||f.addr,f}function Pi(o,a,u){try{var f=Zr(o),d=Pn(a,u);return f.sock_ops.connect(f,d.addr,d.port),0}catch(g){if(typeof y>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Ui(o,a,u,f){try{if(a=Pt.getStr(a),a=Pt.calculateAt(o,a),u&-8)return-28;var d=y.lookupPath(a,{follow:!0}),g=d.node;if(!g)return-44;var _="";return u&4&&(_+="r"),u&2&&(_+="w"),u&1&&(_+="x"),_&&y.nodePermissions(g,_)?-2:0}catch(O){if(typeof y>"u"||O.name!=="ErrnoError")throw O;return-O.errno}}function Bi(o,a){try{return y.fchmod(o,a),0}catch(u){if(typeof y>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function ji(o,a,u){Pt.varargs=u;try{var f=Pt.getStreamFromFD(o);switch(a){case 0:{var d=Pt.get();if(d<0)return-28;var g;return g=y.createStream(f,d),g.fd}case 1:case 2:return 0;case 3:return f.flags;case 4:{var d=Pt.get();return f.flags|=d,0}case 5:{var d=Pt.get(),_=0;return xt[d+_>>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Cn(28),-1;default:return-28}}catch(O){if(typeof y>"u"||O.name!=="ErrnoError")throw O;return-O.errno}}function zi(o,a){try{var u=Pt.getStreamFromFD(o);return Pt.doStat(y.stat,u.path,a)}catch(f){if(typeof y>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function Hi(o,a,u){try{return o=Pt.getStr(o),T[u+4>>>2]=4096,T[u+40>>>2]=4096,T[u+8>>>2]=1e6,T[u+12>>>2]=5e5,T[u+16>>>2]=5e5,T[u+20>>>2]=y.nextInode,T[u+24>>>2]=1e6,T[u+28>>>2]=42,T[u+44>>>2]=2,T[u+36>>>2]=255,0}catch(f){if(typeof y>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function Wi(o,a,u){try{var f=Pt.getStreamFromFD(o);return Hi(0,a,u)}catch(d){if(typeof y>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function Yi(o,a){try{if(a===0)return-28;var u=y.cwd(),f=At(u)+1;return a<f?-68:(te(u,o,a),f)}catch(d){if(typeof y>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function Vi(o,a,u){try{var f=Pt.getStreamFromFD(o);f.getdents||(f.getdents=y.readdir(f.path));for(var d=280,g=0,_=y.llseek(f,0,1),O=Math.floor(_/d);O<f.getdents.length&&g+d<=u;){var z,G,it=f.getdents[O];if(it===".")z=f.node.id,G=4;else if(it===".."){var gt=y.lookupPath(f.path,{parent:!0});z=gt.node.id,G=4}else{var ct=y.lookupNode(f.node,it);z=ct.id,G=y.isChrdev(ct.mode)?2:y.isDir(ct.mode)?4:y.isLink(ct.mode)?10:8}de=[z>>>0,(Mt=z,+Math.abs(Mt)>=1?Mt>0?(Math.min(+Math.floor(Mt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Mt-+(~~Mt>>>0))/4294967296)>>>0:0)],T[a+g>>>2]=de[0],T[a+g+4>>>2]=de[1],de=[(O+1)*d>>>0,(Mt=(O+1)*d,+Math.abs(Mt)>=1?Mt>0?(Math.min(+Math.floor(Mt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Mt-+(~~Mt>>>0))/4294967296)>>>0:0)],T[a+g+8>>>2]=de[0],T[a+g+12>>>2]=de[1],xt[a+g+16>>>1]=280,Bt[a+g+18>>>0]=G,te(it,a+g+19,256),g+=d,O+=1}return y.llseek(f,O*d,0),g}catch(ot){if(typeof y>"u"||ot.name!=="ErrnoError")throw ot;return-ot.errno}}function Xi(o,a,u,f,d){try{var g=Zr(o);return a===1&&u===4?(T[f>>>2]=g.error,T[d>>>2]=4,g.error=null,0):-50}catch(_){if(typeof y>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Zi(o,a,u){Pt.varargs=u;try{var f=Pt.getStreamFromFD(o);switch(a){case 21509:case 21505:return f.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return f.tty?0:-59;case 21519:{if(!f.tty)return-59;var d=Pt.get();return T[d>>>2]=0,0}case 21520:return f.tty?-28:-59;case 21531:{var d=Pt.get();return y.ioctl(f,a,d)}case 21523:return f.tty?0:-59;case 21524:return f.tty?0:-59;default:return-28}}catch(g){if(typeof y>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function qi(o,a){try{return o=Pt.getStr(o),Pt.doStat(y.lstat,o,a)}catch(u){if(typeof y>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Gi(o,a,u){try{return a=Pt.getStr(a),a=Pt.calculateAt(o,a),a=Ct.normalize(a),a[a.length-1]==="/"&&(a=a.substr(0,a.length-1)),y.mkdir(a,u,0),0}catch(f){if(typeof y>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function Ki(o,a,u,f){try{a=Pt.getStr(a);var d=f&256,g=f&4096;return f=f&-6401,a=Pt.calculateAt(o,a,g),Pt.doStat(d?y.lstat:y.stat,a,u)}catch(_){if(typeof y>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function me(o,a,u,f){Pt.varargs=f;try{a=Pt.getStr(a),a=Pt.calculateAt(o,a);var d=f?Pt.get():0;return y.open(a,u,d).fd}catch(g){if(typeof y>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Ji(o,a,u){try{for(var f=0,d=0;d<a;d++){var g=o+8*d,_=T[g>>>2],O=xt[g+4>>>1],z=32,G=y.getStream(_);G&&(z=Pt.DEFAULT_POLLMASK,G.stream_ops.poll&&(z=G.stream_ops.poll(G))),z&=O|8|16,z&&f++,xt[g+6>>>1]=z}return f}catch(it){if(typeof y>"u"||it.name!=="ErrnoError")throw it;return-it.errno}}function Qi(o,a,u,f){try{if(a=Pt.getStr(a),a=Pt.calculateAt(o,a),f<=0)return-28;var d=y.readlink(a),g=Math.min(f,At(d)),_=Bt[u+g>>>0];return te(d,u,f+1),Bt[u+g>>>0]=_,g}catch(O){if(typeof y>"u"||O.name!=="ErrnoError")throw O;return-O.errno}}function Un(o,a,u,f,d){switch(a){case 2:u=yn(u),Or(o,16),d&&(T[d>>>2]=16),xt[o>>>1]=a,T[o+4>>>2]=u,xt[o+2>>>1]=Ue(f);break;case 10:u=Mn(u),Or(o,28),d&&(T[d>>>2]=28),T[o>>>2]=a,T[o+8>>>2]=u[0],T[o+12>>>2]=u[1],T[o+16>>>2]=u[2],T[o+20>>>2]=u[3],xt[o+2>>>1]=Ue(f);break;default:return 5}return 0}function Bn(o,a,u,f,d,g){try{var _=Zr(o),O=_.sock_ops.recvmsg(_,u);if(!O)return 0;if(d)var z=Un(d,_.family,rr.lookup_name(O.addr),O.port,g);return Xt.set(O.buffer,a>>>0),O.buffer.byteLength}catch(G){if(typeof y>"u"||G.name!=="ErrnoError")throw G;return-G.errno}}function $i(o,a,u,f){try{return a=Pt.getStr(a),f=Pt.getStr(f),a=Pt.calculateAt(o,a),f=Pt.calculateAt(u,f),y.rename(a,f),0}catch(d){if(typeof y>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function vn(o){try{return o=Pt.getStr(o),y.rmdir(o),0}catch(a){if(typeof y>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function jn(o,a,u,f,d,g){try{var _=Zr(o),O=Pn(d,g,!0);return O?_.sock_ops.sendmsg(_,Bt,a,u,O.addr,O.port):y.write(_.stream,Bt,a,u)}catch(z){if(typeof y>"u"||z.name!=="ErrnoError")throw z;return-z.errno}}function zn(o,a,u){try{var f=Ie.createSocket(o,a,u);return f.stream.fd}catch(d){if(typeof y>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function to(o,a){try{return o=Pt.getStr(o),Pt.doStat(y.stat,o,a)}catch(u){if(typeof y>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function eo(o,a){try{return o=Pt.getStr(o),a=Pt.getStr(a),y.symlink(o,a),0}catch(u){if(typeof y>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function ro(o,a,u){try{return a=Pt.getStr(a),a=Pt.calculateAt(o,a),u===0?y.unlink(a):u===512?y.rmdir(a):m("Invalid flags passed to unlinkat"),0}catch(f){if(typeof y>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}var no=!0;function io(){return no}function oo(){throw 1/0}function ao(o){return W[o>>>2]+T[o+4>>>2]*4294967296}function Mr(o){return o%4===0&&(o%100!==0||o%400===0)}var so=[0,31,60,91,121,152,182,213,244,274,305,335],uo=[0,31,59,90,120,151,181,212,243,273,304,334];function Hn(o){var a=Mr(o.getFullYear()),u=a?so:uo,f=u[o.getMonth()]+o.getDate()-1;return f}function co(o,a){var u=new Date(ao(o)*1e3);T[a>>>2]=u.getSeconds(),T[a+4>>>2]=u.getMinutes(),T[a+8>>>2]=u.getHours(),T[a+12>>>2]=u.getDate(),T[a+16>>>2]=u.getMonth(),T[a+20>>>2]=u.getFullYear()-1900,T[a+24>>>2]=u.getDay();var f=Hn(u)|0;T[a+28>>>2]=f,T[a+36>>>2]=-(u.getTimezoneOffset()*60);var d=new Date(u.getFullYear(),0,1),g=new Date(u.getFullYear(),6,1).getTimezoneOffset(),_=d.getTimezoneOffset(),O=(g!=_&&u.getTimezoneOffset()==Math.min(_,g))|0;T[a+32>>>2]=O}function fo(o){var a=new Date(T[o+20>>>2]+1900,T[o+16>>>2],T[o+12>>>2],T[o+8>>>2],T[o+4>>>2],T[o>>>2],0),u=T[o+32>>>2],f=a.getTimezoneOffset(),d=new Date(a.getFullYear(),0,1),g=new Date(a.getFullYear(),6,1).getTimezoneOffset(),_=d.getTimezoneOffset(),O=Math.min(_,g);if(u<0)T[o+32>>>2]=+(g!=_&&O==f);else if(u>0!=(O==f)){var z=Math.max(_,g),G=u>0?O:z;a.setTime(a.getTime()+(G-f)*6e4)}T[o+24>>>2]=a.getDay();var it=Hn(a)|0;return T[o+28>>>2]=it,T[o>>>2]=a.getSeconds(),T[o+4>>>2]=a.getMinutes(),T[o+8>>>2]=a.getHours(),T[o+12>>>2]=a.getDate(),T[o+16>>>2]=a.getMonth(),T[o+20>>>2]=a.getYear(),a.getTime()/1e3|0}function lo(o,a,u,f,d,g,_){try{var O=Pt.getStreamFromFD(f),z=y.mmap(O,o,d,a,u),G=z.ptr;return T[g>>>2]=z.allocated,G>>>=0,W[_>>>2]=G,0}catch(it){if(typeof y>"u"||it.name!=="ErrnoError")throw it;return-it.errno}}function ho(o,a,u,f,d,g){try{var _=Pt.getStreamFromFD(d);u&2&&Pt.doMsync(o,_,a,f,g),y.munmap(_)}catch(O){if(typeof y>"u"||O.name!=="ErrnoError")throw O;return-O.errno}}function po(o){if(o instanceof Xr||o=="unwind")return ht;j(1,o)}function Wn(o){ht=o,R()||(F.onExit&&F.onExit(o),Ht=!0),j(o,new Xr(o))}function mn(o,a){ht=o,R()||Lt(),Wn(o)}var Yn=mn,Gr;Gr=()=>performance.now();function Vn(o){var a=At(o)+1,u=ze(a);return u&&bt(o,Bt,u,a),u}function yo(o,a,u){var f=new Date().getFullYear(),d=new Date(f,0,1),g=new Date(f,6,1),_=d.getTimezoneOffset(),O=g.getTimezoneOffset(),z=Math.max(_,O);W[o>>>2]=z*60,T[a>>>2]=+(_!=O);function G(Ft){var re=Ft.toTimeString().match(/\(([A-Za-z ]+)\)$/);return re?re[1]:"GMT"}var it=G(d),gt=G(g),ct=Vn(it),ot=Vn(gt);O<_?(W[u>>>2]=ct,W[u+4>>>2]=ot):(W[u>>>2]=ot,W[u+4>>>2]=ct)}function Xn(){m("")}function vo(){return Date.now()}function gn(){return 4294901760}function mo(){return gn()}function go(o,a,u){Xt.copyWithin(o>>>0,a>>>0,a+u>>>0)}function wo(o){var a=tt.buffer;try{return tt.grow(o-a.byteLength+65535>>>16),lt(),1}catch{}}function _o(o){var a=Xt.length;o=o>>>0;var u=gn();if(o>u)return!1;let f=(z,G)=>z+(G-z%G)%G;for(var d=1;d<=4;d*=2){var g=a*(1+.2/d);g=Math.min(g,o+100663296);var _=Math.min(u,f(Math.max(o,g),65536)),O=wo(_);if(O)return!0}return!1}var Kr={};function Zn(){return C||"./this.program"}function Ir(){if(!Ir.strings){var o=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:o,_:Zn()};for(var u in Kr)Kr[u]===void 0?delete a[u]:a[u]=Kr[u];var f=[];for(var u in a)f.push(u+"="+a[u]);Ir.strings=f}return Ir.strings}function qn(o,a,u){for(var f=0;f<o.length;++f)Bt[a++>>>0]=o.charCodeAt(f);Bt[a>>>0]=0}function Gn(o,a){var u=0;return Ir().forEach(function(f,d){var g=a+u;W[o+d*4>>>2]=g,qn(f,g),u+=f.length+1}),0}function Jr(o,a){var u=Ir();W[o>>>2]=u.length;var f=0;return u.forEach(function(d){f+=d.length+1}),W[a>>>2]=f,0}function Eo(o){try{var a=Pt.getStreamFromFD(o);return y.close(a),0}catch(u){if(typeof y>"u"||u.name!=="ErrnoError")throw u;return u.errno}}function So(o,a){try{var u=Pt.getStreamFromFD(o),f=u.tty?2:y.isDir(u.mode)?3:y.isLink(u.mode)?7:4;return Bt[a>>>0]=f,0}catch(d){if(typeof y>"u"||d.name!=="ErrnoError")throw d;return d.errno}}function ko(o,a,u,f){for(var d=0,g=0;g<u;g++){var _=W[a>>>2],O=W[a+4>>>2];a+=8;var z=y.read(o,Bt,_,O,f);if(z<0)return-1;if(d+=z,z<O)break}return d}function Kn(o,a,u,f){try{var d=Pt.getStreamFromFD(o),g=ko(d,a,u);return W[f>>>2]=g,0}catch(_){if(typeof y>"u"||_.name!=="ErrnoError")throw _;return _.errno}}function bo(o,a){return a+2097152>>>0<4194305-!!o?(o>>>0)+a*4294967296:NaN}function Jn(o,a,u,f,d){try{var g=bo(a,u);if(isNaN(g))return 61;var _=Pt.getStreamFromFD(o);return y.llseek(_,g,f),de=[_.position>>>0,(Mt=_.position,+Math.abs(Mt)>=1?Mt>0?(Math.min(+Math.floor(Mt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Mt-+(~~Mt>>>0))/4294967296)>>>0:0)],T[d>>>2]=de[0],T[d+4>>>2]=de[1],_.getdents&&g===0&&f===0&&(_.getdents=null),0}catch(O){if(typeof y>"u"||O.name!=="ErrnoError")throw O;return O.errno}}function Qr(o,a,u,f){for(var d=0,g=0;g<u;g++){var _=W[a>>>2],O=W[a+4>>>2];a+=8;var z=y.write(o,Bt,_,O,f);if(z<0)return-1;d+=z}return d}function Ve(o,a,u,f){try{var d=Pt.getStreamFromFD(o),g=Qr(d,a,u);return W[f>>>2]=g,0}catch(_){if(typeof y>"u"||_.name!=="ErrnoError")throw _;return _.errno}}function Oo(o){var a=ze(20),u=ze(o.length+1);te(o,u,o.length+1),W[a>>>2]=u;var f=ze(4);W[f>>>2]=0,W[a+4>>>2]=f;var d=2;T[a+8>>>2]=d,T[a+12>>>2]=4;var g=ze(12);return W[g>>>2]=g+8,W[g+4>>>2]=0,T[g+8>>>2]=yn(rr.lookup_name(o)),W[a+16>>>2]=g,a}function Io(o){return Oo(ft(o))}function No(o){return o}function Fo(o,a){for(var u=0,f=0;f<=a;u+=o[f++]);return u}var Me=[31,29,31,30,31,30,31,31,30,31,30,31],Qn=[31,28,31,30,31,30,31,31,30,31,30,31];function $r(o,a){for(var u=new Date(o.getTime());a>0;){var f=Mr(u.getFullYear()),d=u.getMonth(),g=(f?Me:Qn)[d];if(a>g-u.getDate())a-=g-u.getDate()+1,u.setDate(1),d<11?u.setMonth(d+1):(u.setMonth(0),u.setFullYear(u.getFullYear()+1));else return u.setDate(u.getDate()+a),u}return u}function be(o,a){Bt.set(o,a>>>0)}function Do(o,a,u,f){var d=T[f+40>>>2],g={tm_sec:T[f>>>2],tm_min:T[f+4>>>2],tm_hour:T[f+8>>>2],tm_mday:T[f+12>>>2],tm_mon:T[f+16>>>2],tm_year:T[f+20>>>2],tm_wday:T[f+24>>>2],tm_yday:T[f+28>>>2],tm_isdst:T[f+32>>>2],tm_gmtoff:T[f+36>>>2],tm_zone:d?ft(d):""},_=ft(u),O={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var z in O)_=_.replace(new RegExp(z,"g"),O[z]);var G=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],it=["January","February","March","April","May","June","July","August","September","October","November","December"];function gt(ut,Rt,Te){for(var ye=typeof ut=="number"?ut.toString():ut||"";ye.length<Rt;)ye=Te[0]+ye;return ye}function ct(ut,Rt){return gt(ut,Rt,"0")}function ot(ut,Rt){function Te(tr){return tr<0?-1:tr>0?1:0}var ye;return(ye=Te(ut.getFullYear()-Rt.getFullYear()))===0&&(ye=Te(ut.getMonth()-Rt.getMonth()))===0&&(ye=Te(ut.getDate()-Rt.getDate())),ye}function Ft(ut){switch(ut.getDay()){case 0:return new Date(ut.getFullYear()-1,11,29);case 1:return ut;case 2:return new Date(ut.getFullYear(),0,3);case 3:return new Date(ut.getFullYear(),0,2);case 4:return new Date(ut.getFullYear(),0,1);case 5:return new Date(ut.getFullYear()-1,11,31);case 6:return new Date(ut.getFullYear()-1,11,30)}}function re(ut){var Rt=$r(new Date(ut.tm_year+1900,0,1),ut.tm_yday),Te=new Date(Rt.getFullYear(),0,4),ye=new Date(Rt.getFullYear()+1,0,4),tr=Ft(Te),De=Ft(ye);return ot(tr,Rt)<=0?ot(De,Rt)<=0?Rt.getFullYear()+1:Rt.getFullYear():Rt.getFullYear()-1}var Yt={"%a":function(ut){return G[ut.tm_wday].substring(0,3)},"%A":function(ut){return G[ut.tm_wday]},"%b":function(ut){return it[ut.tm_mon].substring(0,3)},"%B":function(ut){return it[ut.tm_mon]},"%C":function(ut){var Rt=ut.tm_year+1900;return ct(Rt/100|0,2)},"%d":function(ut){return ct(ut.tm_mday,2)},"%e":function(ut){return gt(ut.tm_mday,2," ")},"%g":function(ut){return re(ut).toString().substring(2)},"%G":function(ut){return re(ut)},"%H":function(ut){return ct(ut.tm_hour,2)},"%I":function(ut){var Rt=ut.tm_hour;return Rt==0?Rt=12:Rt>12&&(Rt-=12),ct(Rt,2)},"%j":function(ut){return ct(ut.tm_mday+Fo(Mr(ut.tm_year+1900)?Me:Qn,ut.tm_mon-1),3)},"%m":function(ut){return ct(ut.tm_mon+1,2)},"%M":function(ut){return ct(ut.tm_min,2)},"%n":function(){return`
`},"%p":function(ut){return ut.tm_hour>=0&&ut.tm_hour<12?"AM":"PM"},"%S":function(ut){return ct(ut.tm_sec,2)},"%t":function(){return"	"},"%u":function(ut){return ut.tm_wday||7},"%U":function(ut){var Rt=ut.tm_yday+7-ut.tm_wday;return ct(Math.floor(Rt/7),2)},"%V":function(ut){var Rt=Math.floor((ut.tm_yday+7-(ut.tm_wday+6)%7)/7);if((ut.tm_wday+371-ut.tm_yday-2)%7<=2&&Rt++,Rt){if(Rt==53){var ye=(ut.tm_wday+371-ut.tm_yday)%7;ye!=4&&(ye!=3||!Mr(ut.tm_year))&&(Rt=1)}}else{Rt=52;var Te=(ut.tm_wday+7-ut.tm_yday-1)%7;(Te==4||Te==5&&Mr(ut.tm_year%400-1))&&Rt++}return ct(Rt,2)},"%w":function(ut){return ut.tm_wday},"%W":function(ut){var Rt=ut.tm_yday+7-(ut.tm_wday+6)%7;return ct(Math.floor(Rt/7),2)},"%y":function(ut){return(ut.tm_year+1900).toString().substring(2)},"%Y":function(ut){return ut.tm_year+1900},"%z":function(ut){var Rt=ut.tm_gmtoff,Te=Rt>=0;return Rt=Math.abs(Rt)/60,Rt=Rt/60*100+Rt%60,(Te?"+":"-")+("0000"+Rt).slice(-4)},"%Z":function(ut){return ut.tm_zone},"%%":function(){return"%"}};_=_.replace(/%%/g,"\0\0");for(var z in Yt)_.includes(z)&&(_=_.replace(new RegExp(z,"g"),Yt[z](g)));_=_.replace(/\0\0/g,"%");var he=Ye(_,!1);return he.length>a?0:(be(he,o),he.length-1)}function tn(o,a,u,f,d){return Do(o,a,u,f)}function Nr(o){return o?(Cn(52),-1):0}function $n(o){var a=At(o)+1,u=Qe(a);return bt(o,Bt,u,a),u}var ti={},wn=function(o,a,u,f){o||(o=this),this.parent=o,this.mount=o.mount,this.mounted=null,this.id=y.nextInode++,this.name=a,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=f},dr=365,we=146;Object.defineProperties(wn.prototype,{read:{get:function(){return(this.mode&dr)===dr},set:function(o){o?this.mode|=dr:this.mode&=~dr}},write:{get:function(){return(this.mode&we)===we},set:function(o){o?this.mode|=we:this.mode&=~we}},isFolder:{get:function(){return y.isDir(this.mode)}},isDevice:{get:function(){return y.isChrdev(this.mode)}}}),y.FSNode=wn,y.staticInit(),ti={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var Ro={R:J,za:Nt,o:Ot,qb:Fe,rb:kr,w:Dt,a:ge,j:ae,p:Ae,D:je,ga:Ce,v:br,L:pr,e:hr,Oa:Ai,ka:Ci,pb:Pi,Pa:Ui,Ka:Bi,Q:ji,ja:zi,xb:Wi,Ga:Yi,ya:Vi,ob:Xi,Qa:Zi,Ha:qi,Fa:Gi,Ia:Ki,$:me,Aa:Ji,zb:Qi,nb:Bn,yb:$i,wa:vn,mb:jn,lb:zn,Ja:to,wb:eo,xa:ro,Ma:io,sb:oo,Da:co,Ea:fo,Ba:lo,Ca:ho,ub:yo,H:Xn,ia:vo,vb:mo,La:Gr,Na:go,tb:_o,Ra:Gn,Sa:Jr,P:Yn,T:Eo,ha:So,la:Kn,bb:Jn,aa:Ve,Ta:Io,B:mi,U:gi,ua:Ar,va:Je,z:Hr,Za:wi,c:zr,q:ui,G:ki,ea:_i,Ya:Co,ba:Po,O:bi,f:jr,pa:mr,h:Tr,k:bn,S:gr,r:sn,t:Ke,u:Lr,F:_e,M:oi,ra:Nn,W:pi,I:Ze,V:Yr,sa:ir,$a:hn,kb:or,db:Ni,ab:Fi,ib:zo,jb:sr,fb:Ho,gb:wr,l:On,da:Si,b:ai,A:Lo,na:Ao,oa:Ei,d:vr,ca:xo,Va:Uo,X:fn,ta:fi,g:kn,Ua:jo,Z:Oi,i:To,K:cn,n:si,ma:Bo,m:In,_a:yi,x:Zt,y:ci,Y:di,J:Wr,E:hi,C:li,Wa:Mo,_:Xe,qa:vi,fa:un,eb:Ii,hb:ln,cb:Cr,s:No,N:tn,Xa:Nr};fr();var en=function(){return(en=F.asm.Cb).apply(null,arguments)},ei=F._main=function(){return(ei=F._main=F.asm.Eb).apply(null,arguments)},ri=function(){return(ri=F.asm.Fb).apply(null,arguments)},ze=function(){return(ze=F.asm.Gb).apply(null,arguments)},Pr=function(){return(Pr=F.asm.Hb).apply(null,arguments)},Ur=F._fflush=function(){return(Ur=F._fflush=F.asm.Ib).apply(null,arguments)},Ue=function(){return(Ue=F.asm.Jb).apply(null,arguments)},nr=function(){return(nr=F.asm.Kb).apply(null,arguments)},rn=function(){return(rn=F.asm.Lb).apply(null,arguments)},nn=function(){return(nn=F.asm.Mb).apply(null,arguments)},kt=function(){return(kt=F.asm.Nb).apply(null,arguments)},wt=function(){return(wt=F.asm.Ob).apply(null,arguments)},yt=function(){return(yt=F.asm.Pb).apply(null,arguments)},Qe=function(){return(Qe=F.asm.Qb).apply(null,arguments)},_n=function(){return(_n=F.asm.Rb).apply(null,arguments)},En=function(){return(En=F.asm.Sb).apply(null,arguments)},Sn=F.dynCall_iij=function(){return(Sn=F.dynCall_iij=F.asm.Tb).apply(null,arguments)},ni=F.dynCall_viijii=function(){return(ni=F.dynCall_viijii=F.asm.Ub).apply(null,arguments)},ar=F.dynCall_jii=function(){return(ar=F.dynCall_jii=F.asm.Vb).apply(null,arguments)},yr=F.dynCall_ji=function(){return(yr=F.dynCall_ji=F.asm.Wb).apply(null,arguments)},on=F.dynCall_vij=function(){return(on=F.dynCall_vij=F.asm.Xb).apply(null,arguments)},Fr=F.dynCall_jiiii=function(){return(Fr=F.dynCall_jiiii=F.asm.Yb).apply(null,arguments)},Dr=F.dynCall_jiii=function(){return(Dr=F.dynCall_jiii=F.asm.Zb).apply(null,arguments)},an=F.dynCall_iiji=function(){return(an=F.dynCall_iiji=F.asm._b).apply(null,arguments)},ii=F.dynCall_viji=function(){return(ii=F.dynCall_viji=F.asm.$b).apply(null,arguments)},Br=F.dynCall_j=function(){return(Br=F.dynCall_j=F.asm.ac).apply(null,arguments)},Rr=F.dynCall_iiiiij=function(){return(Rr=F.dynCall_iiiiij=F.asm.bc).apply(null,arguments)};function kn(o,a,u,f){var d=wt();try{E(o)(a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function jr(o,a,u){var f=wt();try{return E(o)(a,u)}catch(d){if(yt(f),d!==d+0)throw d;kt(1,0)}}function vr(o,a,u){var f=wt();try{E(o)(a,u)}catch(d){if(yt(f),d!==d+0)throw d;kt(1,0)}}function zr(o,a){var u=wt();try{return E(o)(a)}catch(f){if(yt(u),f!==f+0)throw f;kt(1,0)}}function Tr(o,a,u,f){var d=wt();try{return E(o)(a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function oi(o,a,u,f,d,g,_,O,z,G){var it=wt();try{return E(o)(a,u,f,d,g,_,O,z,G)}catch(gt){if(yt(it),gt!==gt+0)throw gt;kt(1,0)}}function ai(o,a){var u=wt();try{E(o)(a)}catch(f){if(yt(u),f!==f+0)throw f;kt(1,0)}}function bn(o,a,u,f,d){var g=wt();try{return E(o)(a,u,f,d)}catch(_){if(yt(g),_!==_+0)throw _;kt(1,0)}}function To(o,a,u,f,d){var g=wt();try{E(o)(a,u,f,d)}catch(_){if(yt(g),_!==_+0)throw _;kt(1,0)}}function On(o){var a=wt();try{E(o)()}catch(u){if(yt(a),u!==u+0)throw u;kt(1,0)}}function si(o,a,u,f,d,g){var _=wt();try{E(o)(a,u,f,d,g)}catch(O){if(yt(_),O!==O+0)throw O;kt(1,0)}}function sn(o,a,u,f,d,g){var _=wt();try{return E(o)(a,u,f,d,g)}catch(O){if(yt(_),O!==O+0)throw O;kt(1,0)}}function Hr(o){var a=wt();try{return E(o)()}catch(u){if(yt(a),u!==u+0)throw u;kt(1,0)}}function Ke(o,a,u,f,d,g,_){var O=wt();try{return E(o)(a,u,f,d,g,_)}catch(z){if(yt(O),z!==z+0)throw z;kt(1,0)}}function Lr(o,a,u,f,d,g,_,O){var z=wt();try{return E(o)(a,u,f,d,g,_,O)}catch(G){if(yt(z),G!==G+0)throw G;kt(1,0)}}function ui(o,a,u){var f=wt();try{return E(o)(a,u)}catch(d){if(yt(f),d!==d+0)throw d;kt(1,0)}}function Lo(o,a,u){var f=wt();try{E(o)(a,u)}catch(d){if(yt(f),d!==d+0)throw d;kt(1,0)}}function ci(o,a,u,f,d,g,_,O,z){var G=wt();try{E(o)(a,u,f,d,g,_,O,z)}catch(it){if(yt(G),it!==it+0)throw it;kt(1,0)}}function fi(o,a,u,f,d){var g=wt();try{E(o)(a,u,f,d)}catch(_){if(yt(g),_!==_+0)throw _;kt(1,0)}}function In(o,a,u,f,d,g,_){var O=wt();try{E(o)(a,u,f,d,g,_)}catch(z){if(yt(O),z!==z+0)throw z;kt(1,0)}}function Wr(o,a,u,f,d,g,_,O,z,G,it){var gt=wt();try{E(o)(a,u,f,d,g,_,O,z,G,it)}catch(ct){if(yt(gt),ct!==ct+0)throw ct;kt(1,0)}}function Zt(o,a,u,f,d,g,_,O){var z=wt();try{E(o)(a,u,f,d,g,_,O)}catch(G){if(yt(z),G!==G+0)throw G;kt(1,0)}}function ir(o,a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft,re){var Yt=wt();try{return E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft,re)}catch(he){if(yt(Yt),he!==he+0)throw he;kt(1,0)}}function li(o,a,u,f,d,g,_,O,z,G,it,gt,ct,ot){var Ft=wt();try{E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct,ot)}catch(re){if(yt(Ft),re!==re+0)throw re;kt(1,0)}}function Ze(o,a,u,f,d,g,_,O,z,G,it,gt,ct){var ot=wt();try{return E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct)}catch(Ft){if(yt(ot),Ft!==Ft+0)throw Ft;kt(1,0)}}function hi(o,a,u,f,d,g,_,O,z,G,it,gt,ct){var ot=wt();try{E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct)}catch(Ft){if(yt(ot),Ft!==Ft+0)throw Ft;kt(1,0)}}function pi(o,a,u,f,d,g,_,O,z,G,it,gt){var ct=wt();try{return E(o)(a,u,f,d,g,_,O,z,G,it,gt)}catch(ot){if(yt(ct),ot!==ot+0)throw ot;kt(1,0)}}function Yr(o,a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft){var re=wt();try{return E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft)}catch(Yt){if(yt(re),Yt!==Yt+0)throw Yt;kt(1,0)}}function _e(o,a,u,f,d,g,_,O,z){var G=wt();try{return E(o)(a,u,f,d,g,_,O,z)}catch(it){if(yt(G),it!==it+0)throw it;kt(1,0)}}function Nn(o,a,u,f,d,g,_,O,z,G,it){var gt=wt();try{return E(o)(a,u,f,d,g,_,O,z,G,it)}catch(ct){if(yt(gt),ct!==ct+0)throw ct;kt(1,0)}}function un(o,a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft,re,Yt,he){var ut=wt();try{E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft,re,Yt,he)}catch(Rt){if(yt(ut),Rt!==Rt+0)throw Rt;kt(1,0)}}function cn(o,a,u,f,d,g,_,O,z,G,it){var gt=wt();try{E(o)(a,u,f,d,g,_,O,z,G,it)}catch(ct){if(yt(gt),ct!==ct+0)throw ct;kt(1,0)}}function di(o,a,u,f,d,g,_,O,z,G){var it=wt();try{E(o)(a,u,f,d,g,_,O,z,G)}catch(gt){if(yt(it),gt!==gt+0)throw gt;kt(1,0)}}function yi(o,a,u,f,d,g,_,O){var z=wt();try{E(o)(a,u,f,d,g,_,O)}catch(G){if(yt(z),G!==G+0)throw G;kt(1,0)}}function vi(o,a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft,re,Yt){var he=wt();try{E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft,re,Yt)}catch(ut){if(yt(he),ut!==ut+0)throw ut;kt(1,0)}}function mi(o,a){var u=wt();try{return E(o)(a)}catch(f){if(yt(u),f!==f+0)throw f;kt(1,0)}}function gi(o,a,u,f){var d=wt();try{return E(o)(a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function wi(o,a,u,f,d,g,_,O,z,G){var it=wt();try{return E(o)(a,u,f,d,g,_,O,z,G)}catch(gt){if(yt(it),gt!==gt+0)throw gt;kt(1,0)}}function _i(o,a,u,f,d,g,_,O,z,G){var it=wt();try{return E(o)(a,u,f,d,g,_,O,z,G)}catch(gt){if(yt(it),gt!==gt+0)throw gt;kt(1,0)}}function mr(o,a,u,f,d,g){var _=wt();try{return E(o)(a,u,f,d,g)}catch(O){if(yt(_),O!==O+0)throw O;kt(1,0)}}function gr(o,a,u,f,d,g){var _=wt();try{return E(o)(a,u,f,d,g)}catch(O){if(yt(_),O!==O+0)throw O;kt(1,0)}}function Ei(o,a,u,f){var d=wt();try{E(o)(a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function Si(o,a){var u=wt();try{E(o)(a)}catch(f){if(yt(u),f!==f+0)throw f;kt(1,0)}}function Ao(o,a,u,f,d){var g=wt();try{E(o)(a,u,f,d)}catch(_){if(yt(g),_!==_+0)throw _;kt(1,0)}}function Co(o,a,u,f,d,g){var _=wt();try{return E(o)(a,u,f,d,g)}catch(O){if(yt(_),O!==O+0)throw O;kt(1,0)}}function ki(o,a,u,f){var d=wt();try{return E(o)(a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function fn(o,a,u,f,d,g,_,O){var z=wt();try{E(o)(a,u,f,d,g,_,O)}catch(G){if(yt(z),G!==G+0)throw G;kt(1,0)}}function xo(o,a,u,f){var d=wt();try{E(o)(a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function Mo(o,a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft){var re=wt();try{E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft)}catch(Yt){if(yt(re),Yt!==Yt+0)throw Yt;kt(1,0)}}function Po(o,a,u,f,d){var g=wt();try{return E(o)(a,u,f,d)}catch(_){if(yt(g),_!==_+0)throw _;kt(1,0)}}function bi(o,a,u){var f=wt();try{return E(o)(a,u)}catch(d){if(yt(f),d!==d+0)throw d;kt(1,0)}}function Oi(o,a,u,f,d,g){var _=wt();try{E(o)(a,u,f,d,g)}catch(O){if(yt(_),O!==O+0)throw O;kt(1,0)}}function Uo(o,a,u,f,d,g,_,O,z,G,it,gt,ct){var ot=wt();try{E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct)}catch(Ft){if(yt(ot),Ft!==Ft+0)throw Ft;kt(1,0)}}function Bo(o,a,u,f,d,g,_,O){var z=wt();try{E(o)(a,u,f,d,g,_,O)}catch(G){if(yt(z),G!==G+0)throw G;kt(1,0)}}function jo(o,a,u,f,d,g){var _=wt();try{E(o)(a,u,f,d,g)}catch(O){if(yt(_),O!==O+0)throw O;kt(1,0)}}function Je(o,a,u,f){var d=wt();try{return E(o)(a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function Ar(o,a,u,f){var d=wt();try{return E(o)(a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function Xe(o,a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft,re){var Yt=wt();try{E(o)(a,u,f,d,g,_,O,z,G,it,gt,ct,ot,Ft,re)}catch(he){if(yt(Yt),he!==he+0)throw he;kt(1,0)}}function or(o,a,u,f){var d=wt();try{return Sn(o,a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function sr(o,a,u){var f=wt();try{return ar(o,a,u)}catch(d){if(yt(f),d!==d+0)throw d;kt(1,0)}}function zo(o,a){var u=wt();try{return yr(o,a)}catch(f){if(yt(u),f!==f+0)throw f;kt(1,0)}}function ln(o,a,u,f){var d=wt();try{on(o,a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function wr(o,a,u,f,d){var g=wt();try{return Fr(o,a,u,f,d)}catch(_){if(yt(g),_!==_+0)throw _;kt(1,0)}}function Ho(o,a,u,f){var d=wt();try{return Dr(o,a,u,f)}catch(g){if(yt(d),g!==g+0)throw g;kt(1,0)}}function Ii(o,a,u,f,d,g,_){var O=wt();try{ni(o,a,u,f,d,g,_)}catch(z){if(yt(O),z!==z+0)throw z;kt(1,0)}}function Ni(o,a,u,f,d){var g=wt();try{return an(o,a,u,f,d)}catch(_){if(yt(g),_!==_+0)throw _;kt(1,0)}}function Cr(o,a,u,f,d){var g=wt();try{ii(o,a,u,f,d)}catch(_){if(yt(g),_!==_+0)throw _;kt(1,0)}}function Fi(o){var a=wt();try{return Br(o)}catch(u){if(yt(a),u!==u+0)throw u;kt(1,0)}}function hn(o,a,u,f,d,g,_){var O=wt();try{return Rr(o,a,u,f,d,g,_)}catch(z){if(yt(O),z!==z+0)throw z;kt(1,0)}}F.callMain=xr,F.ENV=Kr,F.ERRNO_CODES=ti,F.PATH=Ct,F.FS=y;var Be;Re=function o(){Be||ie(),Be||(Re=o)};function xr(o=[]){var a=ei;o.unshift(C);var u=o.length,f=Qe((u+1)*4),d=f>>2;o.forEach(_=>{T[d++>>>0]=$n(_)}),T[d>>>0]=0;try{$+=1;var g=a(u,f);return mn(g,!0),g}catch(_){return po(_)}finally{$-=1}}function ie(o=Y){if(Se>0||(L(),Se>0))return;function a(){Be||(Be=!0,F.calledRun=!0,!Ht&&(at(),_t(),H(F),F.onRuntimeInitialized&&F.onRuntimeInitialized(),$e&&xr(o),Gt()))}F.setStatus?(F.setStatus("Running..."),setTimeout(function(){setTimeout(function(){F.setStatus("")},1),a()},1)):a()}if(F.preInit)for(typeof F.preInit=="function"&&(F.preInit=[F.preInit]);F.preInit.length>0;)F.preInit.pop()();var $e=!0;return F.noInitialRun&&($e=!1),ie(),Oe.ready})})();const Ti={fonts:{},openscad:{description:"OpenSCAD",gitOrigin:{branch:"master",repoUrl:"https://github.com/openscad/openscad",include:[{glob:["examples/*.scad","LICENSE"]}]},docs:{CheatSheet:"https://openscad.org/cheatsheet/index.html",Documentation:"https://openscad.org/documentation.html"}},MCAD:{description:"OpenSCAD Parametric CAD Library",gitOrigin:{branch:"master",repoUrl:"https://github.com/openscad/MCAD",include:[{glob:["*.scad","bitmap/*.scad","LICENSE"]}]}},BOSL:{description:"The Belfry OpenScad Library",gitOrigin:{branch:"master",repoUrl:"https://github.com/revarbat/BOSL",include:[{glob:["**/*.scad","LICENSE"]}]}},BOSL2:{description:"The Belfry OpenScad Library, v2.0",gitOrigin:{branch:"master",repoUrl:"https://github.com/BelfrySCAD/BOSL2",include:[{glob:["**/*.scad","LICENSE"]}]},docs:{CheatSheet:"https://github.com/BelfrySCAD/BOSL2/wiki/CheatSheet",Wiki:"https://github.com/BelfrySCAD/BOSL2/wiki"}},NopSCADlib:{gitOrigin:{branch:"master",repoUrl:"https://github.com/nophead/NopSCADlib",include:[{glob:"**/*.scad",ignore:"test/**"}]}},boltsparts:{description:"OpenSCAD library for generating bolt/nut models",gitOrigin:{branch:"main",repoUrl:"https://github.com/boltsparts/boltsparts",include:[{glob:"openscad/**/*.scad",ignore:"test/**"}]},docs:{Usage:"https://boltsparts.github.io/en/docs/0.3/document/openscad/usage.html"}},brailleSCAD:{gitOrigin:{branch:"main",repoUrl:"https://github.com/BelfrySCAD/brailleSCAD",include:[{glob:["**/*.scad","LICENSE"],ignore:"test/**"}]},docs:{Documentation:"https://github.com/BelfrySCAD/brailleSCAD/wiki/TOC"}},FunctionalOpenSCAD:{description:"Implementing OpenSCAD in OpenSCAD",gitOrigin:{branch:"master",repoUrl:"https://github.com/thehans/FunctionalOpenSCAD",include:[{glob:["**/*.scad","LICENSE"]}]}},"OpenSCAD-Snippet":{description:"OpenSCAD Snippet Library",gitOrigin:{branch:"main",repoUrl:"https://github.com/AngeloNicoli/OpenSCAD-Snippet",include:[{glob:["**/*.scad","LICENSE"]}]},symlinks:{Asset_SCAD:"Asset_SCAD","Import_Library.scad":"Import_Library.scad"}},funcutils:{description:"OpenSCAD collection of functional programming utilities, making use of function-literals.",gitOrigin:{branch:"master",repoUrl:"https://github.com/thehans/funcutils",include:[{glob:"**/*.scad"}]}},"smooth-prim":{description:"OpenSCAD smooth primitives library",gitOrigin:{branch:"master",repoUrl:"https://github.com/rcolyer/smooth-prim",include:[{glob:["**/*.scad","LICENSE.txt"]}]},symlinks:{"smooth_prim.scad":"smooth_prim.scad"}},closepoints:{description:"OpenSCAD ClosePoints Library",gitOrigin:{branch:"master",repoUrl:"https://github.com/rcolyer/closepoints",include:[{glob:["**/*.scad","LICENSE.txt"]}]},symlinks:{"closepoints.scad":"closepoints.scad"}},"plot-function":{description:"OpenSCAD Function Plotting Library",gitOrigin:{branch:"master",repoUrl:"https://github.com/colyer/plot-function",include:[{glob:["**/*.scad","LICENSE.txt"]}]},symlinks:{"plot_function.scad":"plot_function.scad"}},"openscad-tray":{description:"OpenSCAD library to create rounded rectangular trays with optional subdividers.",gitOrigin:{branch:"main",repoUrl:"https://github.com/sofian/openscad-tray",include:[{glob:["**/*.scad","LICENSE"]}]},symlinks:{"tray.scad":"tray.scad"}},lasercut:{description:"Module for OpenSCAD, allowing 3D models to be created from 2D lasercut parts.",gitOrigin:{branch:"master",repoUrl:"https://github.com/bmsleight/lasercut",include:[{glob:["**/*.scad","LICENSE"]}]},symlinks:{"lasercut.scad":"lasercut.scad"}},YAPP_Box:{description:"Yet Another Parametric Projectbox Box",gitOrigin:{branch:"main",repoUrl:"https://github.com/mrWheel/YAPP_Box",include:[{glob:["**/*.scad","LICENSE"]}]}},Stemfie_OpenSCAD:{description:"OpenSCAD Stemfie Library",gitOrigin:{branch:"main",repoUrl:"https://github.com/Cantareus/Stemfie_OpenSCAD",include:[{glob:["**/*.scad","LICENSE"]}]}},"UB.scad":{gitOrigin:{branch:"main",repoUrl:"https://github.com/UBaer21/UB.scad",include:[{glob:["libraries/*.scad","LICENSE","examples/UBexamples/*.scad"],replacePrefix:{"libraries/":"","examples/UBexamples/":"examples/"}}]},symlinks:{"ub.scad":"libraries/ub.scad"}},pathbuilder:{gitOrigin:{branch:"main",repoUrl:"https://github.com/dinther/pathbuilder.git",include:[{glob:["**/*.scad","LICENSE"]}]}},openscad_attachable_text3d:{gitOrigin:{branch:"main",repoUrl:"https://github.com/jon-gilbert/openscad_attachable_text3d.git",include:[{glob:["**/*.scad","LICENSE"]}]}}},Li=Object.entries(Ti).filter(([le,{deployed:Oe}])=>Oe==null||Oe).map(([le])=>le);function ra(le){return le&&le.__esModule&&Object.prototype.hasOwnProperty.call(le,"default")?le.default:le}var Rn={exports:{}},na=Rn.exports,Xo;function ia(){return Xo||(Xo=1,(function(le,Oe){(function(H,M){le.exports=M()})(na,function(){return(function(F){var H={};function M(A){if(H[A])return H[A].exports;var Y=H[A]={exports:{},id:A,loaded:!1};return F[A].call(Y.exports,Y,Y.exports,M),Y.loaded=!0,Y.exports}return M.m=F,M.c=H,M.p="",M(0)})([function(F,H,M){(function(A,Y,C,j){Object.defineProperty(H,"__esModule",{value:!0});var N=M(2),S=M(9),h;(function(n){n[n.EPERM=1]="EPERM",n[n.ENOENT=2]="ENOENT",n[n.EIO=5]="EIO",n[n.EBADF=9]="EBADF",n[n.EACCES=13]="EACCES",n[n.EBUSY=16]="EBUSY",n[n.EEXIST=17]="EEXIST",n[n.ENOTDIR=20]="ENOTDIR",n[n.EISDIR=21]="EISDIR",n[n.EINVAL=22]="EINVAL",n[n.EFBIG=27]="EFBIG",n[n.ENOSPC=28]="ENOSPC",n[n.EROFS=30]="EROFS",n[n.ENOTEMPTY=39]="ENOTEMPTY",n[n.ENOTSUP=95]="ENOTSUP"})(h||(h={}));var b={};b[h.EPERM]="Operation not permitted.",b[h.ENOENT]="No such file or directory.",b[h.EIO]="Input/output error.",b[h.EBADF]="Bad file descriptor.",b[h.EACCES]="Permission denied.",b[h.EBUSY]="Resource busy or locked.",b[h.EEXIST]="File exists.",b[h.ENOTDIR]="File is not a directory.",b[h.EISDIR]="File is a directory.",b[h.EINVAL]="Invalid argument.",b[h.EFBIG]="File is too big.",b[h.ENOSPC]="No space left on disk.",b[h.EROFS]="Cannot modify a read-only file system.",b[h.ENOTEMPTY]="Directory is not empty.",b[h.ENOTSUP]="Operation is not supported.";var p=(function(n){function t(r,e,i){e===void 0&&(e=b[r]),n.call(this,e),this.syscall="",this.errno=r,this.code=h[r],this.path=i,this.stack=new n().stack,this.message="Error: "+this.code+": "+e+(this.path?", '"+this.path+"'":"")}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.fromJSON=function(e){var i=new t(0);return i.errno=e.errno,i.code=e.code,i.path=e.path,i.stack=e.stack,i.message=e.message,i},t.fromBuffer=function(e,i){return i===void 0&&(i=0),t.fromJSON(JSON.parse(e.toString("utf8",i+4,i+4+e.readUInt32LE(i))))},t.FileError=function(e,i){return new t(e,b[e],i)},t.ENOENT=function(e){return this.FileError(h.ENOENT,e)},t.EEXIST=function(e){return this.FileError(h.EEXIST,e)},t.EISDIR=function(e){return this.FileError(h.EISDIR,e)},t.ENOTDIR=function(e){return this.FileError(h.ENOTDIR,e)},t.EPERM=function(e){return this.FileError(h.EPERM,e)},t.ENOTEMPTY=function(e){return this.FileError(h.ENOTEMPTY,e)},t.prototype.toString=function(){return this.message},t.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},t.prototype.writeToBuffer=function(e,i){e===void 0&&(e=A.alloc(this.bufferSize())),i===void 0&&(i=0);var s=e.write(JSON.stringify(this.toJSON()),i+4);return e.writeUInt32LE(s,i),e},t.prototype.bufferSize=function(){return 4+A.byteLength(JSON.stringify(this.toJSON()))},t})(Error),B=Object.freeze({get ErrorCode(){return h},ErrorStrings:b,ApiError:p}),x;(function(n){n[n.NOP=0]="NOP",n[n.THROW_EXCEPTION=1]="THROW_EXCEPTION",n[n.TRUNCATE_FILE=2]="TRUNCATE_FILE",n[n.CREATE_FILE=3]="CREATE_FILE"})(x||(x={}));var U=function n(t){if(this.flagStr=t,n.validFlagStrs.indexOf(t)<0)throw new p(h.EINVAL,"Invalid flag: "+t)};U.getFileFlag=function(t){return U.flagCache.hasOwnProperty(t)?U.flagCache[t]:U.flagCache[t]=new U(t)},U.prototype.getFlagString=function(){return this.flagStr},U.prototype.isReadable=function(){return this.flagStr.indexOf("r")!==-1||this.flagStr.indexOf("+")!==-1},U.prototype.isWriteable=function(){return this.flagStr.indexOf("w")!==-1||this.flagStr.indexOf("a")!==-1||this.flagStr.indexOf("+")!==-1},U.prototype.isTruncating=function(){return this.flagStr.indexOf("w")!==-1},U.prototype.isAppendable=function(){return this.flagStr.indexOf("a")!==-1},U.prototype.isSynchronous=function(){return this.flagStr.indexOf("s")!==-1},U.prototype.isExclusive=function(){return this.flagStr.indexOf("x")!==-1},U.prototype.pathExistsAction=function(){return this.isExclusive()?x.THROW_EXCEPTION:this.isTruncating()?x.TRUNCATE_FILE:x.NOP},U.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&this.flagStr!=="r+"?x.CREATE_FILE:x.THROW_EXCEPTION},U.flagCache={},U.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];var X;(function(n){n[n.FILE=32768]="FILE",n[n.DIRECTORY=16384]="DIRECTORY",n[n.SYMLINK=40960]="SYMLINK"})(X||(X={}));var Z=function(t,r,e,i,s,c){if(i===void 0&&(i=new Date),s===void 0&&(s=new Date),c===void 0&&(c=new Date),this.size=r,this.atime=i,this.mtime=s,this.ctime=c,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,e)this.mode=e;else switch(t){case X.FILE:this.mode=420;break;case X.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(r/512),this.mode<4096&&(this.mode|=t)};Z.fromBuffer=function(t){var r=t.readUInt32LE(0),e=t.readUInt32LE(4),i=t.readDoubleLE(8),s=t.readDoubleLE(16),c=t.readDoubleLE(24);return new Z(e&61440,r,e&4095,new Date(i),new Date(s),new Date(c))},Z.prototype.toBuffer=function(){var t=A.alloc(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},Z.prototype.clone=function(){return new Z(this.mode&61440,this.size,this.mode&4095,this.atime,this.mtime,this.ctime)},Z.prototype.isFile=function(){return(this.mode&61440)===X.FILE},Z.prototype.isDirectory=function(){return(this.mode&61440)===X.DIRECTORY},Z.prototype.isSymbolicLink=function(){return(this.mode&61440)===X.SYMLINK},Z.prototype.chmod=function(t){this.mode=this.mode&61440|t},Z.prototype.isSocket=function(){return!1},Z.prototype.isBlockDevice=function(){return!1},Z.prototype.isCharacterDevice=function(){return!1},Z.prototype.isFIFO=function(){return!1};var pt=function(n,t){return n};function Q(n){if(n)return n;throw new p(h.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function tt(n,t){switch(typeof n){case"number":return n;case"string":var r=parseInt(n,8);return isNaN(r)?t:r;default:return t}}function Ht(n){if(n instanceof Date)return n;if(typeof n=="number")return new Date(n*1e3);throw new p(h.EINVAL,"Invalid time.")}function ht(n){if(n.indexOf("\0")>=0)throw new p(h.EINVAL,"Path must be a string without null bytes.");if(n==="")throw new p(h.EINVAL,"Path must not be empty.");return S.resolve(n)}function Vt(n,t,r,e){switch(typeof n){case"object":return{encoding:typeof n.encoding<"u"?n.encoding:t,flag:typeof n.flag<"u"?n.flag:r,mode:tt(n.mode,e)};case"string":return{encoding:n,flag:r,mode:e};default:return{encoding:t,flag:r,mode:e}}}function Ut(){}var K=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};K.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new p(h.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},K.prototype._toUnixTimestamp=function(t){if(typeof t=="number")return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},K.prototype.getRootFS=function(){return this.root?this.root:null},K.prototype.rename=function(t,r,e){e===void 0&&(e=Ut);var i=pt(e,1);try{Q(this.root).rename(ht(t),ht(r),i)}catch(s){i(s)}},K.prototype.renameSync=function(t,r){Q(this.root).renameSync(ht(t),ht(r))},K.prototype.exists=function(t,r){r===void 0&&(r=Ut);var e=pt(r,1);try{return Q(this.root).exists(ht(t),e)}catch{return e(!1)}},K.prototype.existsSync=function(t){try{return Q(this.root).existsSync(ht(t))}catch{return!1}},K.prototype.stat=function(t,r){r===void 0&&(r=Ut);var e=pt(r,2);try{return Q(this.root).stat(ht(t),!1,e)}catch(i){return e(i)}},K.prototype.statSync=function(t){return Q(this.root).statSync(ht(t),!1)},K.prototype.lstat=function(t,r){r===void 0&&(r=Ut);var e=pt(r,2);try{return Q(this.root).stat(ht(t),!0,e)}catch(i){return e(i)}},K.prototype.lstatSync=function(t){return Q(this.root).statSync(ht(t),!0)},K.prototype.truncate=function(t,r,e){r===void 0&&(r=0),e===void 0&&(e=Ut);var i=0;typeof r=="function"?e=r:typeof r=="number"&&(i=r);var s=pt(e,1);try{if(i<0)throw new p(h.EINVAL);return Q(this.root).truncate(ht(t),i,s)}catch(c){return s(c)}},K.prototype.truncateSync=function(t,r){if(r===void 0&&(r=0),r<0)throw new p(h.EINVAL);return Q(this.root).truncateSync(ht(t),r)},K.prototype.unlink=function(t,r){r===void 0&&(r=Ut);var e=pt(r,1);try{return Q(this.root).unlink(ht(t),e)}catch(i){return e(i)}},K.prototype.unlinkSync=function(t){return Q(this.root).unlinkSync(ht(t))},K.prototype.open=function(t,r,e,i){var s=this;i===void 0&&(i=Ut);var c=tt(e,420);i=typeof e=="function"?e:i;var l=pt(i,2);try{Q(this.root).open(ht(t),U.getFileFlag(r),c,function(w,k){k?l(w,s.getFdForFile(k)):l(w)})}catch(w){l(w)}},K.prototype.openSync=function(t,r,e){return e===void 0&&(e=420),this.getFdForFile(Q(this.root).openSync(ht(t),U.getFileFlag(r),tt(e,420)))},K.prototype.readFile=function(t,r,e){r===void 0&&(r={}),e===void 0&&(e=Ut);var i=Vt(r,null,"r",null);e=typeof r=="function"?r:e;var s=pt(e,2);try{var c=U.getFileFlag(i.flag);return c.isReadable()?Q(this.root).readFile(ht(t),i.encoding,c,s):s(new p(h.EINVAL,"Flag passed to readFile must allow for reading."))}catch(l){return s(l)}},K.prototype.readFileSync=function(t,r){r===void 0&&(r={});var e=Vt(r,null,"r",null),i=U.getFileFlag(e.flag);if(!i.isReadable())throw new p(h.EINVAL,"Flag passed to readFile must allow for reading.");return Q(this.root).readFileSync(ht(t),e.encoding,i)},K.prototype.writeFile=function(t,r,e,i){e===void 0&&(e={}),i===void 0&&(i=Ut);var s=Vt(e,"utf8","w",420);i=typeof e=="function"?e:i;var c=pt(i,1);try{var l=U.getFileFlag(s.flag);return l.isWriteable()?Q(this.root).writeFile(ht(t),r,s.encoding,l,s.mode,c):c(new p(h.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(w){return c(w)}},K.prototype.writeFileSync=function(t,r,e){var i=Vt(e,"utf8","w",420),s=U.getFileFlag(i.flag);if(!s.isWriteable())throw new p(h.EINVAL,"Flag passed to writeFile must allow for writing.");return Q(this.root).writeFileSync(ht(t),r,i.encoding,s,i.mode)},K.prototype.appendFile=function(t,r,e,i){i===void 0&&(i=Ut);var s=Vt(e,"utf8","a",420);i=typeof e=="function"?e:i;var c=pt(i,1);try{var l=U.getFileFlag(s.flag);if(!l.isAppendable())return c(new p(h.EINVAL,"Flag passed to appendFile must allow for appending."));Q(this.root).appendFile(ht(t),r,s.encoding,l,s.mode,c)}catch(w){c(w)}},K.prototype.appendFileSync=function(t,r,e){var i=Vt(e,"utf8","a",420),s=U.getFileFlag(i.flag);if(!s.isAppendable())throw new p(h.EINVAL,"Flag passed to appendFile must allow for appending.");return Q(this.root).appendFileSync(ht(t),r,i.encoding,s,i.mode)},K.prototype.fstat=function(t,r){r===void 0&&(r=Ut);var e=pt(r,2);try{var i=this.fd2file(t);i.stat(e)}catch(s){e(s)}},K.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},K.prototype.close=function(t,r){var e=this;r===void 0&&(r=Ut);var i=pt(r,1);try{this.fd2file(t).close(function(s){s||e.closeFd(t),i(s)})}catch(s){i(s)}},K.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},K.prototype.ftruncate=function(t,r,e){e===void 0&&(e=Ut);var i=typeof r=="number"?r:0;e=typeof r=="function"?r:e;var s=pt(e,1);try{var c=this.fd2file(t);if(i<0)throw new p(h.EINVAL);c.truncate(i,s)}catch(l){s(l)}},K.prototype.ftruncateSync=function(t,r){r===void 0&&(r=0);var e=this.fd2file(t);if(r<0)throw new p(h.EINVAL);e.truncateSync(r)},K.prototype.fsync=function(t,r){r===void 0&&(r=Ut);var e=pt(r,1);try{this.fd2file(t).sync(e)}catch(i){e(i)}},K.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},K.prototype.fdatasync=function(t,r){r===void 0&&(r=Ut);var e=pt(r,1);try{this.fd2file(t).datasync(e)}catch(i){e(i)}},K.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},K.prototype.write=function(t,r,e,i,s,c){c===void 0&&(c=Ut);var l,w,k,P=null;if(typeof r=="string"){var V="utf8";switch(typeof e){case"function":c=e;break;case"number":P=e,V=typeof i=="string"?i:"utf8",c=typeof s=="function"?s:c;break;default:return c=typeof i=="function"?i:typeof s=="function"?s:c,c(new p(h.EINVAL,"Invalid arguments."))}l=A.from(r,V),w=0,k=l.length}else l=r,w=e,k=i,P=typeof s=="number"?s:null,c=typeof s=="function"?s:c;var et=pt(c,3);try{var vt=this.fd2file(t);P==null&&(P=vt.getPos()),vt.write(l,w,k,P,et)}catch(mt){et(mt)}},K.prototype.writeSync=function(t,r,e,i,s){var c,l=0,w,k;if(typeof r=="string"){k=typeof e=="number"?e:null;var P=typeof i=="string"?i:"utf8";l=0,c=A.from(r,P),w=c.length}else c=r,l=e,w=i,k=typeof s=="number"?s:null;var V=this.fd2file(t);return k==null&&(k=V.getPos()),V.writeSync(c,l,w,k)},K.prototype.read=function(t,r,e,i,s,c){c===void 0&&(c=Ut);var l,w,k,P,V;if(typeof r=="number"){k=r,l=e;var et=i;c=typeof s=="function"?s:c,w=0,P=A.alloc(k),V=pt(function(mt,Tt,zt){if(mt)return c(mt);c(mt,zt.toString(et),Tt)},3)}else P=r,w=e,k=i,l=s,V=pt(c,3);try{var vt=this.fd2file(t);l==null&&(l=vt.getPos()),vt.read(P,w,k,l,V)}catch(mt){V(mt)}},K.prototype.readSync=function(t,r,e,i,s){var c=!1,l,w,k,P,V="utf8";typeof r=="number"?(k=r,P=e,V=i,w=0,l=A.alloc(k),c=!0):(l=r,w=e,k=i,P=s);var et=this.fd2file(t);P==null&&(P=et.getPos());var vt=et.readSync(l,w,k,P);return c?[l.toString(V),vt]:vt},K.prototype.fchown=function(t,r,e,i){i===void 0&&(i=Ut);var s=pt(i,1);try{this.fd2file(t).chown(r,e,s)}catch(c){s(c)}},K.prototype.fchownSync=function(t,r,e){this.fd2file(t).chownSync(r,e)},K.prototype.fchmod=function(t,r,e){var i=pt(e,1);try{var s=typeof r=="string"?parseInt(r,8):r;this.fd2file(t).chmod(s,i)}catch(c){i(c)}},K.prototype.fchmodSync=function(t,r){var e=typeof r=="string"?parseInt(r,8):r;this.fd2file(t).chmodSync(e)},K.prototype.futimes=function(t,r,e,i){i===void 0&&(i=Ut);var s=pt(i,1);try{var c=this.fd2file(t);typeof r=="number"&&(r=new Date(r*1e3)),typeof e=="number"&&(e=new Date(e*1e3)),c.utimes(r,e,s)}catch(l){s(l)}},K.prototype.futimesSync=function(t,r,e){this.fd2file(t).utimesSync(Ht(r),Ht(e))},K.prototype.rmdir=function(t,r){r===void 0&&(r=Ut);var e=pt(r,1);try{t=ht(t),Q(this.root).rmdir(t,e)}catch(i){e(i)}},K.prototype.rmdirSync=function(t){return t=ht(t),Q(this.root).rmdirSync(t)},K.prototype.mkdir=function(t,r,e){e===void 0&&(e=Ut),typeof r=="function"&&(e=r,r=511);var i=pt(e,1);try{t=ht(t),Q(this.root).mkdir(t,r,i)}catch(s){i(s)}},K.prototype.mkdirSync=function(t,r){Q(this.root).mkdirSync(ht(t),tt(r,511))},K.prototype.readdir=function(t,r){r===void 0&&(r=Ut);var e=pt(r,2);try{t=ht(t),Q(this.root).readdir(t,e)}catch(i){e(i)}},K.prototype.readdirSync=function(t){return t=ht(t),Q(this.root).readdirSync(t)},K.prototype.link=function(t,r,e){e===void 0&&(e=Ut);var i=pt(e,1);try{t=ht(t),r=ht(r),Q(this.root).link(t,r,i)}catch(s){i(s)}},K.prototype.linkSync=function(t,r){return t=ht(t),r=ht(r),Q(this.root).linkSync(t,r)},K.prototype.symlink=function(t,r,e,i){i===void 0&&(i=Ut);var s=typeof e=="string"?e:"file";i=typeof e=="function"?e:i;var c=pt(i,1);try{if(s!=="file"&&s!=="dir")return c(new p(h.EINVAL,"Invalid type: "+s));t=ht(t),r=ht(r),Q(this.root).symlink(t,r,s,c)}catch(l){c(l)}},K.prototype.symlinkSync=function(t,r,e){if(!e)e="file";else if(e!=="file"&&e!=="dir")throw new p(h.EINVAL,"Invalid type: "+e);return t=ht(t),r=ht(r),Q(this.root).symlinkSync(t,r,e)},K.prototype.readlink=function(t,r){r===void 0&&(r=Ut);var e=pt(r,2);try{t=ht(t),Q(this.root).readlink(t,e)}catch(i){e(i)}},K.prototype.readlinkSync=function(t){return t=ht(t),Q(this.root).readlinkSync(t)},K.prototype.chown=function(t,r,e,i){i===void 0&&(i=Ut);var s=pt(i,1);try{t=ht(t),Q(this.root).chown(t,!1,r,e,s)}catch(c){s(c)}},K.prototype.chownSync=function(t,r,e){t=ht(t),Q(this.root).chownSync(t,!1,r,e)},K.prototype.lchown=function(t,r,e,i){i===void 0&&(i=Ut);var s=pt(i,1);try{t=ht(t),Q(this.root).chown(t,!0,r,e,s)}catch(c){s(c)}},K.prototype.lchownSync=function(t,r,e){t=ht(t),Q(this.root).chownSync(t,!0,r,e)},K.prototype.chmod=function(t,r,e){e===void 0&&(e=Ut);var i=pt(e,1);try{var s=tt(r,-1);if(s<0)throw new p(h.EINVAL,"Invalid mode.");Q(this.root).chmod(ht(t),!1,s,i)}catch(c){i(c)}},K.prototype.chmodSync=function(t,r){var e=tt(r,-1);if(e<0)throw new p(h.EINVAL,"Invalid mode.");t=ht(t),Q(this.root).chmodSync(t,!1,e)},K.prototype.lchmod=function(t,r,e){e===void 0&&(e=Ut);var i=pt(e,1);try{var s=tt(r,-1);if(s<0)throw new p(h.EINVAL,"Invalid mode.");Q(this.root).chmod(ht(t),!0,s,i)}catch(c){i(c)}},K.prototype.lchmodSync=function(t,r){var e=tt(r,-1);if(e<1)throw new p(h.EINVAL,"Invalid mode.");Q(this.root).chmodSync(ht(t),!0,e)},K.prototype.utimes=function(t,r,e,i){i===void 0&&(i=Ut);var s=pt(i,1);try{Q(this.root).utimes(ht(t),Ht(r),Ht(e),s)}catch(c){s(c)}},K.prototype.utimesSync=function(t,r,e){Q(this.root).utimesSync(ht(t),Ht(r),Ht(e))},K.prototype.realpath=function(t,r,e){e===void 0&&(e=Ut);var i=typeof r=="object"?r:{};e=typeof r=="function"?r:Ut;var s=pt(e,2);try{t=ht(t),Q(this.root).realpath(t,i,s)}catch(c){s(c)}},K.prototype.realpathSync=function(t,r){return r===void 0&&(r={}),t=ht(t),Q(this.root).realpathSync(t,r)},K.prototype.watchFile=function(t,r,e){throw new p(h.ENOTSUP)},K.prototype.unwatchFile=function(t,r){throw new p(h.ENOTSUP)},K.prototype.watch=function(t,r,e){throw new p(h.ENOTSUP)},K.prototype.access=function(t,r,e){throw new p(h.ENOTSUP)},K.prototype.accessSync=function(t,r){throw new p(h.ENOTSUP)},K.prototype.createReadStream=function(t,r){throw new p(h.ENOTSUP)},K.prototype.createWriteStream=function(t,r){throw new p(h.ENOTSUP)},K.prototype.wrapCallbacks=function(t){pt=t},K.prototype.getFdForFile=function(t){var r=this.nextFd++;return this.fdMap[r]=t,r},K.prototype.fd2file=function(t){var r=this.fdMap[t];if(r)return r;throw new p(h.EBADF,"Invalid file descriptor.")},K.prototype.closeFd=function(t){delete this.fdMap[t]},K.Stats=Z;var ft=new K,bt={},te=K.prototype;Object.keys(te).forEach(function(n){typeof ft[n]=="function"?bt[n]=function(){return ft[n].apply(ft,arguments)}:bt[n]=ft[n]}),bt.changeFSModule=function(n){ft=n},bt.getFSModule=function(){return ft},bt.FS=K;function At(n,t,r,e,i){return n<t||r<t?n>r?r+1:n+1:e===i?t:t+1}function Bt(n,t){if(n===t)return 0;if(n.length>t.length){var r=n;n=t,t=r}for(var e=n.length,i=t.length;e>0&&n.charCodeAt(e-1)===t.charCodeAt(i-1);)e--,i--;for(var s=0;s<e&&n.charCodeAt(s)===t.charCodeAt(s);)s++;if(e-=s,i-=s,e===0||i===1)return i;for(var c=new Array(e<<1),l=0;l<e;)c[e+l]=n.charCodeAt(s+l),c[l]=++l;var w,k,P,V,et;for(w=0;w+3<i;)for(var vt=t.charCodeAt(s+(k=w)),mt=t.charCodeAt(s+(P=w+1)),Tt=t.charCodeAt(s+(V=w+2)),zt=t.charCodeAt(s+(et=w+3)),Qt=w+=4,Ne=0;Ne<e;){var He=c[e+Ne],ur=c[Ne];k=At(ur,k,P,vt,He),P=At(k,P,V,mt,He),V=At(P,V,et,Tt,He),Qt=At(V,et,Qt,zt,He),c[Ne++]=Qt,et=V,V=P,P=k,k=ur}for(var cr=0;w<i;){var pn=t.charCodeAt(s+(k=w));cr=++w;for(var _r=0;_r<e;_r++){var Er=c[_r];c[_r]=cr=Er<k||cr<k?Er>cr?cr+1:Er+1:pn===c[e+_r]?k:k+1,k=Er}}return cr}function Xt(n,t,r){n&&console.warn("["+t+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+t+".Create("+JSON.stringify(r)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")}var xt=typeof navigator<"u"&&!!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||navigator.userAgent.indexOf("Trident")!==-1),Ee=typeof window>"u";function T(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function W(n,t,r){r.existsSync(n)||(W(S.dirname(n),t,r),r.mkdirSync(n,t))}function lt(n){var t=It(n),r=t.byteOffset,e=t.byteLength;return r===0&&e===t.buffer.byteLength?t.buffer:t.buffer.slice(r,r+e)}function It(n){return n instanceof Uint8Array?n:new Uint8Array(n)}function Kt(n){return n instanceof A?n:n instanceof Uint8Array?Wt(n):A.from(n)}function Wt(n){return n instanceof A?n:n.byteOffset===0&&n.byteLength===n.buffer.byteLength?qt(n.buffer):A.from(n.buffer,n.byteOffset,n.byteLength)}function qt(n){return A.from(n)}function ee(n,t,r){if(t===void 0&&(t=0),r===void 0&&(r=n.length),t<0||r<0||r>n.length||t>r)throw new TypeError("Invalid slice bounds on buffer of length "+n.length+": ["+t+", "+r+"]");if(n.length===0)return fe();var e=It(n),i=n[0],s=(i+1)%255;return n[0]=s,e[0]===s?(e[0]=i,Wt(e.slice(t,r))):(n[0]=i,Wt(e.subarray(t,r)))}var ve=null;function fe(){return ve||(ve=A.alloc(0))}function R(n,t){A.isBuffer(n)?t():t(new p(h.EINVAL,"option must be a Buffer."))}function L(n,t,r){var e=n.Options,i=n.Name,s=0,c=!1,l=!1;function w(et){c||(et&&(c=!0,r(et)),s--,s===0&&l&&r())}var k=function(et){if(e.hasOwnProperty(et)){var vt=e[et],mt=t[et];if(mt==null){if(!vt.optional){var Tt=Object.keys(t).filter(function(Qt){return!(Qt in e)}).map(function(Qt){return{str:Qt,distance:Bt(et,Qt)}}).filter(function(Qt){return Qt.distance<5}).sort(function(Qt,Ne){return Qt.distance-Ne.distance});return c?{}:(c=!0,{v:r(new p(h.EINVAL,"["+i+"] Required option '"+et+"' not provided."+(Tt.length>0?" You provided unrecognized option '"+Tt[0].str+"'; perhaps you meant to type '"+et+"'.":"")+`
Option description: `+vt.description))})}}else{var zt=!1;if(Array.isArray(vt.type)?zt=vt.type.indexOf(typeof mt)!==-1:zt=typeof mt===vt.type,zt)vt.validator&&(s++,vt.validator(mt,w));else return c?{}:(c=!0,{v:r(new p(h.EINVAL,"["+i+"] Value provided for option "+et+" is not the proper type. Expected "+(Array.isArray(vt.type)?"one of {"+vt.type.join(", ")+"}":vt.type)+", but received "+typeof mt+`
Option description: `+vt.description))})}}};for(var P in e){var V=k(P);if(V)return V.v}l=!0,s===0&&!c&&r()}var at=Object.freeze({deprecationMessage:Xt,isIE:xt,isWebWorker:Ee,fail:T,mkdirpSync:W,buffer2ArrayBuffer:lt,buffer2Uint8array:It,arrayish2Buffer:Kt,uint8Array2Buffer:Wt,arrayBuffer2Buffer:qt,copyingSlice:ee,emptyBuffer:fe,bufferValidator:R,checkOptions:L}),_t=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};_t.prototype.open=function(t){var r=this.fs.realPath(t.node),e=this.FS;try{e.isFile(t.node.mode)&&(t.nfd=this.nodefs.openSync(r,this.fs.flagsToPermissionString(t.flags)))}catch(i){throw i.code?new e.ErrnoError(this.ERRNO_CODES[i.code]):i}},_t.prototype.close=function(t){var r=this.FS;try{r.isFile(t.node.mode)&&t.nfd&&this.nodefs.closeSync(t.nfd)}catch(e){throw e.code?new r.ErrnoError(this.ERRNO_CODES[e.code]):e}},_t.prototype.read=function(t,r,e,i,s){try{return this.nodefs.readSync(t.nfd,Wt(r),e,i,s)}catch(c){throw new this.FS.ErrnoError(this.ERRNO_CODES[c.code])}},_t.prototype.write=function(t,r,e,i,s){try{return this.nodefs.writeSync(t.nfd,Wt(r),e,i,s)}catch(c){throw new this.FS.ErrnoError(this.ERRNO_CODES[c.code])}},_t.prototype.llseek=function(t,r,e){var i=r;if(e===1)i+=t.position;else if(e===2&&this.FS.isFile(t.node.mode))try{var s=this.nodefs.fstatSync(t.nfd);i+=s.size}catch(c){throw new this.FS.ErrnoError(this.ERRNO_CODES[c.code])}if(i<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=i,i};var Lt=function(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()};Lt.prototype.getattr=function(t){var r=this.fs.realPath(t),e;try{e=this.nodefs.lstatSync(r)}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},Lt.prototype.setattr=function(t,r){var e=this.fs.realPath(t);try{if(r.mode!==void 0&&(this.nodefs.chmodSync(e,r.mode),t.mode=r.mode),r.timestamp!==void 0){var i=new Date(r.timestamp);this.nodefs.utimesSync(e,i,i)}}catch(s){if(!s.code)throw s;if(s.code!=="ENOTSUP")throw new this.FS.ErrnoError(this.ERRNO_CODES[s.code])}if(r.size!==void 0)try{this.nodefs.truncateSync(e,r.size)}catch(s){throw s.code?new this.FS.ErrnoError(this.ERRNO_CODES[s.code]):s}},Lt.prototype.lookup=function(t,r){var e=this.PATH.join2(this.fs.realPath(t),r),i=this.fs.getMode(e);return this.fs.createNode(t,r,i)},Lt.prototype.mknod=function(t,r,e,i){var s=this.fs.createNode(t,r,e,i),c=this.fs.realPath(s);try{this.FS.isDir(s.mode)?this.nodefs.mkdirSync(c,s.mode):this.nodefs.writeFileSync(c,"",{mode:s.mode})}catch(l){throw l.code?new this.FS.ErrnoError(this.ERRNO_CODES[l.code]):l}return s},Lt.prototype.rename=function(t,r,e){var i=this.fs.realPath(t),s=this.PATH.join2(this.fs.realPath(r),e);try{this.nodefs.renameSync(i,s),t.name=e,t.parent=r}catch(c){throw c.code?new this.FS.ErrnoError(this.ERRNO_CODES[c.code]):c}},Lt.prototype.unlink=function(t,r){var e=this.PATH.join2(this.fs.realPath(t),r);try{this.nodefs.unlinkSync(e)}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}},Lt.prototype.rmdir=function(t,r){var e=this.PATH.join2(this.fs.realPath(t),r);try{this.nodefs.rmdirSync(e)}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}},Lt.prototype.readdir=function(t){var r=this.fs.realPath(t);try{var e=this.nodefs.readdirSync(r);return e.push(".",".."),e}catch(i){throw i.code?new this.FS.ErrnoError(this.ERRNO_CODES[i.code]):i}},Lt.prototype.symlink=function(t,r,e){var i=this.PATH.join2(this.fs.realPath(t),r);try{this.nodefs.symlinkSync(e,i)}catch(s){throw s.code?new this.FS.ErrnoError(this.ERRNO_CODES[s.code]):s}},Lt.prototype.readlink=function(t){var r=this.fs.realPath(t);try{return this.nodefs.readlinkSync(r)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}};var Gt=function(t,r,e,i){t===void 0&&(t=self.FS),r===void 0&&(r=self.PATH),e===void 0&&(e=self.ERRNO_CODES),i===void 0&&(i=bt),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=i,this.FS=t,this.PATH=r,this.ERRNO_CODES=e,this.node_ops=new Lt(this),this.stream_ops=new _t(this)};Gt.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},Gt.prototype.createNode=function(t,r,e,i){var s=this.FS;if(!s.isDir(e)&&!s.isFile(e)&&!s.isLink(e))throw new s.ErrnoError(this.ERRNO_CODES.EINVAL);var c=s.createNode(t,r,e);return c.node_ops=this.node_ops,c.stream_ops=this.stream_ops,c},Gt.prototype.getMode=function(t){var r;try{r=this.nodefs.lstatSync(t)}catch(e){throw e.code?new this.FS.ErrnoError(this.ERRNO_CODES[e.code]):e}return r.mode},Gt.prototype.realPath=function(t){for(var r=[];t.parent!==t;)r.push(t.name),t=t.parent;return r.push(t.mount.opts.root),r.reverse(),this.PATH.join.apply(null,r)},Gt.prototype.flagsToPermissionString=function(t){var r=typeof t=="string"?parseInt(t,10):t;return r&=8191,r in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[r]:t},Gt.prototype.getNodeFS=function(){return this.nodefs},Gt.prototype.getFS=function(){return this.FS},Gt.prototype.getPATH=function(){return this.PATH},Gt.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES};var dt=function(){};dt.prototype.supportsLinks=function(){return!1},dt.prototype.diskSpace=function(t,r){r(0,0)},dt.prototype.openFile=function(t,r,e){throw new p(h.ENOTSUP)},dt.prototype.createFile=function(t,r,e,i){throw new p(h.ENOTSUP)},dt.prototype.open=function(t,r,e,i){var s=this,c=function(l,w){if(l)switch(r.pathNotExistsAction()){case x.CREATE_FILE:return s.stat(S.dirname(t),!1,function(k,P){k?i(k):P&&!P.isDirectory()?i(p.ENOTDIR(S.dirname(t))):s.createFile(t,r,e,i)});case x.THROW_EXCEPTION:return i(p.ENOENT(t));default:return i(new p(h.EINVAL,"Invalid FileFlag object."))}else{if(w&&w.isDirectory())return i(p.EISDIR(t));switch(r.pathExistsAction()){case x.THROW_EXCEPTION:return i(p.EEXIST(t));case x.TRUNCATE_FILE:return s.openFile(t,r,function(k,P){k?i(k):P?P.truncate(0,function(){P.sync(function(){i(null,P)})}):T()});case x.NOP:return s.openFile(t,r,i);default:return i(new p(h.EINVAL,"Invalid FileFlag object."))}}};this.stat(t,!1,c)},dt.prototype.rename=function(t,r,e){e(new p(h.ENOTSUP))},dt.prototype.renameSync=function(t,r){throw new p(h.ENOTSUP)},dt.prototype.stat=function(t,r,e){e(new p(h.ENOTSUP))},dt.prototype.statSync=function(t,r){throw new p(h.ENOTSUP)},dt.prototype.openFileSync=function(t,r,e){throw new p(h.ENOTSUP)},dt.prototype.createFileSync=function(t,r,e){throw new p(h.ENOTSUP)},dt.prototype.openSync=function(t,r,e){var i;try{i=this.statSync(t,!1)}catch{switch(r.pathNotExistsAction()){case x.CREATE_FILE:var s=this.statSync(S.dirname(t),!1);if(!s.isDirectory())throw p.ENOTDIR(S.dirname(t));return this.createFileSync(t,r,e);case x.THROW_EXCEPTION:throw p.ENOENT(t);default:throw new p(h.EINVAL,"Invalid FileFlag object.")}}if(i.isDirectory())throw p.EISDIR(t);switch(r.pathExistsAction()){case x.THROW_EXCEPTION:throw p.EEXIST(t);case x.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,r,i.mode);case x.NOP:return this.openFileSync(t,r,e);default:throw new p(h.EINVAL,"Invalid FileFlag object.")}},dt.prototype.unlink=function(t,r){r(new p(h.ENOTSUP))},dt.prototype.unlinkSync=function(t){throw new p(h.ENOTSUP)},dt.prototype.rmdir=function(t,r){r(new p(h.ENOTSUP))},dt.prototype.rmdirSync=function(t){throw new p(h.ENOTSUP)},dt.prototype.mkdir=function(t,r,e){e(new p(h.ENOTSUP))},dt.prototype.mkdirSync=function(t,r){throw new p(h.ENOTSUP)},dt.prototype.readdir=function(t,r){r(new p(h.ENOTSUP))},dt.prototype.readdirSync=function(t){throw new p(h.ENOTSUP)},dt.prototype.exists=function(t,r){this.stat(t,null,function(e){r(!e)})},dt.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch{return!1}},dt.prototype.realpath=function(t,r,e){if(this.supportsLinks())for(var i=t.split(S.sep),s=0;s<i.length;s++){var c=i.slice(0,s+1);i[s]=S.join.apply(null,c)}else this.exists(t,function(l){l?e(null,t):e(p.ENOENT(t))})},dt.prototype.realpathSync=function(t,r){if(this.supportsLinks()){for(var e=t.split(S.sep),i=0;i<e.length;i++){var s=e.slice(0,i+1);e[i]=S.join.apply(S,s)}return e.join(S.sep)}else{if(this.existsSync(t))return t;throw p.ENOENT(t)}},dt.prototype.truncate=function(t,r,e){this.open(t,U.getFileFlag("r+"),420,(function(i,s){if(i)return e(i);s.truncate(r,(function(c){s.close((function(l){e(c||l)}))}))}))},dt.prototype.truncateSync=function(t,r){var e=this.openSync(t,U.getFileFlag("r+"),420);try{e.truncateSync(r)}catch(i){throw i}finally{e.closeSync()}},dt.prototype.readFile=function(t,r,e,i){var s=i;this.open(t,e,420,function(c,l){if(c)return i(c);i=function(w,k){l.close(function(P){return w||(w=P),s(w,k)})},l.stat(function(w,k){if(w)return i(w);var P=A.alloc(k.size);l.read(P,0,k.size,0,function(V){if(V)return i(V);if(r===null)return i(V,P);try{i(null,P.toString(r))}catch(et){i(et)}})})})},dt.prototype.readFileSync=function(t,r,e){var i=this.openSync(t,e,420);try{var s=i.statSync(),c=A.alloc(s.size);return i.readSync(c,0,s.size,0),i.closeSync(),r===null?c:c.toString(r)}finally{i.closeSync()}},dt.prototype.writeFile=function(t,r,e,i,s,c){var l=c;this.open(t,i,420,function(w,k){if(w)return c(w);c=function(P){k.close(function(V){l(P||V)})};try{typeof r=="string"&&(r=A.from(r,e))}catch(P){return c(P)}k.write(r,0,r.length,0,c)})},dt.prototype.writeFileSync=function(t,r,e,i,s){var c=this.openSync(t,i,s);try{typeof r=="string"&&(r=A.from(r,e)),c.writeSync(r,0,r.length,0)}finally{c.closeSync()}},dt.prototype.appendFile=function(t,r,e,i,s,c){var l=c;this.open(t,i,s,function(w,k){if(w)return c(w);c=function(P){k.close(function(V){l(P||V)})},typeof r=="string"&&(r=A.from(r,e)),k.write(r,0,r.length,null,c)})},dt.prototype.appendFileSync=function(t,r,e,i,s){var c=this.openSync(t,i,s);try{typeof r=="string"&&(r=A.from(r,e)),c.writeSync(r,0,r.length,null)}finally{c.closeSync()}},dt.prototype.chmod=function(t,r,e,i){i(new p(h.ENOTSUP))},dt.prototype.chmodSync=function(t,r,e){throw new p(h.ENOTSUP)},dt.prototype.chown=function(t,r,e,i,s){s(new p(h.ENOTSUP))},dt.prototype.chownSync=function(t,r,e,i){throw new p(h.ENOTSUP)},dt.prototype.utimes=function(t,r,e,i){i(new p(h.ENOTSUP))},dt.prototype.utimesSync=function(t,r,e){throw new p(h.ENOTSUP)},dt.prototype.link=function(t,r,e){e(new p(h.ENOTSUP))},dt.prototype.linkSync=function(t,r){throw new p(h.ENOTSUP)},dt.prototype.symlink=function(t,r,e,i){i(new p(h.ENOTSUP))},dt.prototype.symlinkSync=function(t,r,e){throw new p(h.ENOTSUP)},dt.prototype.readlink=function(t,r){r(new p(h.ENOTSUP))},dt.prototype.readlinkSync=function(t){throw new p(h.ENOTSUP)};var Le=(function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.supportsSynch=function(){return!0},t.prototype.rename=function(e,i,s){try{this.renameSync(e,i),s()}catch(c){s(c)}},t.prototype.stat=function(e,i,s){try{s(null,this.statSync(e,i))}catch(c){s(c)}},t.prototype.open=function(e,i,s,c){try{c(null,this.openSync(e,i,s))}catch(l){c(l)}},t.prototype.unlink=function(e,i){try{this.unlinkSync(e),i()}catch(s){i(s)}},t.prototype.rmdir=function(e,i){try{this.rmdirSync(e),i()}catch(s){i(s)}},t.prototype.mkdir=function(e,i,s){try{this.mkdirSync(e,i),s()}catch(c){s(c)}},t.prototype.readdir=function(e,i){try{i(null,this.readdirSync(e))}catch(s){i(s)}},t.prototype.chmod=function(e,i,s,c){try{this.chmodSync(e,i,s),c()}catch(l){c(l)}},t.prototype.chown=function(e,i,s,c,l){try{this.chownSync(e,i,s,c),l()}catch(w){l(w)}},t.prototype.utimes=function(e,i,s,c){try{this.utimesSync(e,i,s),c()}catch(l){c(l)}},t.prototype.link=function(e,i,s){try{this.linkSync(e,i),s()}catch(c){s(c)}},t.prototype.symlink=function(e,i,s,c){try{this.symlinkSync(e,i,s),c()}catch(l){c(l)}},t.prototype.readlink=function(e,i){try{i(null,this.readlinkSync(e))}catch(s){i(s)}},t})(dt),jt=function(){};jt.prototype.sync=function(t){t(new p(h.ENOTSUP))},jt.prototype.syncSync=function(){throw new p(h.ENOTSUP)},jt.prototype.datasync=function(t){this.sync(t)},jt.prototype.datasyncSync=function(){return this.syncSync()},jt.prototype.chown=function(t,r,e){e(new p(h.ENOTSUP))},jt.prototype.chownSync=function(t,r){throw new p(h.ENOTSUP)},jt.prototype.chmod=function(t,r){r(new p(h.ENOTSUP))},jt.prototype.chmodSync=function(t){throw new p(h.ENOTSUP)},jt.prototype.utimes=function(t,r,e){e(new p(h.ENOTSUP))},jt.prototype.utimesSync=function(t,r){throw new p(h.ENOTSUP)};var Se=(function(n){function t(r,e,i,s,c){if(n.call(this),this._pos=0,this._dirty=!1,this._fs=r,this._path=e,this._flag=i,this._stat=s,c?this._buffer=c:this._buffer=fe(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.getBuffer=function(){return this._buffer},t.prototype.getStats=function(){return this._stat},t.prototype.getFlag=function(){return this._flag},t.prototype.getPath=function(){return this._path},t.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},t.prototype.advancePos=function(e){return this._pos+=e},t.prototype.setPos=function(e){return this._pos=e},t.prototype.sync=function(e){try{this.syncSync(),e()}catch(i){e(i)}},t.prototype.syncSync=function(){throw new p(h.ENOTSUP)},t.prototype.close=function(e){try{this.closeSync(),e()}catch(i){e(i)}},t.prototype.closeSync=function(){throw new p(h.ENOTSUP)},t.prototype.stat=function(e){try{e(null,this._stat.clone())}catch(i){e(i)}},t.prototype.statSync=function(){return this._stat.clone()},t.prototype.truncate=function(e,i){try{this.truncateSync(e),this._flag.isSynchronous()&&!bt.getRootFS().supportsSynch()&&this.sync(i),i()}catch(s){return i(s)}},t.prototype.truncateSync=function(e){if(this._dirty=!0,!this._flag.isWriteable())throw new p(h.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,e>this._buffer.length){var i=A.alloc(e-this._buffer.length,0);this.writeSync(i,0,i.length,this._buffer.length),this._flag.isSynchronous()&&bt.getRootFS().supportsSynch()&&this.syncSync();return}this._stat.size=e;var s=A.alloc(e);this._buffer.copy(s,0,0,e),this._buffer=s,this._flag.isSynchronous()&&bt.getRootFS().supportsSynch()&&this.syncSync()},t.prototype.write=function(e,i,s,c,l){try{l(null,this.writeSync(e,i,s,c),e)}catch(w){l(w)}},t.prototype.writeSync=function(e,i,s,c){if(this._dirty=!0,c==null&&(c=this.getPos()),!this._flag.isWriteable())throw new p(h.EPERM,"File not opened with a writeable mode.");var l=c+s;if(l>this._stat.size&&(this._stat.size=l,l>this._buffer.length)){var w=A.alloc(l);this._buffer.copy(w),this._buffer=w}var k=e.copy(this._buffer,c,i,i+s);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),k):(this.setPos(c+k),k)},t.prototype.read=function(e,i,s,c,l){try{l(null,this.readSync(e,i,s,c),e)}catch(w){l(w)}},t.prototype.readSync=function(e,i,s,c){if(!this._flag.isReadable())throw new p(h.EPERM,"File not opened with a readable mode.");c==null&&(c=this.getPos());var l=c+s;l>this._stat.size&&(s=this._stat.size-c);var w=this._buffer.copy(e,i,c,c+s);return this._stat.atime=new Date,this._pos=c+s,w},t.prototype.chmod=function(e,i){try{this.chmodSync(e),i()}catch(s){i(s)}},t.prototype.chmodSync=function(e){if(!this._fs.supportsProps())throw new p(h.ENOTSUP);this._dirty=!0,this._stat.chmod(e),this.syncSync()},t.prototype.isDirty=function(){return this._dirty},t.prototype.resetDirty=function(){this._dirty=!1},t})(jt),Re=(function(n){function t(r,e,i,s,c){n.call(this,r,e,i,s,c)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.close=function(e){e()},t.prototype.closeSync=function(){},t})(Se),er=(function(n){function t(r,e,i,s,c){n.call(this,r,e,i,s,c)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t})(Se),I=(function(n){function t(r,e,i){if(i===void 0&&(i=!0),n.call(this),this._queue=[],this._queueRunning=!1,this._isInitialized=!1,this._initializeCallbacks=[],this._sync=r,this._async=e,!r.supportsSynch())throw new Error("The first argument to AsyncMirror needs to be a synchronous file system.");Xt(i,t.Name,{sync:"sync file system instance",async:"async file system instance"})}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){try{var s=new t(e.sync,e.async,!1);s.initialize(function(c){c?i(c):i(null,s)},!1)}catch(c){i(c)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){return t.Name},t.prototype._syncSync=function(e){this._sync.writeFileSync(e.getPath(),e.getBuffer(),null,U.getFileFlag("w"),e.getStats().mode),this.enqueueOp({apiMethod:"writeFile",arguments:[e.getPath(),e.getBuffer(),null,e.getFlag(),e.getStats().mode]})},t.prototype.initialize=function(e,i){var s=this;i===void 0&&(i=!0),i&&console.warn("[AsyncMirror] AsyncMirror.initialize() is deprecated and will be removed in the next major version. Please use 'AsyncMirror.Create({ sync: (sync file system instance), async: (async file system instance)}, cb)' to create and initialize AsyncMirror instances.");var c=this._initializeCallbacks,l=function(V){s._isInitialized=!V,s._initializeCallbacks=[],c.forEach(function(et){return et(V)})};if(this._isInitialized)e();else if(c.push(e)===1){var w=function(V,et,vt){V!=="/"&&s._sync.mkdirSync(V,et),s._async.readdir(V,function(mt,Tt){var zt=0;function Qt(Ne){Ne?vt(Ne):zt<Tt.length?(P(S.join(V,Tt[zt]),Qt),zt++):vt()}mt?vt(mt):Qt()})},k=function(V,et,vt){s._async.readFile(V,null,U.getFileFlag("r"),function(mt,Tt){if(mt)vt(mt);else try{s._sync.writeFileSync(V,Tt,null,U.getFileFlag("w"),et)}catch(zt){mt=zt}finally{vt(mt)}})},P=function(V,et){s._async.stat(V,!1,function(vt,mt){vt?et(vt):mt.isDirectory()?w(V,mt.mode,et):k(V,mt.mode,et)})};w("/",0,l)}},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._sync.supportsProps()&&this._async.supportsProps()},t.prototype.renameSync=function(e,i){this.checkInitialized(),this._sync.renameSync(e,i),this.enqueueOp({apiMethod:"rename",arguments:[e,i]})},t.prototype.statSync=function(e,i){return this.checkInitialized(),this._sync.statSync(e,i)},t.prototype.openSync=function(e,i,s){this.checkInitialized();var c=this._sync.openSync(e,i,s);return c.closeSync(),new er(this,e,i,this._sync.statSync(e,!1),this._sync.readFileSync(e,null,U.getFileFlag("r")))},t.prototype.unlinkSync=function(e){this.checkInitialized(),this._sync.unlinkSync(e),this.enqueueOp({apiMethod:"unlink",arguments:[e]})},t.prototype.rmdirSync=function(e){this.checkInitialized(),this._sync.rmdirSync(e),this.enqueueOp({apiMethod:"rmdir",arguments:[e]})},t.prototype.mkdirSync=function(e,i){this.checkInitialized(),this._sync.mkdirSync(e,i),this.enqueueOp({apiMethod:"mkdir",arguments:[e,i]})},t.prototype.readdirSync=function(e){return this.checkInitialized(),this._sync.readdirSync(e)},t.prototype.existsSync=function(e){return this.checkInitialized(),this._sync.existsSync(e)},t.prototype.chmodSync=function(e,i,s){this.checkInitialized(),this._sync.chmodSync(e,i,s),this.enqueueOp({apiMethod:"chmod",arguments:[e,i,s]})},t.prototype.chownSync=function(e,i,s,c){this.checkInitialized(),this._sync.chownSync(e,i,s,c),this.enqueueOp({apiMethod:"chown",arguments:[e,i,s,c]})},t.prototype.utimesSync=function(e,i,s){this.checkInitialized(),this._sync.utimesSync(e,i,s),this.enqueueOp({apiMethod:"utimes",arguments:[e,i,s]})},t.prototype.checkInitialized=function(){if(!this._isInitialized)throw new p(h.EPERM,"AsyncMirrorFS is not initialized. Please initialize AsyncMirrorFS using its initialize() method before using it.")},t.prototype.enqueueOp=function(e){var i=this;if(this._queue.push(e),!this._queueRunning){this._queueRunning=!0;var s=function(c){if(c&&console.error("WARNING: File system has desynchronized. Received following error: "+c+`
$`),i._queue.length>0){var l=i._queue.shift(),w=l.arguments;w.push(s),i._async[l.apiMethod].apply(i._async,w)}else i._queueRunning=!1};s()}},t})(Le);I.Name="AsyncMirror",I.Options={sync:{type:"object",description:"The synchronous file system to mirror the asynchronous file system to."},async:{type:"object",description:"The asynchronous file system to mirror."}};function v(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}var m=Math.max;function D(n,t,r){return t=m(t===void 0?n.length-1:t,0),function(){for(var e=arguments,i=-1,s=m(e.length-t,0),c=Array(s);++i<s;)c[i]=e[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=e[i];return l[t]=r(c),v(n,this,l)}}function q(n){return n}function $(n,t){return D(n,t,q)}var st=function(n){return $(function(t){var r=t.pop();n.call(this,t,r)})};function $t(n){return $(function(t,r){var e=st(function(i,s){var c=this;return n(t,function(l,w){l.apply(c,i.concat(w))},s)});return r.length?e.apply(this,r):e})}var se=typeof Y=="object"&&Y&&Y.Object===Object&&Y,ne=typeof self=="object"&&self&&self.Object===Object&&self,ke=se||ne||Function("return this")(),ue=ke.Symbol,qe=Object.prototype,Sr=qe.hasOwnProperty,fr=qe.toString,Mt=ue?ue.toStringTag:void 0;function de(n){var t=Sr.call(n,Mt),r=n[Mt];try{n[Mt]=void 0;var e=!0}catch{}var i=fr.call(n);return e&&(t?n[Mt]=r:delete n[Mt]),i}var Xr=Object.prototype,lr=Xr.toString;function J(n){return lr.call(n)}var Et="[object Null]",E="[object Undefined]",Nt=ue?ue.toStringTag:void 0;function oe(n){return n==null?n===void 0?E:Et:Nt&&Nt in Object(n)?de(n):J(n)}function St(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var Pe="[object AsyncFunction]",Ot="[object Function]",Fe="[object GeneratorFunction]",nt="[object Proxy]";function rt(n){if(!St(n))return!1;var t=oe(n);return t==Ot||t==Fe||t==Pe||t==nt}var kr=9007199254740991;function ce(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=kr}function Dt(n){return n!=null&&ce(n.length)&&!rt(n)}var hr={};function Ge(){}function ge(n){return function(){if(n!==null){var t=n;n=null,t.apply(this,arguments)}}}var ae=typeof Symbol=="function"&&Symbol.iterator,Ae=function(n){return ae&&n[ae]&&n[ae]()};function je(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function Ce(n){return n!=null&&typeof n=="object"}var br="[object Arguments]";function pr(n){return Ce(n)&&oe(n)==br}var Ct=Object.prototype,We=Ct.hasOwnProperty,pe=Ct.propertyIsEnumerable,Ye=pr((function(){return arguments})())?pr:function(n){return Ce(n)&&We.call(n,"callee")&&!pe.call(n,"callee")},xe=Array.isArray;function Or(){return!1}var Ln=typeof H=="object"&&H&&!H.nodeType&&H,dn=Ln&&typeof C=="object"&&C&&!C.nodeType&&C,Jt=dn&&dn.exports===Ln,An=Jt?ke.Buffer:void 0,y=An?An.isBuffer:void 0,Pt=y||Or,Ai=9007199254740991,Ci=/^(?:0|[1-9]\d*)$/;function Ie(n,t){return t=t??Ai,!!t&&(typeof n=="number"||Ci.test(n))&&n>-1&&n%1==0&&n<t}var Zr="[object Arguments]",Cn="[object Array]",xn="[object Boolean]",xi="[object Date]",Mi="[object Error]",yn="[object Function]",qr="[object Map]",Mn="[object Number]",rr="[object Object]",Pn="[object RegExp]",Pi="[object Set]",Ui="[object String]",Bi="[object WeakMap]",ji="[object ArrayBuffer]",zi="[object DataView]",Hi="[object Float32Array]",Wi="[object Float64Array]",Yi="[object Int8Array]",Vi="[object Int16Array]",Xi="[object Int32Array]",Zi="[object Uint8Array]",qi="[object Uint8ClampedArray]",Gi="[object Uint16Array]",Ki="[object Uint32Array]",me={};me[Hi]=me[Wi]=me[Yi]=me[Vi]=me[Xi]=me[Zi]=me[qi]=me[Gi]=me[Ki]=!0,me[Zr]=me[Cn]=me[ji]=me[xn]=me[zi]=me[xi]=me[Mi]=me[yn]=me[qr]=me[Mn]=me[rr]=me[Pn]=me[Pi]=me[Ui]=me[Bi]=!1;function Ji(n){return Ce(n)&&ce(n.length)&&!!me[oe(n)]}function Qi(n){return function(t){return n(t)}}var Un=typeof H=="object"&&H&&!H.nodeType&&H,Bn=Un&&typeof C=="object"&&C&&!C.nodeType&&C,$i=Bn&&Bn.exports===Un,vn=$i&&se.process,jn=(function(){try{return vn&&vn.binding&&vn.binding("util")}catch{}})(),zn=jn&&jn.isTypedArray,to=zn?Qi(zn):Ji,eo=Object.prototype,ro=eo.hasOwnProperty;function no(n,t){var r=xe(n),e=!r&&Ye(n),i=!r&&!e&&Pt(n),s=!r&&!e&&!i&&to(n),c=r||e||i||s,l=c?je(n.length,String):[],w=l.length;for(var k in n)ro.call(n,k)&&!(c&&(k=="length"||i&&(k=="offset"||k=="parent")||s&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||Ie(k,w)))&&l.push(k);return l}var io=Object.prototype;function oo(n){var t=n&&n.constructor,r=typeof t=="function"&&t.prototype||io;return n===r}function ao(n,t){return function(r){return n(t(r))}}var Mr=ao(Object.keys,Object),so=Object.prototype,uo=so.hasOwnProperty;function Hn(n){if(!oo(n))return Mr(n);var t=[];for(var r in Object(n))uo.call(n,r)&&r!="constructor"&&t.push(r);return t}function co(n){return Dt(n)?no(n):Hn(n)}function fo(n){var t=-1,r=n.length;return function(){return++t<r?{value:n[t],key:t}:null}}function lo(n){var t=-1;return function(){var e=n.next();return e.done?null:(t++,{value:e.value,key:t})}}function ho(n){var t=co(n),r=-1,e=t.length;return function(){var s=t[++r];return r<e?{value:n[s],key:s}:null}}function po(n){if(Dt(n))return fo(n);var t=Ae(n);return t?lo(t):ho(n)}function Wn(n){return function(){if(n===null)throw new Error("Callback was already called.");var t=n;n=null,t.apply(this,arguments)}}function mn(n){return function(t,r,e){if(e=ge(e||Ge),n<=0||!t)return e(null);var i=po(t),s=!1,c=0;function l(k,P){if(c-=1,k)s=!0,e(k);else{if(P===hr||s&&c<=0)return s=!0,e(null);w()}}function w(){for(;c<n&&!s;){var k=i();if(k===null){s=!0,c<=0&&e(null);return}c+=1,r(k.value,k.key,Wn(l))}}w()}}function Yn(n,t,r,e){mn(t)(n,r,e)}function Gr(n,t){return function(r,e,i){return n(r,t,e,i)}}function Vn(n,t,r){r=ge(r||Ge);var e=0,i=0,s=n.length;s===0&&r(null);function c(l,w){l?r(l):(++i===s||w===hr)&&r(null)}for(;e<s;e++)t(n[e],e,Wn(c))}var yo=Gr(Yn,1/0),Xn=function(n,t,r){var e=Dt(n)?Vn:yo;e(n,t,r)};function vo(n){return function(t,r,e){return n(Xn,t,r,e)}}function gn(n,t,r,e){e=e||Ge,t=t||[];var i=[],s=0;n(t,function(c,l,w){var k=s++;r(c,function(P,V){i[k]=V,w(P)})},function(c){e(c,i)})}var mo=vo(gn);$t(mo);function go(n){return function(t,r,e,i){return n(mn(r),t,e,i)}}var wo=go(gn),_o=Gr(wo,1);$t(_o),$(function(n,t){return $(function(r){return n.apply(null,t.concat(r))})});function Kr(n,t){for(var r=-1,e=n==null?0:n.length;++r<e&&t(n[r],r,n)!==!1;);return n}var Zn=typeof setImmediate=="function"&&setImmediate,Ir=typeof j=="object"&&typeof j.nextTick=="function";function qn(n){setTimeout(n,0)}function Gn(n){return $(function(t,r){n(function(){t.apply(null,r)})})}var Jr;Zn?Jr=setImmediate:Ir?Jr=j.nextTick:Jr=qn,Gn(Jr);var Eo=Gr(Yn,1);function So(n,t,r,e){e=ge(e||Ge),Eo(n,function(i,s,c){r(t,i,function(l,w){t=w,c(l)})},function(i){e(i,t)})}var ko=$(function(t){return $(function(r){var e=this,i=r[r.length-1];typeof i=="function"?r.pop():i=Ge,So(t,r,function(s,c,l){c.apply(e,s.concat($(function(w,k){l(w,k)})))},function(s,c){i.apply(e,[s].concat(c))})})});$(function(n){return ko.apply(null,n.reverse())}),$(function(n){var t=[null].concat(n);return st(function(r,e){return e.apply(this,t)})});function Kn(n){return $(function(t,r){t.apply(null,r.concat($(function(e,i){typeof console=="object"&&(e?console.error&&console.error(e):console[n]&&Kr(i,function(s){console[n](s)}))})))})}Kn("dir");function bo(n){return function(t,r,e){return n(t,e)}}function Jn(n,t,r){Xn(n,bo(t),r)}Kn("log");var Qr;Ir?Qr=j.nextTick:Zn?Qr=setImmediate:Qr=qn,Gn(Qr);var Ve;function Oo(){Ve||(Ve={},Ve[Dropbox.ApiError.NETWORK_ERROR]=h.EIO,Ve[Dropbox.ApiError.INVALID_PARAM]=h.EINVAL,Ve[Dropbox.ApiError.INVALID_TOKEN]=h.EPERM,Ve[Dropbox.ApiError.OAUTH_ERROR]=h.EPERM,Ve[Dropbox.ApiError.NOT_FOUND]=h.ENOENT,Ve[Dropbox.ApiError.INVALID_METHOD]=h.EINVAL,Ve[Dropbox.ApiError.NOT_ACCEPTABLE]=h.EINVAL,Ve[Dropbox.ApiError.CONFLICT]=h.EINVAL,Ve[Dropbox.ApiError.RATE_LIMITED]=h.EBUSY,Ve[Dropbox.ApiError.SERVER_ERROR]=h.EBUSY,Ve[Dropbox.ApiError.OVER_QUOTA]=h.ENOSPC)}function Io(n){return n&&n.stat.isFile}function No(n){return n&&n.stat.isFolder}function Fo(n){return n==null||typeof n=="object"&&typeof n.byteLength=="number"}var Me=function(t){this._cache={},this._client=t};Me.prototype.readdir=function(t,r){var e=this,i=this.getCachedDirInfo(t);this._wrap(function(s){i!==null&&i.contents?e._client.readdir(t,{contentHash:i.stat.contentHash},s):e._client.readdir(t,s)},function(s,c,l,w){s?s.status===Dropbox.ApiError.NO_CONTENT&&i!==null?r(null,i.contents.slice(0)):r(s):(e.updateCachedDirInfo(t,l,c.slice(0)),w.forEach(function(k){e.updateCachedInfo(S.join(t,k.name),k)}),r(null,c))})},Me.prototype.remove=function(t,r){var e=this;this._wrap(function(i){e._client.remove(t,i)},function(i,s){i||e.updateCachedInfo(t,s),r(i)})},Me.prototype.move=function(t,r,e){var i=this;this._wrap(function(s){i._client.move(t,r,s)},function(s,c){s||(i.deleteCachedInfo(t),i.updateCachedInfo(r,c)),e(s)})},Me.prototype.stat=function(t,r){var e=this;this._wrap(function(i){e._client.stat(t,i)},function(i,s){i||e.updateCachedInfo(t,s),r(i,s)})},Me.prototype.readFile=function(t,r){var e=this,i=this.getCachedFileInfo(t);i!==null&&i.contents!==null?this.stat(t,function(s,c){s?r(s):c.contentHash===i.stat.contentHash?r(s,i.contents.slice(0),i.stat):e.readFile(t,r)}):this._wrap(function(s){e._client.readFile(t,{arrayBuffer:!0},s)},function(s,c,l){s||e.updateCachedInfo(t,l,c.slice(0)),r(s,c,l)})},Me.prototype.writeFile=function(t,r,e){var i=this;this._wrap(function(s){i._client.writeFile(t,r,s)},function(s,c){s||i.updateCachedInfo(t,c,r.slice(0)),e(s,c)})},Me.prototype.mkdir=function(t,r){var e=this;this._wrap(function(i){e._client.mkdir(t,i)},function(i,s){i||e.updateCachedInfo(t,s,[]),r(i)})},Me.prototype._wrap=function(t,r){var e=0,i=function(s){var c=2;if(s&&3>++e)switch(s.status){case Dropbox.ApiError.SERVER_ERROR:case Dropbox.ApiError.NETWORK_ERROR:case Dropbox.ApiError.RATE_LIMITED:setTimeout(function(){t(i)},c*1e3);break;default:r.apply(null,arguments);break}else r.apply(null,arguments)};t(i)},Me.prototype.getCachedInfo=function(t){return this._cache[t.toLowerCase()]},Me.prototype.putCachedInfo=function(t,r){this._cache[t.toLowerCase()]=r},Me.prototype.deleteCachedInfo=function(t){delete this._cache[t.toLowerCase()]},Me.prototype.getCachedDirInfo=function(t){var r=this.getCachedInfo(t);return No(r)?r:null},Me.prototype.getCachedFileInfo=function(t){var r=this.getCachedInfo(t);return Io(r)?r:null},Me.prototype.updateCachedDirInfo=function(t,r,e){e===void 0&&(e=null);var i=this.getCachedInfo(t);r.contentHash!==null&&(i===void 0||i.stat.contentHash!==r.contentHash)&&this.putCachedInfo(t,{stat:r,contents:e})},Me.prototype.updateCachedFileInfo=function(t,r,e){e===void 0&&(e=null);var i=this.getCachedInfo(t);r.versionTag!==null&&(i===void 0||i.stat.versionTag!==r.versionTag)&&this.putCachedInfo(t,{stat:r,contents:e})},Me.prototype.updateCachedInfo=function(t,r,e){e===void 0&&(e=null),r.isFile&&Fo(e)?this.updateCachedFileInfo(t,r,e):r.isFolder&&Array.isArray(e)&&this.updateCachedDirInfo(t,r,e)};var Qn=(function(n){function t(r,e,i,s,c){n.call(this,r,e,i,s,c)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;if(this.isDirty()){var s=this.getBuffer(),c=lt(s);this._fs._writeFileStrict(this.getPath(),c,function(l){l||i.resetDirty(),e(l)})}else e()},t.prototype.close=function(e){this.sync(e)},t})(Se),$r=(function(n){function t(r,e){e===void 0&&(e=!0),n.call(this),this._client=new Me(r),Xt(e,t.Name,{client:"authenticated dropbox client instance"}),Oo()}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t(e.client,!1))},t.isAvailable=function(){return typeof Dropbox<"u"},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var i=this;this._client.readdir("/",function(s,c){if(s)e(i.convert(s,"/"));else{var l=function(k,P){var V=S.join("/",k);i._client.remove(V,function(et){P(et?i.convert(et,V):null)})},w=function(k){k?e(k):e()};Jn(c,l,w)}})},t.prototype.rename=function(e,i,s){var c=this;this._client.move(e,i,function(l){l?c._client.stat(i,function(w,k){if(w||k.isFolder){var P=l.response.error.indexOf(e)>-1?e:i;s(c.convert(l,P))}else c._client.remove(i,function(V){V?s(c.convert(V,i)):c.rename(e,i,s)})}):s()})},t.prototype.stat=function(e,i,s){var c=this;this._client.stat(e,function(l,w){if(l)s(c.convert(l,e));else if(w&&w.isRemoved)s(p.FileError(h.ENOENT,e));else{var k=new Z(c._statType(w),w.size);return s(null,k)}})},t.prototype.open=function(e,i,s,c){var l=this;this._client.readFile(e,function(w,k,P){if(w)if(i.isReadable())c(l.convert(w,e));else switch(w.status){case Dropbox.ApiError.NOT_FOUND:var V=new ArrayBuffer(0);return l._writeFileStrict(e,V,function(mt,Tt){if(mt)c(mt);else{var zt=l._makeFile(e,i,Tt,qt(V));c(null,zt)}});default:return c(l.convert(w,e))}else{var et;k===null?et=fe():et=qt(k);var vt=l._makeFile(e,i,P,et);return c(null,vt)}})},t.prototype._writeFileStrict=function(e,i,s){var c=this,l=S.dirname(e);this.stat(l,!1,function(w,k){w?s(p.FileError(h.ENOENT,l)):c._client.writeFile(e,i,function(P,V){P?s(c.convert(P,e)):s(null,V)})})},t.prototype._statType=function(e){return e.isFile?X.FILE:X.DIRECTORY},t.prototype._makeFile=function(e,i,s,c){var l=this._statType(s),w=new Z(l,s.size);return new Qn(this,e,i,w,c)},t.prototype._remove=function(e,i,s){var c=this;this._client.stat(e,function(l,w){l?i(c.convert(l,e)):w.isFile&&!s?i(p.FileError(h.ENOTDIR,e)):!w.isFile&&s?i(p.FileError(h.EISDIR,e)):c._client.remove(e,function(k){i(k?c.convert(k,e):null)})})},t.prototype.unlink=function(e,i){this._remove(e,i,!0)},t.prototype.rmdir=function(e,i){this._remove(e,i,!1)},t.prototype.mkdir=function(e,i,s){var c=this,l=S.dirname(e);this._client.stat(l,function(w,k){w?s(c.convert(w,l)):c._client.mkdir(e,function(P){s(P?p.FileError(h.EEXIST,e):null)})})},t.prototype.readdir=function(e,i){var s=this;this._client.readdir(e,function(c,l){return c?i(s.convert(c)):i(null,l)})},t.prototype.convert=function(e,i){i===void 0&&(i=null);var s=Ve[e.status];return s===void 0&&(s=h.EIO),i?p.FileError(s,i):new p(s)},t})(dt);$r.Name="Dropbox",$r.Options={client:{type:"object",description:"An *authenticated* Dropbox client. Must be from the 0.10 JS SDK.",validator:function(n,t){n.isAuthenticated&&n.isAuthenticated()?t():t(new p(h.EINVAL,"'client' option must be an authenticated Dropbox client from the v0.10 JS SDK."))}}};function be(n,t){t===void 0&&(t="");for(var r=n.errno,e=n.node,i=[];e&&(i.unshift(e.name),e!==e.parent);)e=e.parent;return new p(r,b[r],i.length>0?"/"+i.join("/"):t)}var Do=(function(n){function t(r,e,i,s){n.call(this),this._fs=r,this._FS=e,this._path=i,this._stream=s}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.getPos=function(){},t.prototype.close=function(e){var i=null;try{this.closeSync()}catch(s){i=s}finally{e(i)}},t.prototype.closeSync=function(){try{this._FS.close(this._stream)}catch(e){throw be(e,this._path)}},t.prototype.stat=function(e){try{e(null,this.statSync())}catch(i){e(i)}},t.prototype.statSync=function(){try{return this._fs.statSync(this._path,!1)}catch(e){throw be(e,this._path)}},t.prototype.truncate=function(e,i){var s=null;try{this.truncateSync(e)}catch(c){s=c}finally{i(s)}},t.prototype.truncateSync=function(e){try{this._FS.ftruncate(this._stream.fd,e)}catch(i){throw be(i,this._path)}},t.prototype.write=function(e,i,s,c,l){try{l(null,this.writeSync(e,i,s,c),e)}catch(w){l(w)}},t.prototype.writeSync=function(e,i,s,c){try{var l=It(e),w=c===null?void 0:c;return this._FS.write(this._stream,l,i,s,w)}catch(k){throw be(k,this._path)}},t.prototype.read=function(e,i,s,c,l){try{l(null,this.readSync(e,i,s,c),e)}catch(w){l(w)}},t.prototype.readSync=function(e,i,s,c){try{var l=It(e),w=c===null?void 0:c;return this._FS.read(this._stream,l,i,s,w)}catch(k){throw be(k,this._path)}},t.prototype.sync=function(e){e()},t.prototype.syncSync=function(){},t.prototype.chown=function(e,i,s){var c=null;try{this.chownSync(e,i)}catch(l){c=l}finally{s(c)}},t.prototype.chownSync=function(e,i){try{this._FS.fchown(this._stream.fd,e,i)}catch(s){throw be(s,this._path)}},t.prototype.chmod=function(e,i){var s=null;try{this.chmodSync(e)}catch(c){s=c}finally{i(s)}},t.prototype.chmodSync=function(e){try{this._FS.fchmod(this._stream.fd,e)}catch(i){throw be(i,this._path)}},t.prototype.utimes=function(e,i,s){var c=null;try{this.utimesSync(e,i)}catch(l){c=l}finally{s(c)}},t.prototype.utimesSync=function(e,i){this._fs.utimesSync(this._path,e,i)},t})(jt),tn=(function(n){function t(r){n.call(this),this._FS=r}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t(e.FS))},t.isAvailable=function(){return!0},t.prototype.getName=function(){return this._FS.DB_NAME()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!0},t.prototype.supportsProps=function(){return!0},t.prototype.supportsSynch=function(){return!0},t.prototype.renameSync=function(e,i){try{this._FS.rename(e,i)}catch(s){throw s.errno===h.ENOENT?be(s,this.existsSync(e)?i:e):be(s)}},t.prototype.statSync=function(e,i){try{var s=i?this._FS.lstat(e):this._FS.stat(e),c=this.modeToFileType(s.mode);return new Z(c,s.size,s.mode,s.atime,s.mtime,s.ctime)}catch(l){throw be(l,e)}},t.prototype.openSync=function(e,i,s){try{var c=this._FS.open(e,i.getFlagString(),s);if(this._FS.isDir(c.node.mode))throw this._FS.close(c),p.EISDIR(e);return new Do(this,this._FS,e,c)}catch(l){throw be(l,e)}},t.prototype.unlinkSync=function(e){try{this._FS.unlink(e)}catch(i){throw be(i,e)}},t.prototype.rmdirSync=function(e){try{this._FS.rmdir(e)}catch(i){throw be(i,e)}},t.prototype.mkdirSync=function(e,i){try{this._FS.mkdir(e,i)}catch(s){throw be(s,e)}},t.prototype.readdirSync=function(e){try{return this._FS.readdir(e).filter(function(i){return i!=="."&&i!==".."})}catch(i){throw be(i,e)}},t.prototype.truncateSync=function(e,i){try{this._FS.truncate(e,i)}catch(s){throw be(s,e)}},t.prototype.readFileSync=function(e,i,s){try{var c=this._FS.readFile(e,{flags:s.getFlagString()}),l=Wt(c);return i?l.toString(i):l}catch(w){throw be(w,e)}},t.prototype.writeFileSync=function(e,i,s,c,l){try{s&&(i=A.from(i,s));var w=It(i);this._FS.writeFile(e,w,{flags:c.getFlagString(),encoding:"binary"}),this._FS.chmod(e,l)}catch(k){throw be(k,e)}},t.prototype.chmodSync=function(e,i,s){try{i?this._FS.lchmod(e,s):this._FS.chmod(e,s)}catch(c){throw be(c,e)}},t.prototype.chownSync=function(e,i,s,c){try{i?this._FS.lchown(e,s,c):this._FS.chown(e,s,c)}catch(l){throw be(l,e)}},t.prototype.symlinkSync=function(e,i,s){try{this._FS.symlink(e,i)}catch(c){throw be(c)}},t.prototype.readlinkSync=function(e){try{return this._FS.readlink(e)}catch(i){throw be(i,e)}},t.prototype.utimesSync=function(e,i,s){try{this._FS.utime(e,i.getTime(),s.getTime())}catch(c){throw be(c,e)}},t.prototype.modeToFileType=function(e){if(this._FS.isDir(e))return X.DIRECTORY;if(this._FS.isFile(e))return X.FILE;if(this._FS.isLink(e))return X.SYMLINK;throw p.EPERM("Invalid mode: "+e)},t})(Le);tn.Name="EmscriptenFileSystem",tn.Options={FS:{type:"object",description:"The Emscripten file system to use (the `FS` variable)"}};var Nr=(function(n){function t(r,e){n.call(this),this._folder=r,this._wrapped=e}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t(e.folder,e.wrapped))},t.isAvailable=function(){return!0},t.prototype.initialize=function(e){var i=this;this._wrapped.exists(this._folder,function(s){s?e():i._wrapped.isReadOnly()?e(p.ENOENT(i._folder)):i._wrapped.mkdir(i._folder,511,e)})},t.prototype.getName=function(){return this._wrapped.getName()},t.prototype.isReadOnly=function(){return this._wrapped.isReadOnly()},t.prototype.supportsProps=function(){return this._wrapped.supportsProps()},t.prototype.supportsSynch=function(){return this._wrapped.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t})(dt);Nr.Name="FolderAdapter",Nr.Options={folder:{type:"string",description:"The folder to use as the root directory"},wrapped:{type:"object",description:"The file system to wrap"}};function $n(n,t){if(t!==null&&typeof t=="object"){var r=t,e=r.path;e&&(e="/"+S.relative(n,e),r.message=r.message.replace(r.path,e),r.path=e)}return t}function ti(n,t){return typeof t=="function"?function(r){arguments.length>0&&(arguments[0]=$n(n,r)),t.apply(null,arguments)}:t}function wn(n,t,r){return n.slice(n.length-4)!=="Sync"?function(){return arguments.length>0&&(arguments[0]=S.join(this._folder,arguments[0]),r&&(arguments[1]=S.join(this._folder,arguments[1])),arguments[arguments.length-1]=ti(this._folder,arguments[arguments.length-1])),this._wrapped[n].apply(this._wrapped,arguments)}:function(){try{return t&&(arguments[0]=S.join(this._folder,arguments[0])),r&&(arguments[1]=S.join(this._folder,arguments[1])),this._wrapped[n].apply(this._wrapped,arguments)}catch(e){throw $n(this._folder,e)}}}["diskSpace","stat","statSync","open","openSync","unlink","unlinkSync","rmdir","rmdirSync","mkdir","mkdirSync","readdir","readdirSync","exists","existsSync","realpath","realpathSync","truncate","truncateSync","readFile","readFileSync","writeFile","writeFileSync","appendFile","appendFileSync","chmod","chmodSync","chown","chownSync","utimes","utimesSync","readlink","readlinkSync"].forEach(function(n){Nr.prototype[n]=wn(n,!0,!1)}),["rename","renameSync","link","linkSync","symlink","symlinkSync"].forEach(function(n){Nr.prototype[n]=wn(n,!0,!0)});var dr;typeof window<"u"?dr=window:typeof self<"u"?dr=self:dr=Y;var we=dr;function Ro(n){return n.isDirectory}var en=we.webkitRequestFileSystem||we.requestFileSystem||null;function ei(n,t,r,e){if(typeof navigator.webkitPersistentStorage<"u")switch(n){case we.PERSISTENT:navigator.webkitPersistentStorage.requestQuota(t,r,e);break;case we.TEMPORARY:navigator.webkitTemporaryStorage.requestQuota(t,r,e);break;default:e(new TypeError("Invalid storage type: "+n));break}else we.webkitStorageInfo.requestQuota(n,t,r,e)}function ri(n){return Array.prototype.slice.call(n||[],0)}function ze(n,t,r){switch(n.name){case"PathExistsError":return p.EEXIST(t);case"QuotaExceededError":return p.FileError(h.ENOSPC,t);case"NotFoundError":return p.ENOENT(t);case"SecurityError":return p.FileError(h.EACCES,t);case"InvalidModificationError":return p.FileError(h.EPERM,t);case"TypeMismatchError":return p.FileError(r?h.ENOTDIR:h.EISDIR,t);case"EncodingError":case"InvalidStateError":case"NoModificationAllowedError":default:return p.FileError(h.EINVAL,t)}}var Pr=(function(n){function t(r,e,i,s,c,l){n.call(this,r,i,s,c,l),this._entry=e}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;if(!this.isDirty())return e();this._entry.createWriter(function(s){var c=i.getBuffer(),l=new Blob([lt(c)]),w=l.size;s.onwriteend=function(k){s.onwriteend=null,s.onerror=null,s.truncate(w),i.resetDirty(),e()},s.onerror=function(k){e(ze(k,i.getPath(),!1))},s.write(l)})},t.prototype.close=function(e){this.sync(e)},t})(Se),Ur=(function(n){function t(r,e,i){r===void 0&&(r=5),e===void 0&&(e=we.PERSISTENT),i===void 0&&(i=!0),n.call(this),this.size=1024*1024*r,this.type=e,Xt(i,t.Name,{size:r,type:e})}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s=new t(e.size,e.type,!1);s.allocate(function(c){return c?i(c):i(null,s)},!1)},t.isAvailable=function(){return!!en},t.prototype.getName=function(){return t.Name},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.allocate=function(e,i){var s=this;e===void 0&&(e=function(){}),i===void 0&&(i=!0),i&&console.warn("[HTML5FS] HTML5FS.allocate() is deprecated and will be removed in the next major release. Please use 'HTML5FS.Create({type: "+this.type+", size: "+this.size+"}, cb)' to create and allocate HTML5FS instances.");var c=function(w){s.fs=w,e()},l=function(w){e(ze(w,"/",!0))};this.type===we.PERSISTENT?ei(this.type,this.size,function(w){en(s.type,w,c,l)},l):en(this.type,this.size,c,l)},t.prototype.empty=function(e){this._readdir("/",function(i,s){if(i)console.error("Failed to empty FS"),e(i);else{var c=function(w){i?(console.error("Failed to empty FS"),e(i)):e()},l=function(w,k){var P=function(){k()},V=function(et){k(ze(et,w.fullPath,!w.isDirectory))};Ro(w)?w.removeRecursively(P,V):w.remove(P,V)};Jn(s,l,c)}})},t.prototype.rename=function(e,i,s){var c=this,l=2,w=0,k=this.fs.root,P=e,V=function(vt){--l<=0&&s(ze(vt,P,!1))},et=function(vt){if(++w===2)return s(new p(h.EINVAL,"Something was identified as both a file and a directory. This should never happen."));if(e===i)return s();P=S.dirname(i),k.getDirectory(P,{},function(mt){P=S.basename(i),vt.moveTo(mt,P,function(Tt){s()},function(Tt){vt.isDirectory?(P=i,c.unlink(i,function(zt){zt?V(Tt):c.rename(e,i,s)})):V(Tt)})},V)};k.getFile(e,{},et,V),k.getDirectory(e,{},et,V)},t.prototype.stat=function(e,i,s){var c=this,l={create:!1},w=function(et){var vt=function(mt){var Tt=new Z(X.FILE,mt.size);s(null,Tt)};et.file(vt,P)},k=function(et){var vt=4096,mt=new Z(X.DIRECTORY,vt);s(null,mt)},P=function(et){s(ze(et,e,!1))},V=function(){c.fs.root.getDirectory(e,l,k,P)};this.fs.root.getFile(e,l,w,V)},t.prototype.open=function(e,i,s,c){var l=this,w=function(k){k.name==="InvalidModificationError"&&i.isExclusive()?c(p.EEXIST(e)):c(ze(k,e,!1))};this.fs.root.getFile(e,{create:i.pathNotExistsAction()===x.CREATE_FILE,exclusive:i.isExclusive()},function(k){k.file(function(P){var V=new FileReader;V.onloadend=function(et){var vt=l._makeFile(e,k,i,P,V.result);c(null,vt)},V.onerror=function(et){w(V.error)},V.readAsArrayBuffer(P)},w)},w)},t.prototype.unlink=function(e,i){this._remove(e,i,!0)},t.prototype.rmdir=function(e,i){var s=this;this.readdir(e,function(c,l){c?i(c):l.length>0?i(p.ENOTEMPTY(e)):s._remove(e,i,!1)})},t.prototype.mkdir=function(e,i,s){var c={create:!0,exclusive:!0},l=function(k){s()},w=function(k){s(ze(k,e,!0))};this.fs.root.getDirectory(e,c,l,w)},t.prototype.readdir=function(e,i){this._readdir(e,function(s,c){if(c){for(var l=[],w=0,k=c;w<k.length;w+=1){var P=k[w];l.push(P.name)}i(null,l)}else return i(s)})},t.prototype._makeFile=function(e,i,s,c,l){l===void 0&&(l=new ArrayBuffer(0));var w=new Z(X.FILE,c.size),k=qt(l);return new Pr(this,i,e,s,w,k)},t.prototype._readdir=function(e,i){var s=function(c){i(ze(c,e,!0))};this.fs.root.getDirectory(e,{create:!1},function(c){var l=c.createReader(),w=[],k=function(){l.readEntries((function(P){P.length?(w=w.concat(ri(P)),k()):i(null,w)}),s)};k()},s)},t.prototype._remove=function(e,i,s){var c=function(k){var P=function(){i()},V=function(et){i(ze(et,e,!s))};k.remove(P,V)},l=function(k){i(ze(k,e,!s))},w={create:!1};s?this.fs.root.getFile(e,w,c,l):this.fs.root.getDirectory(e,w,c,l)},t})(dt);Ur.Name="HTML5FS",Ur.Options={size:{type:"number",optional:!0,description:"Storage quota to request, in megabytes. Allocated value may be less. Defaults to 5."},type:{type:"number",optional:!0,description:"window.PERSISTENT or window.TEMPORARY. Defaults to PERSISTENT."}};var Ue=function(t,r,e,i,s,c){this.id=t,this.size=r,this.mode=e,this.atime=i,this.mtime=s,this.ctime=c};Ue.fromBuffer=function(t){if(t===void 0)throw new Error("NO");return new Ue(t.toString("ascii",30),t.readUInt32LE(0),t.readUInt16LE(4),t.readDoubleLE(6),t.readDoubleLE(14),t.readDoubleLE(22))},Ue.prototype.toStats=function(){return new Z((this.mode&61440)===X.DIRECTORY?X.DIRECTORY:X.FILE,this.size,this.mode,new Date(this.atime),new Date(this.mtime),new Date(this.ctime))},Ue.prototype.getSize=function(){return 30+this.id.length},Ue.prototype.toBuffer=function(t){return t===void 0&&(t=A.alloc(this.getSize())),t.writeUInt32LE(this.size,0),t.writeUInt16LE(this.mode,4),t.writeDoubleLE(this.atime,6),t.writeDoubleLE(this.mtime,14),t.writeDoubleLE(this.ctime,22),t.write(this.id,30,this.id.length,"ascii"),t},Ue.prototype.update=function(t){var r=!1;this.size!==t.size&&(this.size=t.size,r=!0),this.mode!==t.mode&&(this.mode=t.mode,r=!0);var e=t.atime.getTime();this.atime!==e&&(this.atime=e,r=!0);var i=t.mtime.getTime();this.mtime!==i&&(this.mtime=i,r=!0);var s=t.ctime.getTime();return this.ctime!==s&&(this.ctime=s,r=!0),r},Ue.prototype.isFile=function(){return(this.mode&61440)===X.FILE},Ue.prototype.isDirectory=function(){return(this.mode&61440)===X.DIRECTORY};var nr="/",rn=null;function nn(){return rn||(rn=A.from("{}"))}function kt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,r=n==="x"?t:t&3|8;return r.toString(16)})}function wt(n,t){return n?(t(n),!1):!0}function yt(n,t,r){return n?(t.abort(function(){r(n)}),!1):!0}var Qe=function(t){this.store=t,this.originalData={},this.modifiedKeys=[]};Qe.prototype.get=function(t){var r=this.store.get(t);return this.stashOldValue(t,r),r},Qe.prototype.put=function(t,r,e){return this.markModified(t),this.store.put(t,r,e)},Qe.prototype.del=function(t){this.markModified(t),this.store.del(t)},Qe.prototype.commit=function(){},Qe.prototype.abort=function(){for(var t=this,r=0,e=t.modifiedKeys;r<e.length;r+=1){var i=e[r],s=t.originalData[i];s?t.store.put(i,s,!0):t.store.del(i)}},Qe.prototype.stashOldValue=function(t,r){this.originalData.hasOwnProperty(t)||(this.originalData[t]=r)},Qe.prototype.markModified=function(t){this.modifiedKeys.indexOf(t)===-1&&(this.modifiedKeys.push(t),this.originalData.hasOwnProperty(t)||(this.originalData[t]=this.store.get(t)))};var _n=(function(n){function t(r,e,i,s,c){n.call(this,r,e,i,s,c)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this.getPath(),this.getBuffer(),this.getStats()),this.resetDirty())},t.prototype.closeSync=function(){this.syncSync()},t})(Se),En=(function(n){function t(r){n.call(this),this.store=r.store,this.makeRootDirectory()}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.empty=function(){this.store.clear(),this.makeRootDirectory()},t.prototype.renameSync=function(e,i){var s=this.store.beginTransaction("readwrite"),c=S.dirname(e),l=S.basename(e),w=S.dirname(i),k=S.basename(i),P=this.findINode(s,c),V=this.getDirListing(s,c,P);if(!V[l])throw p.ENOENT(e);var et=V[l];if(delete V[l],(w+"/").indexOf(e+"/")===0)throw new p(h.EBUSY,c);var vt,mt;if(w===c?(vt=P,mt=V):(vt=this.findINode(s,w),mt=this.getDirListing(s,w,vt)),mt[k]){var Tt=this.getINode(s,i,mt[k]);if(Tt.isFile())try{s.del(Tt.id),s.del(mt[k])}catch(zt){throw s.abort(),zt}else throw p.EPERM(i)}mt[k]=et;try{s.put(P.id,A.from(JSON.stringify(V)),!0),s.put(vt.id,A.from(JSON.stringify(mt)),!0)}catch(zt){throw s.abort(),zt}s.commit()},t.prototype.statSync=function(e,i){return this.findINode(this.store.beginTransaction("readonly"),e).toStats()},t.prototype.createFileSync=function(e,i,s){var c=this.store.beginTransaction("readwrite"),l=fe(),w=this.commitNewFile(c,e,X.FILE,s,l);return new _n(this,e,i,w.toStats(),l)},t.prototype.openFileSync=function(e,i){var s=this.store.beginTransaction("readonly"),c=this.findINode(s,e),l=s.get(c.id);if(l===void 0)throw p.ENOENT(e);return new _n(this,e,i,c.toStats(),l)},t.prototype.unlinkSync=function(e){this.removeEntry(e,!1)},t.prototype.rmdirSync=function(e){if(this.readdirSync(e).length>0)throw p.ENOTEMPTY(e);this.removeEntry(e,!0)},t.prototype.mkdirSync=function(e,i){var s=this.store.beginTransaction("readwrite"),c=A.from("{}");this.commitNewFile(s,e,X.DIRECTORY,i,c)},t.prototype.readdirSync=function(e){var i=this.store.beginTransaction("readonly");return Object.keys(this.getDirListing(i,e,this.findINode(i,e)))},t.prototype._syncSync=function(e,i,s){var c=this.store.beginTransaction("readwrite"),l=this._findINode(c,S.dirname(e),S.basename(e)),w=this.getINode(c,e,l),k=w.update(s);try{c.put(w.id,i,!0),k&&c.put(l,w.toBuffer(),!0)}catch(P){throw c.abort(),P}c.commit()},t.prototype.makeRootDirectory=function(){var e=this.store.beginTransaction("readwrite");if(e.get(nr)===void 0){var i=new Date().getTime(),s=new Ue(kt(),4096,511|X.DIRECTORY,i,i,i);e.put(s.id,nn(),!1),e.put(nr,s.toBuffer(),!1),e.commit()}},t.prototype._findINode=function(e,i,s){var c=this,l=function(w){var k=c.getDirListing(e,i,w);if(k[s])return k[s];throw p.ENOENT(S.resolve(i,s))};return i==="/"?s===""?nr:l(this.getINode(e,i,nr)):l(this.getINode(e,i+S.sep+s,this._findINode(e,S.dirname(i),S.basename(i))))},t.prototype.findINode=function(e,i){return this.getINode(e,i,this._findINode(e,S.dirname(i),S.basename(i)))},t.prototype.getINode=function(e,i,s){var c=e.get(s);if(c===void 0)throw p.ENOENT(i);return Ue.fromBuffer(c)},t.prototype.getDirListing=function(e,i,s){if(!s.isDirectory())throw p.ENOTDIR(i);var c=e.get(s.id);if(c===void 0)throw p.ENOENT(i);return JSON.parse(c.toString())},t.prototype.addNewNode=function(e,i){for(var s=0,c;s<5;)try{return c=kt(),e.put(c,i,!1),c}catch{}throw new p(h.EIO,"Unable to commit data to key-value store.")},t.prototype.commitNewFile=function(e,i,s,c,l){var w=S.dirname(i),k=S.basename(i),P=this.findINode(e,w),V=this.getDirListing(e,w,P),et=new Date().getTime();if(i==="/"||V[k])throw p.EEXIST(i);var vt;try{var mt=this.addNewNode(e,l);vt=new Ue(mt,l.length,c|s,et,et,et);var Tt=this.addNewNode(e,vt.toBuffer());V[k]=Tt,e.put(P.id,A.from(JSON.stringify(V)),!0)}catch(zt){throw e.abort(),zt}return e.commit(),vt},t.prototype.removeEntry=function(e,i){var s=this.store.beginTransaction("readwrite"),c=S.dirname(e),l=this.findINode(s,c),w=this.getDirListing(s,c,l),k=S.basename(e);if(!w[k])throw p.ENOENT(e);var P=w[k];delete w[k];var V=this.getINode(s,e,P);if(!i&&V.isDirectory())throw p.EISDIR(e);if(i&&!V.isDirectory())throw p.ENOTDIR(e);try{s.del(V.id),s.del(P),s.put(l.id,A.from(JSON.stringify(w)),!0)}catch(et){throw s.abort(),et}s.commit()},t})(Le),Sn=(function(n){function t(r,e,i,s,c){n.call(this,r,e,i,s,c)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;this.isDirty()?this._fs._sync(this.getPath(),this.getBuffer(),this.getStats(),function(s){s||i.resetDirty(),e(s)}):e()},t.prototype.close=function(e){this.sync(e)},t})(Se),ni=(function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.init=function(e,i){this.store=e,this.makeRootDirectory(i)},t.prototype.getName=function(){return this.store.name()},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSymlinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!1},t.prototype.empty=function(e){var i=this;this.store.clear(function(s){wt(s,e)&&i.makeRootDirectory(e)})},t.prototype.rename=function(e,i,s){var c=this,l=this.store.beginTransaction("readwrite"),w=S.dirname(e),k=S.basename(e),P=S.dirname(i),V=S.basename(i),et={},vt={},mt=!1;if((P+"/").indexOf(e+"/")===0)return s(new p(h.EBUSY,w));var Tt=function(){if(!(mt||!vt.hasOwnProperty(w)||!vt.hasOwnProperty(P))){var Qt=vt[w],Ne=et[w],He=vt[P],ur=et[P];if(!Qt[k])s(p.ENOENT(e));else{var cr=Qt[k];delete Qt[k];var pn=function(){He[V]=cr,l.put(Ne.id,A.from(JSON.stringify(Qt)),!0,function(_r){yt(_r,l,s)&&(w===P?l.commit(s):l.put(ur.id,A.from(JSON.stringify(He)),!0,function(Er){yt(Er,l,s)&&l.commit(s)}))})};He[V]?c.getINode(l,i,He[V],function(_r,Er){yt(_r,l,s)&&(Er.isFile()?l.del(Er.id,function($o){yt($o,l,s)&&l.del(He[V],function(_a){yt(_a,l,s)&&pn()})}):l.abort(function($o){s(p.EPERM(i))}))}):pn()}}},zt=function(Qt){c.findINodeAndDirListing(l,Qt,function(Ne,He,ur){Ne?mt||(mt=!0,l.abort(function(){s(Ne)})):(et[Qt]=He,vt[Qt]=ur,Tt())})};zt(w),w!==P&&zt(P)},t.prototype.stat=function(e,i,s){var c=this.store.beginTransaction("readonly");this.findINode(c,e,function(l,w){wt(l,s)&&s(null,w.toStats())})},t.prototype.createFile=function(e,i,s,c){var l=this,w=this.store.beginTransaction("readwrite"),k=fe();this.commitNewFile(w,e,X.FILE,s,k,function(P,V){wt(P,c)&&c(null,new Sn(l,e,i,V.toStats(),k))})},t.prototype.openFile=function(e,i,s){var c=this,l=this.store.beginTransaction("readonly");this.findINode(l,e,function(w,k){wt(w,s)&&l.get(k.id,function(P,V){wt(P,s)&&(V===void 0?s(p.ENOENT(e)):s(null,new Sn(c,e,i,k.toStats(),V)))})})},t.prototype.unlink=function(e,i){this.removeEntry(e,!1,i)},t.prototype.rmdir=function(e,i){var s=this;this.readdir(e,function(c,l){c?i(c):l.length>0?i(p.ENOTEMPTY(e)):s.removeEntry(e,!0,i)})},t.prototype.mkdir=function(e,i,s){var c=this.store.beginTransaction("readwrite"),l=A.from("{}");this.commitNewFile(c,e,X.DIRECTORY,i,l,s)},t.prototype.readdir=function(e,i){var s=this,c=this.store.beginTransaction("readonly");this.findINode(c,e,function(l,w){wt(l,i)&&s.getDirListing(c,e,w,function(k,P){wt(k,i)&&i(null,Object.keys(P))})})},t.prototype._sync=function(e,i,s,c){var l=this,w=this.store.beginTransaction("readwrite");this._findINode(w,S.dirname(e),S.basename(e),function(k,P){yt(k,w,c)&&l.getINode(w,e,P,function(V,et){if(yt(V,w,c)){var vt=et.update(s);w.put(et.id,i,!0,function(mt){yt(mt,w,c)&&(vt?w.put(P,et.toBuffer(),!0,function(Tt){yt(Tt,w,c)&&w.commit(c)}):w.commit(c))})}})})},t.prototype.makeRootDirectory=function(e){var i=this.store.beginTransaction("readwrite");i.get(nr,function(s,c){if(s||c===void 0){var l=new Date().getTime(),w=new Ue(kt(),4096,511|X.DIRECTORY,l,l,l);i.put(w.id,nn(),!1,function(k){yt(k,i,e)&&i.put(nr,w.toBuffer(),!1,function(P){P?i.abort(function(){e(P)}):i.commit(e)})})}else i.commit(e)})},t.prototype._findINode=function(e,i,s,c){var l=this,w=function(k,P,V){k?c(k):V[s]?c(null,V[s]):c(p.ENOENT(S.resolve(i,s)))};i==="/"?s===""?c(null,nr):this.getINode(e,i,nr,function(k,P){wt(k,c)&&l.getDirListing(e,i,P,function(V,et){w(V,P,et)})}):this.findINodeAndDirListing(e,i,w)},t.prototype.findINode=function(e,i,s){var c=this;this._findINode(e,S.dirname(i),S.basename(i),function(l,w){wt(l,s)&&c.getINode(e,i,w,s)})},t.prototype.getINode=function(e,i,s,c){e.get(s,function(l,w){wt(l,c)&&(w===void 0?c(p.ENOENT(i)):c(null,Ue.fromBuffer(w)))})},t.prototype.getDirListing=function(e,i,s,c){s.isDirectory()?e.get(s.id,function(l,w){if(wt(l,c))try{c(null,JSON.parse(w.toString()))}catch{c(p.ENOENT(i))}}):c(p.ENOTDIR(i))},t.prototype.findINodeAndDirListing=function(e,i,s){var c=this;this.findINode(e,i,function(l,w){wt(l,s)&&c.getDirListing(e,i,w,function(k,P){wt(k,s)&&s(null,w,P)})})},t.prototype.addNewNode=function(e,i,s){var c=0,l,w=function(){++c===5?s(new p(h.EIO,"Unable to commit data to key-value store.")):(l=kt(),e.put(l,i,!1,function(k,P){k||!P?w():s(null,l)}))};w()},t.prototype.commitNewFile=function(e,i,s,c,l,w){var k=this,P=S.dirname(i),V=S.basename(i),et=new Date().getTime();if(i==="/")return w(p.EEXIST(i));this.findINodeAndDirListing(e,P,function(vt,mt,Tt){yt(vt,e,w)&&(Tt[V]?e.abort(function(){w(p.EEXIST(i))}):k.addNewNode(e,l,function(zt,Qt){if(yt(zt,e,w)){var Ne=new Ue(Qt,l.length,c|s,et,et,et);k.addNewNode(e,Ne.toBuffer(),function(He,ur){yt(He,e,w)&&(Tt[V]=ur,e.put(mt.id,A.from(JSON.stringify(Tt)),!0,function(cr){yt(cr,e,w)&&e.commit(function(pn){yt(pn,e,w)&&w(null,Ne)})}))})}}))})},t.prototype.removeEntry=function(e,i,s){var c=this,l=this.store.beginTransaction("readwrite"),w=S.dirname(e),k=S.basename(e);this.findINodeAndDirListing(l,w,function(P,V,et){if(yt(P,l,s))if(!et[k])l.abort(function(){s(p.ENOENT(e))});else{var vt=et[k];delete et[k],c.getINode(l,e,vt,function(mt,Tt){yt(mt,l,s)&&(!i&&Tt.isDirectory()?l.abort(function(){s(p.EISDIR(e))}):i&&!Tt.isDirectory()?l.abort(function(){s(p.ENOTDIR(e))}):l.del(Tt.id,function(zt){yt(zt,l,s)&&l.del(vt,function(Qt){yt(Qt,l,s)&&l.put(V.id,A.from(JSON.stringify(et)),!0,function(Ne){yt(Ne,l,s)&&l.commit(s)})})}))})}})},t})(dt),ar=function(){this.store={}};ar.prototype.name=function(){return yr.Name},ar.prototype.clear=function(){this.store={}},ar.prototype.beginTransaction=function(t){return new Qe(this)},ar.prototype.get=function(t){return this.store[t]},ar.prototype.put=function(t,r,e){return!e&&this.store.hasOwnProperty(t)?!1:(this.store[t]=r,!0)},ar.prototype.del=function(t){delete this.store[t]};var yr=(function(n){function t(){n.call(this,{store:new ar})}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t)},t})(En);yr.Name="InMemory",yr.Options={};var on=we.indexedDB||we.mozIndexedDB||we.webkitIndexedDB||we.msIndexedDB;function Fr(n,t){switch(t===void 0&&(t=n.toString()),n.name){case"NotFoundError":return new p(h.ENOENT,t);case"QuotaExceededError":return new p(h.ENOSPC,t);default:return new p(h.EIO,t)}}function Dr(n,t,r){return t===void 0&&(t=h.EIO),r===void 0&&(r=null),function(e){e.preventDefault(),n(new p(t,r!==null?r:void 0))}}var an=function(t,r){this.tx=t,this.store=r};an.prototype.get=function(t,r){try{var e=this.store.get(t);e.onerror=Dr(r),e.onsuccess=function(i){var s=i.target.result;s===void 0?r(null,s):r(null,qt(s))}}catch(i){r(Fr(i))}};var ii=(function(n){function t(r,e){n.call(this,r,e)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.put=function(e,i,s,c){try{var l=lt(i),w;s?w=this.store.put(l,e):w=this.store.add(l,e),w.onerror=Dr(c),w.onsuccess=function(k){c(null,!0)}}catch(k){c(Fr(k))}},t.prototype.del=function(e,i){try{var s=this.store.delete(e);s.onerror=Dr(i),s.onsuccess=function(c){i()}}catch(c){i(Fr(c))}},t.prototype.commit=function(e){setTimeout(e,0)},t.prototype.abort=function(e){var i=null;try{this.tx.abort()}catch(s){i=Fr(s)}finally{e(i)}},t})(an),Br=function(t,r){var e=this;r===void 0&&(r="browserfs"),this.storeName=r;var i=on.open(this.storeName,1);i.onupgradeneeded=function(s){var c=s.target.result;c.objectStoreNames.contains(e.storeName)&&c.deleteObjectStore(e.storeName),c.createObjectStore(e.storeName)},i.onsuccess=function(s){e.db=s.target.result,t(null,e)},i.onerror=Dr(t,h.EACCES)};Br.prototype.name=function(){return Rr.Name+" - "+this.storeName},Br.prototype.clear=function(t){try{var r=this.db.transaction(this.storeName,"readwrite"),e=r.objectStore(this.storeName),i=e.clear();i.onsuccess=function(s){setTimeout(t,0)},i.onerror=Dr(t)}catch(s){t(Fr(s))}},Br.prototype.beginTransaction=function(t){t===void 0&&(t="readonly");var r=this.db.transaction(this.storeName,t),e=r.objectStore(this.storeName);if(t==="readwrite")return new ii(r,e);if(t==="readonly")return new an(r,e);throw new p(h.EINVAL,"Invalid transaction type.")};var Rr=(function(n){function t(r,e,i){var s=this;i===void 0&&(i=!0),n.call(this),this.store=new Br(function(c){c?r(c):s.init(s.store,function(l){r(l,s)})},e),Xt(i,t.Name,{storeName:e})}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){new t(i,e.storeName,!1)},t.isAvailable=function(){try{return typeof on<"u"&&on.open("__browserfs_test__")!==null}catch{return!1}},t})(ni);Rr.Name="IndexedDB",Rr.Options={storeName:{type:"string",optional:!0,description:"The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."}};var kn=!1,jr;try{we.localStorage.setItem("__test__","\uD800"),kn=we.localStorage.getItem("__test__")==="\uD800"}catch{kn=!1}jr=kn?"binary_string":"binary_string_ie",A.isEncoding(jr)||(jr="base64");var vr=function(){};vr.prototype.name=function(){return zr.Name},vr.prototype.clear=function(){we.localStorage.clear()},vr.prototype.beginTransaction=function(t){return new Qe(this)},vr.prototype.get=function(t){try{var r=we.localStorage.getItem(t);if(r!==null)return A.from(r,jr)}catch{}},vr.prototype.put=function(t,r,e){try{return!e&&we.localStorage.getItem(t)!==null?!1:(we.localStorage.setItem(t,r.toString(jr)),!0)}catch{throw new p(h.ENOSPC,"LocalStorage is full.")}},vr.prototype.del=function(t){try{we.localStorage.removeItem(t)}catch(r){throw new p(h.EIO,"Unable to delete key "+t+": "+r)}};var zr=(function(n){function t(){n.call(this,{store:new vr})}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){i(null,new t)},t.isAvailable=function(){return typeof we.localStorage<"u"},t})(En);zr.Name="LocalStorage",zr.Options={};var Tr=(function(n){function t(){n.call(this),this.mountList=[],this.mntMap={},this.rootFs=new yr}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s=new t;Object.keys(e).forEach(function(c){s.mount(c,e[c])}),i(null,s)},t.isAvailable=function(){return!0},t.prototype.mount=function(e,i){if(e[0]!=="/"&&(e="/"+e),e=S.resolve(e),this.mntMap[e])throw new p(h.EINVAL,"Mount point "+e+" is already taken.");W(e,511,this.rootFs),this.mntMap[e]=i,this.mountList.push(e),this.mountList=this.mountList.sort(function(s,c){return c.length-s.length})},t.prototype.umount=function(e){var i=this;if(e[0]!=="/"&&(e="/"+e),e=S.resolve(e),!this.mntMap[e])throw new p(h.EINVAL,"Mount point "+e+" is already unmounted.");for(delete this.mntMap[e],this.mountList.splice(this.mountList.indexOf(e),1);e!=="/"&&i.rootFs.readdirSync(e).length===0;)i.rootFs.rmdirSync(e),e=S.dirname(e)},t.prototype._getFs=function(e){for(var i=this,s=this.mountList,c=s.length,l=0;l<c;l++){var w=s[l];if(w.length<=e.length&&e.indexOf(w)===0)return e=e.substr(w.length>1?w.length:0),e===""&&(e="/"),{fs:i.mntMap[w],path:e}}return{fs:this.rootFs,path:e}},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,i){i(0,0)},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.standardizeError=function(e,i,s){var c=e.message.indexOf(i);return c!==-1&&(e.message=e.message.substr(0,c)+s+e.message.substr(c+i.length),e.path=s),e},t.prototype.rename=function(e,i,s){var c=this,l=this._getFs(e),w=this._getFs(i);return l.fs===w.fs?l.fs.rename(l.path,w.path,function(k){k&&c.standardizeError(c.standardizeError(k,l.path,e),w.path,i),s(k)}):bt.readFile(e,function(k,P){if(k)return s(k);bt.writeFile(i,P,function(V){if(V)return s(V);bt.unlink(e,s)})})},t.prototype.renameSync=function(e,i){var s=this._getFs(e),c=this._getFs(i);if(s.fs===c.fs)try{return s.fs.renameSync(s.path,c.path)}catch(w){throw this.standardizeError(this.standardizeError(w,s.path,e),c.path,i),w}var l=bt.readFileSync(e);return bt.writeFileSync(i,l),bt.unlinkSync(e)},t.prototype.readdirSync=function(e){var i=this._getFs(e),s=null;if(i.fs!==this.rootFs)try{s=this.rootFs.readdirSync(e)}catch{}try{var c=i.fs.readdirSync(i.path);return s===null?c:c.concat(s.filter(function(l){return c.indexOf(l)===-1}))}catch(l){if(s===null)throw this.standardizeError(l,i.path,e);return s}},t.prototype.readdir=function(e,i){var s=this,c=this._getFs(e);c.fs.readdir(c.path,function(l,w){if(c.fs!==s.rootFs)try{var k=s.rootFs.readdirSync(e);w?w=w.concat(k.filter(function(P){return w.indexOf(P)===-1})):w=k}catch{if(l)return i(s.standardizeError(l,c.path,e))}else if(l)return i(s.standardizeError(l,c.path,e));i(null,w)})},t.prototype.rmdirSync=function(e){var i=this._getFs(e);if(this._containsMountPt(e))throw p.ENOTEMPTY(e);try{i.fs.rmdirSync(i.path)}catch(s){throw this.standardizeError(s,i.path,e)}},t.prototype.rmdir=function(e,i){var s=this,c=this._getFs(e);this._containsMountPt(e)?i(p.ENOTEMPTY(e)):c.fs.rmdir(c.path,function(l){i(l?s.standardizeError(l,c.path,e):null)})},t.prototype._containsMountPt=function(e){for(var i=this.mountList,s=i.length,c=0;c<s;c++){var l=i[c];if(l.length>=e.length&&l.slice(0,e.length)===e)return!0}return!1},t})(dt);Tr.Name="MountableFileSystem",Tr.Options={};function oi(n,t,r){return t?function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var s=e[0],c=this._getFs(s);e[0]=c.path;try{return c.fs[n].apply(c.fs,e)}catch(l){throw this.standardizeError(l,c.path,s),l}}:function(){for(var e=this,i=[],s=arguments.length;s--;)i[s]=arguments[s];var c=i[0],l=this._getFs(c);if(i[0]=l.path,typeof i[i.length-1]=="function"){var w=i[i.length-1];i[i.length-1]=function(){for(var k=[],P=arguments.length;P--;)k[P]=arguments[P];k.length>0&&k[0]instanceof p&&e.standardizeError(k[0],l.path,c),w.apply(null,k)}}return l.fs[n].apply(l.fs,i)}}for(var ai=[["exists","unlink","readlink"],["stat","mkdir","realpath","truncate"],["open","readFile","chmod","utimes"],["chown"],["writeFile","appendFile"]],bn=0;bn<ai.length;bn++)for(var To=ai[bn],On=0,si=To;On<si.length;On+=1){var sn=si[On];Tr.prototype[sn]=oi(sn,!1),Tr.prototype[sn+"Sync"]=oi(sn+"Sync",!0)}var Hr;if(typeof setImmediate<"u")Hr=setImmediate;else{var Ke=we,Lr=[],ui="zero-timeout-message",Lo=function(){if(typeof Ke.importScripts<"u"||!Ke.postMessage)return!1;var n=!0,t=Ke.onmessage;return Ke.onmessage=function(){n=!1},Ke.postMessage("","*"),Ke.onmessage=t,n};if(Lo()){Hr=function(n){Lr.push(n),Ke.postMessage(ui,"*")};var ci=function(n){if(n.source===self&&n.data===ui&&(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,Lr.length>0)){var t=Lr.shift();return t()}};Ke.addEventListener?Ke.addEventListener("message",ci,!0):Ke.attachEvent("onmessage",ci)}else if(Ke.MessageChannel){var fi=new Ke.MessageChannel;fi.port1.onmessage=function(n){if(Lr.length>0)return Lr.shift()()},Hr=function(n){Lr.push(n),fi.port2.postMessage("")}}else Hr=function(n){return setTimeout(n,0)}}var In=Hr,Wr=function(){this._locked=!1,this._waiters=[]};Wr.prototype.lock=function(t){if(this._locked){this._waiters.push(t);return}this._locked=!0,t()},Wr.prototype.unlock=function(){if(!this._locked)throw new Error("unlock of a non-locked mutex");var t=this._waiters.shift();if(t){In(t);return}this._locked=!1},Wr.prototype.tryLock=function(){return this._locked?!1:(this._locked=!0,!0)},Wr.prototype.isLocked=function(){return this._locked};var Zt=function(t){this._fs=t,this._mu=new Wr};Zt.prototype.getName=function(){return"LockedFS<"+this._fs.getName()+">"},Zt.prototype.getFSUnlocked=function(){return this._fs},Zt.prototype.initialize=function(t){this._fs.initialize(t)},Zt.prototype.diskSpace=function(t,r){this._fs.diskSpace(t,r)},Zt.prototype.isReadOnly=function(){return this._fs.isReadOnly()},Zt.prototype.supportsLinks=function(){return this._fs.supportsLinks()},Zt.prototype.supportsProps=function(){return this._fs.supportsProps()},Zt.prototype.supportsSynch=function(){return this._fs.supportsSynch()},Zt.prototype.rename=function(t,r,e){var i=this;this._mu.lock(function(){i._fs.rename(t,r,function(s){i._mu.unlock(),e(s)})})},Zt.prototype.renameSync=function(t,r){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.renameSync(t,r)},Zt.prototype.stat=function(t,r,e){var i=this;this._mu.lock(function(){i._fs.stat(t,r,function(s,c){i._mu.unlock(),e(s,c)})})},Zt.prototype.statSync=function(t,r){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.statSync(t,r)},Zt.prototype.open=function(t,r,e,i){var s=this;this._mu.lock(function(){s._fs.open(t,r,e,function(c,l){s._mu.unlock(),i(c,l)})})},Zt.prototype.openSync=function(t,r,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.openSync(t,r,e)},Zt.prototype.unlink=function(t,r){var e=this;this._mu.lock(function(){e._fs.unlink(t,function(i){e._mu.unlock(),r(i)})})},Zt.prototype.unlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.unlinkSync(t)},Zt.prototype.rmdir=function(t,r){var e=this;this._mu.lock(function(){e._fs.rmdir(t,function(i){e._mu.unlock(),r(i)})})},Zt.prototype.rmdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.rmdirSync(t)},Zt.prototype.mkdir=function(t,r,e){var i=this;this._mu.lock(function(){i._fs.mkdir(t,r,function(s){i._mu.unlock(),e(s)})})},Zt.prototype.mkdirSync=function(t,r){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.mkdirSync(t,r)},Zt.prototype.readdir=function(t,r){var e=this;this._mu.lock(function(){e._fs.readdir(t,function(i,s){e._mu.unlock(),r(i,s)})})},Zt.prototype.readdirSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readdirSync(t)},Zt.prototype.exists=function(t,r){var e=this;this._mu.lock(function(){e._fs.exists(t,function(i){e._mu.unlock(),r(i)})})},Zt.prototype.existsSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.existsSync(t)},Zt.prototype.realpath=function(t,r,e){var i=this;this._mu.lock(function(){i._fs.realpath(t,r,function(s,c){i._mu.unlock(),e(s,c)})})},Zt.prototype.realpathSync=function(t,r){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.realpathSync(t,r)},Zt.prototype.truncate=function(t,r,e){var i=this;this._mu.lock(function(){i._fs.truncate(t,r,function(s){i._mu.unlock(),e(s)})})},Zt.prototype.truncateSync=function(t,r){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.truncateSync(t,r)},Zt.prototype.readFile=function(t,r,e,i){var s=this;this._mu.lock(function(){s._fs.readFile(t,r,e,function(c,l){s._mu.unlock(),i(c,l)})})},Zt.prototype.readFileSync=function(t,r,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readFileSync(t,r,e)},Zt.prototype.writeFile=function(t,r,e,i,s,c){var l=this;this._mu.lock(function(){l._fs.writeFile(t,r,e,i,s,function(w){l._mu.unlock(),c(w)})})},Zt.prototype.writeFileSync=function(t,r,e,i,s){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.writeFileSync(t,r,e,i,s)},Zt.prototype.appendFile=function(t,r,e,i,s,c){var l=this;this._mu.lock(function(){l._fs.appendFile(t,r,e,i,s,function(w){l._mu.unlock(),c(w)})})},Zt.prototype.appendFileSync=function(t,r,e,i,s){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.appendFileSync(t,r,e,i,s)},Zt.prototype.chmod=function(t,r,e,i){var s=this;this._mu.lock(function(){s._fs.chmod(t,r,e,function(c){s._mu.unlock(),i(c)})})},Zt.prototype.chmodSync=function(t,r,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chmodSync(t,r,e)},Zt.prototype.chown=function(t,r,e,i,s){var c=this;this._mu.lock(function(){c._fs.chown(t,r,e,i,function(l){c._mu.unlock(),s(l)})})},Zt.prototype.chownSync=function(t,r,e,i){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.chownSync(t,r,e,i)},Zt.prototype.utimes=function(t,r,e,i){var s=this;this._mu.lock(function(){s._fs.utimes(t,r,e,function(c){s._mu.unlock(),i(c)})})},Zt.prototype.utimesSync=function(t,r,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.utimesSync(t,r,e)},Zt.prototype.link=function(t,r,e){var i=this;this._mu.lock(function(){i._fs.link(t,r,function(s){i._mu.unlock(),e(s)})})},Zt.prototype.linkSync=function(t,r){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.linkSync(t,r)},Zt.prototype.symlink=function(t,r,e,i){var s=this;this._mu.lock(function(){s._fs.symlink(t,r,e,function(c){s._mu.unlock(),i(c)})})},Zt.prototype.symlinkSync=function(t,r,e){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.symlinkSync(t,r,e)},Zt.prototype.readlink=function(t,r){var e=this;this._mu.lock(function(){e._fs.readlink(t,function(i,s){e._mu.unlock(),r(i,s)})})},Zt.prototype.readlinkSync=function(t){if(this._mu.isLocked())throw new Error("invalid sync call");return this._fs.readlinkSync(t)};var ir="/.deletedFiles.log";function li(n){return 146|n}function Ze(n){return U.getFileFlag(n)}var hi=(function(n){function t(r,e,i,s,c){n.call(this,r,e,i,s,c)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.sync=function(e){var i=this;if(!this.isDirty()){e(null);return}this._fs._syncAsync(this,function(s){i.resetDirty(),e(s)})},t.prototype.syncSync=function(){this.isDirty()&&(this._fs._syncSync(this),this.resetDirty())},t.prototype.close=function(e){this.sync(e)},t.prototype.closeSync=function(){this.syncSync()},t})(Se),pi=(function(n){function t(r,e){if(n.call(this),this._isInitialized=!1,this._initializeCallbacks=[],this._deletedFiles={},this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this._deleteLogError=null,this._writable=r,this._readable=e,this._writable.isReadOnly())throw new p(h.EINVAL,"Writable file system must be writable.")}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.isAvailable=function(){return!0},t.prototype.getOverlayedFileSystems=function(){return{readable:this._readable,writable:this._writable}},t.prototype._syncAsync=function(e,i){var s=this;this.createParentDirectoriesAsync(e.getPath(),function(c){if(c)return i(c);s._writable.writeFile(e.getPath(),e.getBuffer(),null,Ze("w"),e.getStats().mode,i)})},t.prototype._syncSync=function(e){this.createParentDirectories(e.getPath()),this._writable.writeFileSync(e.getPath(),e.getBuffer(),null,Ze("w"),e.getStats().mode)},t.prototype.getName=function(){return Yr.Name},t.prototype.initialize=function(e){var i=this,s=this._initializeCallbacks,c=function(l){i._isInitialized=!l,i._initializeCallbacks=[],s.forEach((function(w){return w(l)}))};if(this._isInitialized)return e();s.push(e),s.length===1&&this._writable.readFile(ir,"utf8",Ze("r"),function(l,w){if(l){if(l.errno!==h.ENOENT)return c(l)}else i._deleteLog=w;i._reparseDeletionLog(),c()})},t.prototype.isReadOnly=function(){return!1},t.prototype.supportsSynch=function(){return this._readable.supportsSynch()&&this._writable.supportsSynch()},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return this._readable.supportsProps()&&this._writable.supportsProps()},t.prototype.getDeletionLog=function(){return this._deleteLog},t.prototype.restoreDeletionLog=function(e){this._deleteLog=e,this._reparseDeletionLog(),this.updateLog("")},t.prototype.rename=function(e,i,s){var c=this;if(!(!this.checkInitAsync(s)||this.checkPathAsync(e,s)||this.checkPathAsync(i,s))){if(e===ir||i===ir)return s(p.EPERM("Cannot rename deletion log."));if(e===i)return s();this.stat(e,!1,function(l,w){return l?s(l):c.stat(i,!1,function(k,P){var V=c;function et(mt){var Tt=mt.shift();if(!Tt)return s();var zt=S.resolve(e,Tt),Qt=S.resolve(i,Tt);V.rename(zt,Qt,function(Ne){if(Ne)return s(Ne);et(mt)})}var vt=511;if(w.isDirectory()){if(k)return k.errno!==h.ENOENT?s(k):c._writable.exists(e,function(mt){if(mt)return c._writable.rename(e,i,s);c._writable.mkdir(i,vt,function(Tt){if(Tt)return s(Tt);c._readable.readdir(e,function(zt,Qt){if(zt)return s();et(Qt)})})});if(vt=P.mode,!P.isDirectory())return s(p.ENOTDIR(i));c.readdir(i,function(mt,Tt){if(Tt&&Tt.length)return s(p.ENOTEMPTY(i));c._readable.readdir(e,function(zt,Qt){if(zt)return s();et(Qt)})})}if(P&&P.isDirectory())return s(p.EISDIR(i));c.readFile(e,null,Ze("r"),function(mt,Tt){return mt?s(mt):c.writeFile(i,Tt,null,Ze("w"),w.mode,function(zt){return zt?s(zt):c.unlink(e,s)})})})})}},t.prototype.renameSync=function(e,i){var s=this;if(this.checkInitialized(),this.checkPath(e),this.checkPath(i),e===ir||i===ir)throw p.EPERM("Cannot rename deletion log.");var c=this.statSync(e,!1);if(c.isDirectory()){if(e===i)return;var l=511;if(this.existsSync(i)){var w=this.statSync(i,!1);if(l=w.mode,w.isDirectory()){if(this.readdirSync(i).length>0)throw p.ENOTEMPTY(i)}else throw p.ENOTDIR(i)}this._writable.existsSync(e)?this._writable.renameSync(e,i):this._writable.existsSync(i)||this._writable.mkdirSync(i,l),this._readable.existsSync(e)&&this._readable.readdirSync(e).forEach(function(k){s.renameSync(S.resolve(e,k),S.resolve(i,k))})}else{if(this.existsSync(i)&&this.statSync(i,!1).isDirectory())throw p.EISDIR(i);this.writeFileSync(i,this.readFileSync(e,null,Ze("r")),null,Ze("w"),c.mode)}e!==i&&this.existsSync(e)&&this.unlinkSync(e)},t.prototype.stat=function(e,i,s){var c=this;this.checkInitAsync(s)&&this._writable.stat(e,i,function(l,w){l&&l.errno===h.ENOENT?(c._deletedFiles[e]&&s(p.ENOENT(e)),c._readable.stat(e,i,function(k,P){P&&(P=P.clone(),P.mode=li(P.mode)),s(k,P)})):s(l,w)})},t.prototype.statSync=function(e,i){this.checkInitialized();try{return this._writable.statSync(e,i)}catch{if(this._deletedFiles[e])throw p.ENOENT(e);var s=this._readable.statSync(e,i).clone();return s.mode=li(s.mode),s}},t.prototype.open=function(e,i,s,c){var l=this;!this.checkInitAsync(c)||this.checkPathAsync(e,c)||this.stat(e,!1,function(w,k){if(k)switch(i.pathExistsAction()){case x.TRUNCATE_FILE:return l.createParentDirectoriesAsync(e,function(P){if(P)return c(P);l._writable.open(e,i,s,c)});case x.NOP:return l._writable.exists(e,function(P){P?l._writable.open(e,i,s,c):(k=k.clone(),k.mode=s,l._readable.readFile(e,null,Ze("r"),function(V,et){if(V)return c(V);k.size===-1&&(k.size=et.length);var vt=new hi(l,e,i,k,et);c(null,vt)}))});default:return c(p.EEXIST(e))}else switch(i.pathNotExistsAction()){case x.CREATE_FILE:return l.createParentDirectoriesAsync(e,function(P){return P?c(P):l._writable.open(e,i,s,c)});default:return c(p.ENOENT(e))}})},t.prototype.openSync=function(e,i,s){if(this.checkInitialized(),this.checkPath(e),e===ir)throw p.EPERM("Cannot open deletion log.");if(this.existsSync(e))switch(i.pathExistsAction()){case x.TRUNCATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,i,s);case x.NOP:if(this._writable.existsSync(e))return this._writable.openSync(e,i,s);var c=this._readable.readFileSync(e,null,Ze("r")),l=this._readable.statSync(e,!1).clone();return l.mode=s,new hi(this,e,i,l,c);default:throw p.EEXIST(e)}else switch(i.pathNotExistsAction()){case x.CREATE_FILE:return this.createParentDirectories(e),this._writable.openSync(e,i,s);default:throw p.ENOENT(e)}},t.prototype.unlink=function(e,i){var s=this;!this.checkInitAsync(i)||this.checkPathAsync(e,i)||this.exists(e,function(c){if(!c)return i(p.ENOENT(e));s._writable.exists(e,function(l){if(l)return s._writable.unlink(e,function(w){if(w)return i(w);s.exists(e,function(k){k&&s.deletePath(e),i(null)})});s.deletePath(e),i(null)})})},t.prototype.unlinkSync=function(e){if(this.checkInitialized(),this.checkPath(e),this.existsSync(e))this._writable.existsSync(e)&&this._writable.unlinkSync(e),this.existsSync(e)&&this.deletePath(e);else throw p.ENOENT(e)},t.prototype.rmdir=function(e,i){var s=this;if(this.checkInitAsync(i)){var c=function(){s.readdir(e,function(l,w){if(l)return i(l);if(w.length)return i(p.ENOTEMPTY(e));s.deletePath(e),i(null)})};this.exists(e,function(l){if(!l)return i(p.ENOENT(e));s._writable.exists(e,function(w){w?s._writable.rmdir(e,function(k){if(k)return i(k);s._readable.exists(e,function(P){P?c():i()})}):c()})})}},t.prototype.rmdirSync=function(e){if(this.checkInitialized(),this.existsSync(e)){if(this._writable.existsSync(e)&&this._writable.rmdirSync(e),this.existsSync(e)){if(this.readdirSync(e).length>0)throw p.ENOTEMPTY(e);this.deletePath(e)}}else throw p.ENOENT(e)},t.prototype.mkdir=function(e,i,s){var c=this;this.checkInitAsync(s)&&this.exists(e,function(l){if(l)return s(p.EEXIST(e));c.createParentDirectoriesAsync(e,function(w){if(w)return s(w);c._writable.mkdir(e,i,s)})})},t.prototype.mkdirSync=function(e,i){if(this.checkInitialized(),this.existsSync(e))throw p.EEXIST(e);this.createParentDirectories(e),this._writable.mkdirSync(e,i)},t.prototype.readdir=function(e,i){var s=this;this.checkInitAsync(i)&&this.stat(e,!1,function(c,l){if(c)return i(c);if(!l.isDirectory())return i(p.ENOTDIR(e));s._writable.readdir(e,function(w,k){if(w&&w.code!=="ENOENT")return i(w);(w||!k)&&(k=[]),s._readable.readdir(e,function(P,V){(P||!V)&&(V=[]);var et={},vt=k.concat(V.filter(function(mt){return!s._deletedFiles[e+"/"+mt]})).filter(function(mt){var Tt=!et[mt];return et[mt]=!0,Tt});i(null,vt)})})})},t.prototype.readdirSync=function(e){var i=this;this.checkInitialized();var s=this.statSync(e,!1);if(!s.isDirectory())throw p.ENOTDIR(e);var c=[];try{c=c.concat(this._writable.readdirSync(e))}catch{}try{c=c.concat(this._readable.readdirSync(e).filter(function(w){return!i._deletedFiles[e+"/"+w]}))}catch{}var l={};return c.filter(function(w){var k=!l[w];return l[w]=!0,k})},t.prototype.exists=function(e,i){var s=this;this.checkInitialized(),this._writable.exists(e,function(c){if(c)return i(!0);s._readable.exists(e,function(l){i(l&&s._deletedFiles[e]!==!0)})})},t.prototype.existsSync=function(e){return this.checkInitialized(),this._writable.existsSync(e)||this._readable.existsSync(e)&&this._deletedFiles[e]!==!0},t.prototype.chmod=function(e,i,s,c){var l=this;this.checkInitAsync(c)&&this.operateOnWritableAsync(e,function(w){if(w)return c(w);l._writable.chmod(e,i,s,c)})},t.prototype.chmodSync=function(e,i,s){var c=this;this.checkInitialized(),this.operateOnWritable(e,function(){c._writable.chmodSync(e,i,s)})},t.prototype.chown=function(e,i,s,c,l){var w=this;this.checkInitAsync(l)&&this.operateOnWritableAsync(e,function(k){if(k)return l(k);w._writable.chown(e,i,s,c,l)})},t.prototype.chownSync=function(e,i,s,c){var l=this;this.checkInitialized(),this.operateOnWritable(e,function(){l._writable.chownSync(e,i,s,c)})},t.prototype.utimes=function(e,i,s,c){var l=this;this.checkInitAsync(c)&&this.operateOnWritableAsync(e,function(w){if(w)return c(w);l._writable.utimes(e,i,s,c)})},t.prototype.utimesSync=function(e,i,s){var c=this;this.checkInitialized(),this.operateOnWritable(e,function(){c._writable.utimesSync(e,i,s)})},t.prototype.deletePath=function(e){this._deletedFiles[e]=!0,this.updateLog("d"+e+`
`)},t.prototype.updateLog=function(e){var i=this;this._deleteLog+=e,this._deleteLogUpdatePending?this._deleteLogUpdateNeeded=!0:(this._deleteLogUpdatePending=!0,this._writable.writeFile(ir,this._deleteLog,"utf8",U.getFileFlag("w"),420,function(s){i._deleteLogUpdatePending=!1,s?i._deleteLogError=s:i._deleteLogUpdateNeeded&&(i._deleteLogUpdateNeeded=!1,i.updateLog(""))}))},t.prototype._reparseDeletionLog=function(){var e=this;this._deletedFiles={},this._deleteLog.split(`
`).forEach(function(i){e._deletedFiles[i.slice(1)]=i.slice(0,1)==="d"})},t.prototype.checkInitialized=function(){if(this._isInitialized){if(this._deleteLogError!==null){var e=this._deleteLogError;throw this._deleteLogError=null,e}}else throw new p(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")},t.prototype.checkInitAsync=function(e){if(this._isInitialized){if(this._deleteLogError!==null){var i=this._deleteLogError;return this._deleteLogError=null,e(i),!1}}else return e(new p(h.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.")),!1;return!0},t.prototype.checkPath=function(e){if(e===ir)throw p.EPERM(e)},t.prototype.checkPathAsync=function(e,i){return e===ir?(i(p.EPERM(e)),!0):!1},t.prototype.createParentDirectoriesAsync=function(e,i){var s=S.dirname(e),c=[],l=this;this._writable.stat(s,!1,w);function w(P,V){P?(c.push(s),s=S.dirname(s),l._writable.stat(s,!1,w)):k()}function k(){if(!c.length)return i();var P=c.pop();l._readable.stat(P,!1,function(V,et){if(!et)return i();l._writable.mkdir(P,et.mode,function(vt){if(vt)return i(vt);k()})})}},t.prototype.createParentDirectories=function(e){for(var i=this,s=S.dirname(e),c=[];!this._writable.existsSync(s);)c.push(s),s=S.dirname(s);c=c.reverse(),c.forEach(function(l){i._writable.mkdirSync(l,i.statSync(l,!1).mode)})},t.prototype.operateOnWritable=function(e,i){if(this.existsSync(e))this._writable.existsSync(e)||this.copyToWritable(e),i();else throw p.ENOENT(e)},t.prototype.operateOnWritableAsync=function(e,i){var s=this;this.exists(e,function(c){if(!c)return i(p.ENOENT(e));s._writable.exists(e,function(l){if(l)i();else return s.copyToWritableAsync(e,i)})})},t.prototype.copyToWritable=function(e){var i=this.statSync(e,!1);i.isDirectory()?this._writable.mkdirSync(e,i.mode):this.writeFileSync(e,this._readable.readFileSync(e,null,Ze("r")),null,Ze("w"),this.statSync(e,!1).mode)},t.prototype.copyToWritableAsync=function(e,i){var s=this;this.stat(e,!1,function(c,l){if(c)return i(c);if(l.isDirectory())return s._writable.mkdir(e,l.mode,i);s._readable.readFile(e,null,Ze("r"),function(w,k){if(w)return i(w);s.writeFile(e,k,null,Ze("w"),l.mode,i)})})},t})(dt),Yr=(function(n){function t(r,e,i){i===void 0&&(i=!0),n.call(this,new pi(r,e)),Xt(i,t.Name,{readable:"readable file system",writable:"writable file system"})}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){try{var s=new t(e.writable,e.readable,!1);s.initialize(function(c){i(c,s)},!1)}catch(c){i(c)}},t.isAvailable=function(){return pi.isAvailable()},t.prototype.initialize=function(e,i){i===void 0&&(i=!0),i&&console.warn("[OverlayFS] OverlayFS.initialize() is deprecated and will be removed in the next major release. Please use 'OverlayFS.Create({readable: readable file system instance, writable: writable file system instance}, cb)' to create and initialize OverlayFS instances."),n.prototype.initialize.call(this,e)},t.prototype.getOverlayedFileSystems=function(){return n.prototype.getFSUnlocked.call(this).getOverlayedFileSystems()},t.prototype.unwrap=function(){return n.prototype.getFSUnlocked.call(this)},t})(Zt);Yr.Name="OverlayFS",Yr.Options={writable:{type:"object",description:"The file system to write modified files to."},readable:{type:"object",description:"The file system that initially populates this file system."}};var _e;(function(n){n[n.CB=0]="CB",n[n.FD=1]="FD",n[n.API_ERROR=2]="API_ERROR",n[n.STATS=3]="STATS",n[n.PROBE=4]="PROBE",n[n.FILEFLAG=5]="FILEFLAG",n[n.BUFFER=6]="BUFFER",n[n.ERROR=7]="ERROR"})(_e||(_e={}));var Nn=function(){this._callbacks={},this._nextId=0};Nn.prototype.toRemoteArg=function(t){var r=this._nextId++;return this._callbacks[r]=t,{type:_e.CB,id:r}},Nn.prototype.toLocalArg=function(t){var r=this._callbacks[t];return delete this._callbacks[t],r};var un=function(){this._fileDescriptors={},this._nextId=0};un.prototype.toRemoteArg=function(t,r,e,i){var s=this._nextId++,c,l;this._fileDescriptors[s]=t,t.stat(function(w,k){w?i(w):(l=mr(k.toBuffer()),e.isReadable()?t.read(A.alloc(k.size),0,k.size,0,function(P,V,et){P?i(P):(c=mr(et),i(null,{type:_e.FD,id:s,data:c,stat:l,path:r,flag:e.getFlagString()}))}):i(null,{type:_e.FD,id:s,data:new ArrayBuffer(0),stat:l,path:r,flag:e.getFlagString()}))})},un.prototype.applyFdAPIRequest=function(t,r){var e=this,i=t.args[0];this._applyFdChanges(i,function(s,c){s?r(s):c[t.method](function(l){t.method==="close"&&delete e._fileDescriptors[i.id],r(l)})})},un.prototype._applyFdChanges=function(t,r){var e=this._fileDescriptors[t.id],i=gr(t.data),s=Z.fromBuffer(gr(t.stat)),c=U.getFileFlag(t.flag);c.isWriteable()?e.write(i,0,i.length,c.isAppendable()?e.getPos():0,function(l){function w(){e.stat(function(k,P){k?r(k):P.mode!==s.mode?e.chmod(s.mode,function(V){r(V,e)}):r(k,e)})}l?r(l):c.isAppendable()?w():e.truncate(i.length,function(){w()})}):r(null,e)};function cn(n){return{type:_e.API_ERROR,errorData:mr(n.writeToBuffer())}}function di(n){return p.fromBuffer(gr(n.errorData))}function yi(n){return{type:_e.ERROR,name:n.name,message:n.message,stack:n.stack}}function vi(n){var t=we[n.name];typeof t!="function"&&(t=Error);var r=new t(n.message);return r.stack=n.stack,r}function mi(n){return{type:_e.STATS,statsData:mr(n.toBuffer())}}function gi(n){return Z.fromBuffer(gr(n.statsData))}function wi(n){return{type:_e.FILEFLAG,flagStr:n.getFlagString()}}function _i(n){return U.getFileFlag(n.flagStr)}function mr(n){return lt(n)}function gr(n){return qt(n)}function Ei(n){return{type:_e.BUFFER,data:mr(n)}}function Si(n){return gr(n.data)}function Ao(n){return n&&typeof n=="object"&&n.hasOwnProperty("browserfsMessage")&&n.browserfsMessage}function Co(n){return n&&typeof n=="object"&&n.hasOwnProperty("browserfsMessage")&&n.browserfsMessage}var ki=(function(n){function t(r,e,i,s,c,l){n.call(this,r,e,i,s,l),this._remoteFdId=c}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.getRemoteFdId=function(){return this._remoteFdId},t.prototype.toRemoteArg=function(){return{type:_e.FD,id:this._remoteFdId,data:mr(this.getBuffer()),stat:mr(this.getStats().toBuffer()),path:this.getPath(),flag:this.getFlag().getFlagString()}},t.prototype.sync=function(e){this._syncClose("sync",e)},t.prototype.close=function(e){this._syncClose("close",e)},t.prototype._syncClose=function(e,i){var s=this;this.isDirty()?this._fs.syncClose(e,this,function(c){c||s.resetDirty(),i(c)}):i()},t})(Se),fn=(function(n){function t(r,e){var i=this;e===void 0&&(e=!0),n.call(this),this._callbackConverter=new Nn,this._isInitialized=!1,this._isReadOnly=!1,this._supportLinks=!1,this._supportProps=!1,this._worker=r,Xt(e,t.Name,{worker:"Web Worker instance"}),this._worker.addEventListener("message",function(s){var c=s.data;if(Co(c)){var l,w=c.args,k=new Array(w.length);for(l=0;l<k.length;l++)k[l]=i._argRemote2Local(w[l]);i._callbackConverter.toLocalArg(c.cbId).apply(null,k)}})}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s=new t(e.worker,!1);s.initialize(function(){i(null,s)})},t.isAvailable=function(){return typeof importScripts<"u"||typeof Worker<"u"},t.attachRemoteListener=function(e){var i=new un;function s(l,w,k){switch(typeof l){case"object":l instanceof Z?k(null,mi(l)):l instanceof p?k(null,cn(l)):l instanceof jt?k(null,i.toRemoteArg(l,w[0],w[1],k)):l instanceof U?k(null,wi(l)):l instanceof A?k(null,Ei(l)):l instanceof Error?k(null,yi(l)):k(null,l);break;default:k(null,l);break}}function c(l,w){if(!l)return l;switch(typeof l){case"object":if(typeof l.type=="number"){var k=l;switch(k.type){case _e.CB:var P=l.id;return function(){var V=arguments,et,vt=new Array(arguments.length),mt,Tt=arguments.length;function zt(Qt){Tt>0&&(Tt=-1,mt={browserfsMessage:!0,cbId:P,args:[cn(Qt)]},e.postMessage(mt))}for(et=0;et<arguments.length;et++)(function(Qt,Ne){s(Ne,w,function(He,ur){vt[Qt]=ur,He?zt(He):--Tt===0&&(mt={browserfsMessage:!0,cbId:P,args:vt},e.postMessage(mt))})})(et,V[et]);arguments.length===0&&(mt={browserfsMessage:!0,cbId:P,args:vt},e.postMessage(mt))};case _e.API_ERROR:return di(k);case _e.STATS:return gi(k);case _e.FILEFLAG:return _i(k);case _e.BUFFER:return Si(k);case _e.ERROR:return vi(k);default:return l}}else return l;default:return l}}e.addEventListener("message",function(l){var w=l.data;if(Ao(w)){var k=w.args,P=new Array(k.length);switch(w.method){case"close":case"sync":(function(){var vt=k[1];i.applyFdAPIRequest(w,function(mt){var Tt={browserfsMessage:!0,cbId:vt.id,args:mt?[cn(mt)]:[]};e.postMessage(Tt)})})();break;case"probe":(function(){var vt=bt.getRootFS(),mt=k[1],Tt={type:_e.PROBE,isReadOnly:vt.isReadOnly(),supportsLinks:vt.supportsLinks(),supportsProps:vt.supportsProps()},zt={browserfsMessage:!0,cbId:mt.id,args:[Tt]};e.postMessage(zt)})();break;default:for(var V=0;V<k.length;V++)P[V]=c(k[V],P);var et=bt.getRootFS();et[w.method].apply(et,P);break}}})},t.prototype.getName=function(){return t.Name},t.prototype.initialize=function(e){var i=this;if(this._isInitialized)e();else{var s={browserfsMessage:!0,method:"probe",args:[this._argLocal2Remote(fe()),this._callbackConverter.toRemoteArg(function(c){i._isInitialized=!0,i._isReadOnly=c.isReadOnly,i._supportLinks=c.supportsLinks,i._supportProps=c.supportsProps,e()})]};this._worker.postMessage(s)}},t.prototype.isReadOnly=function(){return this._isReadOnly},t.prototype.supportsSynch=function(){return!1},t.prototype.supportsLinks=function(){return this._supportLinks},t.prototype.supportsProps=function(){return this._supportProps},t.prototype.rename=function(e,i,s){this._rpc("rename",arguments)},t.prototype.stat=function(e,i,s){this._rpc("stat",arguments)},t.prototype.open=function(e,i,s,c){this._rpc("open",arguments)},t.prototype.unlink=function(e,i){this._rpc("unlink",arguments)},t.prototype.rmdir=function(e,i){this._rpc("rmdir",arguments)},t.prototype.mkdir=function(e,i,s){this._rpc("mkdir",arguments)},t.prototype.readdir=function(e,i){this._rpc("readdir",arguments)},t.prototype.exists=function(e,i){this._rpc("exists",arguments)},t.prototype.realpath=function(e,i,s){this._rpc("realpath",arguments)},t.prototype.truncate=function(e,i,s){this._rpc("truncate",arguments)},t.prototype.readFile=function(e,i,s,c){this._rpc("readFile",arguments)},t.prototype.writeFile=function(e,i,s,c,l,w){this._rpc("writeFile",arguments)},t.prototype.appendFile=function(e,i,s,c,l,w){this._rpc("appendFile",arguments)},t.prototype.chmod=function(e,i,s,c){this._rpc("chmod",arguments)},t.prototype.chown=function(e,i,s,c,l){this._rpc("chown",arguments)},t.prototype.utimes=function(e,i,s,c){this._rpc("utimes",arguments)},t.prototype.link=function(e,i,s){this._rpc("link",arguments)},t.prototype.symlink=function(e,i,s,c){this._rpc("symlink",arguments)},t.prototype.readlink=function(e,i){this._rpc("readlink",arguments)},t.prototype.syncClose=function(e,i,s){this._worker.postMessage({browserfsMessage:!0,method:e,args:[i.toRemoteArg(),this._callbackConverter.toRemoteArg(s)]})},t.prototype._argRemote2Local=function(e){if(!e)return e;switch(typeof e){case"object":if(typeof e.type=="number"){var i=e;switch(i.type){case _e.API_ERROR:return di(i);case _e.FD:var s=i;return new ki(this,s.path,U.getFileFlag(s.flag),Z.fromBuffer(gr(s.stat)),s.id,gr(s.data));case _e.STATS:return gi(i);case _e.FILEFLAG:return _i(i);case _e.BUFFER:return Si(i);case _e.ERROR:return vi(i);default:return e}}else return e;default:return e}},t.prototype._rpc=function(e,i){for(var s=this,c=new Array(i.length),l=0;l<i.length;l++)c[l]=s._argLocal2Remote(i[l]);var w={browserfsMessage:!0,method:e,args:c};this._worker.postMessage(w)},t.prototype._argLocal2Remote=function(e){if(!e)return e;switch(typeof e){case"object":return e instanceof Z?mi(e):e instanceof p?cn(e):e instanceof ki?e.toRemoteArg():e instanceof U?wi(e):e instanceof A?Ei(e):e instanceof Error?yi(e):"Unknown argument";case"function":return this._callbackConverter.toRemoteArg(e);default:return e}},t})(dt);fn.Name="WorkerFS",fn.Options={worker:{type:"object",description:"The target worker that you want to connect to, or the current worker if in a worker context.",validator:function(n,t){n.postMessage?t():t(new p(h.EINVAL,"option must be a Web Worker instance."))}}};function xo(n,t,r){var e=new XMLHttpRequest;e.open("GET",n,!0);var i=!0;switch(t){case"buffer":e.responseType="arraybuffer";break;case"json":try{e.responseType="json",i=e.responseType==="json"}catch{i=!1}break;default:return r(new p(h.EINVAL,"Invalid download type: "+t))}e.onreadystatechange=function(s){if(e.readyState===4)if(e.status===200)switch(t){case"buffer":return r(null,e.response?A.from(e.response):fe());case"json":return i?r(null,e.response):r(null,JSON.parse(e.responseText))}else return r(new p(e.status,"XHR error."))},e.send()}function Mo(n,t){var r=new XMLHttpRequest;r.open("GET",n,!1);var e=null,i=null;if(r.overrideMimeType("text/plain; charset=x-user-defined"),r.onreadystatechange=function(s){if(r.readyState===4)if(r.status===200)switch(t){case"buffer":var c=r.responseText;e=A.alloc(c.length);for(var l=0;l<c.length;l++)e[l]=c.charCodeAt(l);return;case"json":e=JSON.parse(r.responseText);return}else{i=new p(r.status,"XHR error.");return}},r.send(),i)throw i;return e}function Po(n,t){var r=new XMLHttpRequest;switch(r.open("GET",n,!1),t){case"buffer":r.responseType="arraybuffer";break;case"json":break;default:throw new p(h.EINVAL,"Invalid download type: "+t)}var e,i;if(r.onreadystatechange=function(s){if(r.readyState===4)if(r.status===200)switch(t){case"buffer":e=A.from(r.response);break;case"json":e=JSON.parse(r.response);break}else i=new p(r.status,"XHR error.")},r.send(),i)throw i;return e}function bi(n,t,r){var e=new XMLHttpRequest;e.open("HEAD",t,n),e.onreadystatechange=function(i){if(e.readyState===4)if(e.status===200)try{return r(null,parseInt(e.getResponseHeader("Content-Length")||"-1",10))}catch{return r(new p(h.EIO,"XHR HEAD error: Could not read content-length."))}else return r(new p(e.status,"XHR HEAD error."))},e.send()}var Oi=xo,Uo=xt&&typeof Blob<"u"?Po:Mo;function Bo(n){var t=-1;return bi(!1,n,function(r,e){if(r)throw r;t=e}),t}function jo(n,t){bi(!0,n,t)}var Je=function(){this._index={},this.addPath("/",new Xe)};Je.fromListing=function(t){var r=new Je,e=new Xe;r._index["/"]=e;for(var i=[["",t,e]];i.length>0;){var s=void 0,c=i.pop(),l=c[0],w=c[1],k=c[2];for(var P in w)if(w.hasOwnProperty(P)){var V=w[P],et=l+"/"+P;V?(r._index[et]=s=new Xe,i.push([et,V,s])):s=new Ar(new Z(X.FILE,-1,365)),k&&(k._ls[P]=s)}}return r},Je.prototype.fileIterator=function(t){var r=this;for(var e in r._index)if(r._index.hasOwnProperty(e))for(var i=r._index[e],s=i.getListing(),c=0,l=s;c<l.length;c+=1){var w=l[c],k=i.getItem(w);or(k)&&t(k.getData())}},Je.prototype.addPath=function(t,r){if(!r)throw new Error("Inode must be specified");if(t[0]!=="/")throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===r;var e=this._split_path(t),i=e[0],s=e[1],c=this._index[i];return c===void 0&&t!=="/"&&(c=new Xe,!this.addPath(i,c))||t!=="/"&&!c.addItem(s,r)?!1:(sr(r)&&(this._index[t]=r),!0)},Je.prototype.addPathFast=function(t,r){var e=t.lastIndexOf("/"),i=e===0?"/":t.substring(0,e),s=t.substring(e+1),c=this._index[i];return c===void 0&&(c=new Xe,this.addPathFast(i,c)),c.addItem(s,r)?(r.isDir()&&(this._index[t]=r),!0):!1},Je.prototype.removePath=function(t){var r=this,e=this._split_path(t),i=e[0],s=e[1],c=this._index[i];if(c===void 0)return null;var l=c.remItem(s);if(l===null)return null;if(sr(l)){for(var w=l.getListing(),k=0,P=w;k<P.length;k+=1){var V=P[k];r.removePath(t+"/"+V)}t!=="/"&&delete this._index[t]}return l},Je.prototype.ls=function(t){var r=this._index[t];return r===void 0?null:r.getListing()},Je.prototype.getInode=function(t){var r=this._split_path(t),e=r[0],i=r[1],s=this._index[e];return s===void 0?null:e===t?s:s.getItem(i)},Je.prototype._split_path=function(t){var r=S.dirname(t),e=t.substr(r.length+(r==="/"?0:1));return[r,e]};var Ar=function(t){this.data=t};Ar.prototype.isFile=function(){return!0},Ar.prototype.isDir=function(){return!1},Ar.prototype.getData=function(){return this.data},Ar.prototype.setData=function(t){this.data=t};var Xe=function(t){t===void 0&&(t=null),this.data=t,this._ls={}};Xe.prototype.isFile=function(){return!1},Xe.prototype.isDir=function(){return!0},Xe.prototype.getData=function(){return this.data},Xe.prototype.getStats=function(){return new Z(X.DIRECTORY,4096,365)},Xe.prototype.getListing=function(){return Object.keys(this._ls)},Xe.prototype.getItem=function(t){var r=this._ls[t];return r||null},Xe.prototype.addItem=function(t,r){return t in this._ls?!1:(this._ls[t]=r,!0)},Xe.prototype.remItem=function(t){var r=this._ls[t];return r===void 0?null:(delete this._ls[t],r)};function or(n){return!!n&&n.isFile()}function sr(n){return!!n&&n.isDir()}function zo(n,t,r){try{r(null,n.toString(t))}catch(e){r(e)}}var ln=(function(n){function t(r,e,i){e===void 0&&(e=""),i===void 0&&(i=!0),n.call(this),r||(r="index.json"),e.length>0&&e.charAt(e.length-1)!=="/"&&(e=e+"/"),this.prefixUrl=e;var s=null;if(typeof r=="string"){if(s=this._requestFileSync(r,"json"),!s)throw new Error("Unable to find listing at URL: ${listingUrlOrObj}")}else s=r;Xt(i,t.Name,{index:typeof r=="string"?r:"file index as an object",baseUrl:e}),this._index=Je.fromListing(s)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){e.index===void 0&&(e.index="index.json"),typeof e.index=="string"?t.FromURL(e.index,i,e.baseUrl,!1):i(null,new t(e.index,e.baseUrl,!1))},t.isAvailable=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest!==null},t.FromURL=function(e,i,s,c){s===void 0&&(s=e.slice(0,e.lastIndexOf("/")+1)),c===void 0&&(c=!0),c&&console.warn(`[XmlHttpRequest] XmlHttpRequest.FromURL() is deprecated and will be removed in the next major release. Please use 'XmlHttpRequest.Create({ index: "`+e+'", baseUrl: "'+s+`" }, cb)' instead.`),Oi(e,"json",function(l,w){l?i(l):i(null,new t(w,s,!1))})},t.prototype.empty=function(){this._index.fileIterator(function(e){e.fileData=null})},t.prototype.getName=function(){return t.Name},t.prototype.diskSpace=function(e,i){i(0,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.preloadFile=function(e,i){var s=this._index.getInode(e);if(or(s)){if(s===null)throw p.ENOENT(e);var c=s.getData();c.size=i.length,c.fileData=i}else throw p.EISDIR(e)},t.prototype.stat=function(e,i,s){var c=this._index.getInode(e);if(c===null)return s(p.ENOENT(e));var l;or(c)?(l=c.getData(),l.size<0?this._requestFileSizeAsync(e,function(w,k){if(w)return s(w);l.size=k,s(null,l.clone())}):s(null,l.clone())):sr(c)?(l=c.getStats(),s(null,l)):s(p.FileError(h.EINVAL,e))},t.prototype.statSync=function(e,i){var s=this._index.getInode(e);if(s===null)throw p.ENOENT(e);var c;if(or(s))c=s.getData(),c.size<0&&(c.size=this._requestFileSizeSync(e));else if(sr(s))c=s.getStats();else throw p.FileError(h.EINVAL,e);return c},t.prototype.open=function(e,i,s,c){if(i.isWriteable())return c(new p(h.EPERM,e));var l=this,w=this._index.getInode(e);if(w===null)return c(p.ENOENT(e));if(or(w)){var k=w.getData();switch(i.pathExistsAction()){case x.THROW_EXCEPTION:case x.TRUNCATE_FILE:return c(p.EEXIST(e));case x.NOP:if(k.fileData)return c(null,new Re(l,e,i,k.clone(),k.fileData));this._requestFileAsync(e,"buffer",function(P,V){return P?c(P):(k.size=V.length,k.fileData=V,c(null,new Re(l,e,i,k.clone(),V)))});break;default:return c(new p(h.EINVAL,"Invalid FileMode object."))}}else return c(p.EISDIR(e))},t.prototype.openSync=function(e,i,s){if(i.isWriteable())throw new p(h.EPERM,e);var c=this._index.getInode(e);if(c===null)throw p.ENOENT(e);if(or(c)){var l=c.getData();switch(i.pathExistsAction()){case x.THROW_EXCEPTION:case x.TRUNCATE_FILE:throw p.EEXIST(e);case x.NOP:if(l.fileData)return new Re(this,e,i,l.clone(),l.fileData);var w=this._requestFileSync(e,"buffer");return l.size=w.length,l.fileData=w,new Re(this,e,i,l.clone(),w);default:throw new p(h.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(e)},t.prototype.readdir=function(e,i){try{i(null,this.readdirSync(e))}catch(s){i(s)}},t.prototype.readdirSync=function(e){var i=this._index.getInode(e);if(i===null)throw p.ENOENT(e);if(sr(i))return i.getListing();throw p.ENOTDIR(e)},t.prototype.readFile=function(e,i,s,c){var l=c;this.open(e,s,420,function(w,k){if(w)return c(w);c=function(et,vt){k.close(function(mt){return et||(et=mt),l(et,vt)})};var P=k,V=P.getBuffer();i===null?c(w,ee(V)):zo(V,i,c)})},t.prototype.readFileSync=function(e,i,s){var c=this.openSync(e,s,420);try{var l=c,w=l.getBuffer();return i===null?ee(w):w.toString(i)}finally{c.closeSync()}},t.prototype.getXhrPath=function(e){return e.charAt(0)==="/"&&(e=e.slice(1)),this.prefixUrl+e},t.prototype._requestFileAsync=function(e,i,s){Oi(this.getXhrPath(e),i,s)},t.prototype._requestFileSync=function(e,i){return Uo(this.getXhrPath(e),i)},t.prototype._requestFileSizeAsync=function(e,i){jo(this.getXhrPath(e),i)},t.prototype._requestFileSizeSync=function(e){return Bo(this.getXhrPath(e))},t})(dt);ln.Name="XmlHttpRequest",ln.Options={index:{type:["string","object"],optional:!0,description:"URL to a file index as a JSON file or the file index object itself, generated with the make_xhrfs_index script. Defaults to `index.json`."},baseUrl:{type:"string",optional:!0,description:"Used as the URL prefix for fetched files. Default: Fetch files relative to the index."}};var wr=function(){};wr.str2byte=function(t,r){for(var e=t.length>r.length?r.length:t.length,i=0;i<e;i++){var s=t.charCodeAt(i);if(s>127){var c=wr.extendedChars.indexOf(t.charAt(i));c>-1&&(s=c+128)}r[s]=i}return e},wr.byte2str=function(t){for(var r=new Array(t.length),e=0;e<t.length;e++){var i=t[e];i>127?r[e]=wr.extendedChars[i-128]:r[e]=String.fromCharCode(i)}return r.join("")},wr.byteLength=function(t){return t.length},wr.extendedChars=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];var Ho=M(31).inflateRaw,Ii={},Ni;(function(n){n[n.MSDOS=0]="MSDOS",n[n.AMIGA=1]="AMIGA",n[n.OPENVMS=2]="OPENVMS",n[n.UNIX=3]="UNIX",n[n.VM_CMS=4]="VM_CMS",n[n.ATARI_ST=5]="ATARI_ST",n[n.OS2_HPFS=6]="OS2_HPFS",n[n.MAC=7]="MAC",n[n.Z_SYSTEM=8]="Z_SYSTEM",n[n.CP_M=9]="CP_M",n[n.NTFS=10]="NTFS",n[n.MVS=11]="MVS",n[n.VSE=12]="VSE",n[n.ACORN_RISC=13]="ACORN_RISC",n[n.VFAT=14]="VFAT",n[n.ALT_MVS=15]="ALT_MVS",n[n.BEOS=16]="BEOS",n[n.TANDEM=17]="TANDEM",n[n.OS_400=18]="OS_400",n[n.OSX=19]="OSX"})(Ni||(Ni={}));var Cr;(function(n){n[n.STORED=0]="STORED",n[n.SHRUNK=1]="SHRUNK",n[n.REDUCED_1=2]="REDUCED_1",n[n.REDUCED_2=3]="REDUCED_2",n[n.REDUCED_3=4]="REDUCED_3",n[n.REDUCED_4=5]="REDUCED_4",n[n.IMPLODE=6]="IMPLODE",n[n.DEFLATE=8]="DEFLATE",n[n.DEFLATE64=9]="DEFLATE64",n[n.TERSE_OLD=10]="TERSE_OLD",n[n.BZIP2=12]="BZIP2",n[n.LZMA=14]="LZMA",n[n.TERSE_NEW=18]="TERSE_NEW",n[n.LZ77=19]="LZ77",n[n.WAVPACK=97]="WAVPACK",n[n.PPMD=98]="PPMD"})(Cr||(Cr={}));function Fi(n,t){var r=t&31,e=(t>>5&15)-1,i=(t>>9)+1980,s=n&31,c=n>>5&63,l=n>>11;return new Date(i,e,r,l,c,s)}function hn(n,t,r,e){return e===0?"":t?n.toString("utf8",r,r+e):wr.byte2str(n.slice(r,r+e))}var Be=function(t){if(this.data=t,t.readUInt32LE(0)!==67324752)throw new p(h.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};Be.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},Be.prototype.flags=function(){return this.data.readUInt16LE(6)},Be.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},Be.prototype.lastModFileTime=function(){return Fi(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},Be.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},Be.prototype.crc32=function(){return this.data.readUInt32LE(14)},Be.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},Be.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},Be.prototype.fileName=function(){return hn(this.data,this.useUTF8(),30,this.fileNameLength())},Be.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},Be.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},Be.prototype.useUTF8=function(){return(this.flags()&2048)===2048};var xr=function(t,r,e){this.header=t,this.record=r,this.data=e};xr.prototype.decompress=function(){var t=this.header.compressionMethod(),r=Ii[t];if(r)return r(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var e=Cr[t];throw e||(e="Unknown: "+t),new p(h.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+e)},xr.prototype.getHeader=function(){return this.header},xr.prototype.getRecord=function(){return this.record},xr.prototype.getRawData=function(){return this.data};var ie=function(t,r){if(this.zipData=t,this.data=r,this.data.readUInt32LE(0)!==33639248)throw new p(h.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};ie.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},ie.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},ie.prototype.flag=function(){return this.data.readUInt16LE(8)},ie.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},ie.prototype.lastModFileTime=function(){return Fi(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},ie.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},ie.prototype.crc32=function(){return this.data.readUInt32LE(16)},ie.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},ie.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},ie.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},ie.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},ie.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},ie.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},ie.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},ie.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},ie.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},ie.prototype.produceFilename=function(){var t=hn(this.data,this.useUTF8(),46,this.fileNameLength());return t.replace(/\\/g,"/")},ie.prototype.fileName=function(){return this._filename},ie.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},ie.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},ie.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return hn(this.data,this.useUTF8(),t,this.fileCommentLength())},ie.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},ie.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},ie.prototype.isDirectory=function(){var t=this.fileName();return!!(this.externalAttributes()&16)||t.charAt(t.length-1)==="/"},ie.prototype.isFile=function(){return!this.isDirectory()},ie.prototype.useUTF8=function(){return(this.flag()&2048)===2048},ie.prototype.isEncrypted=function(){return(this.flag()&1)===1},ie.prototype.getFileData=function(){var t=this.headerRelativeOffset(),r=new Be(this.zipData.slice(t));return new xr(r,this,this.zipData.slice(t+r.totalSize()))},ie.prototype.getData=function(){return this.getFileData().decompress()},ie.prototype.getRawData=function(){return this.getFileData().getRawData()},ie.prototype.getStats=function(){return new Z(X.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())};var $e=function(t){if(this.data=t,this.data.readUInt32LE(0)!==101010256)throw new p(h.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};$e.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},$e.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},$e.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},$e.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},$e.prototype.cdSize=function(){return this.data.readUInt32LE(12)},$e.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},$e.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},$e.prototype.cdZipComment=function(){return hn(this.data,!0,22,this.cdZipCommentLength())},$e.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var o=function(t,r,e,i){this.index=t,this.directoryEntries=r,this.eocd=e,this.data=i},a=(function(n){function t(r,e,i){e===void 0&&(e=""),i===void 0&&(i=!0),n.call(this),this.name=e,this._index=new Je,this._directoryEntries=[],this._eocd=null,Xt(i,t.Name,{zipData:"zip data as a Buffer",name:e}),r instanceof o?(this._index=r.index,this._directoryEntries=r.directoryEntries,this._eocd=r.eocd,this.data=r.data):(this.data=r,this.populateIndex())}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){try{t.computeIndex(e.zipData,function(s){var c=new t(s,e.name,!1);i(null,c)},!1)}catch(s){i(s)}},t.isAvailable=function(){return!0},t.RegisterDecompressionMethod=function(e,i){Ii[e]=i},t.computeIndex=function(e,i,s){s===void 0&&(s=!0),s&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var c=new Je,l=t.getEOCD(e);if(l.diskNumber()!==l.cdDiskNumber())throw new p(h.EINVAL,"ZipFS does not support spanned zip files.");var w=l.cdOffset();if(w===4294967295)throw new p(h.EINVAL,"ZipFS does not support Zip64.");var k=w+l.cdSize();t.computeIndexResponsive(e,c,w,k,i,[],l)},t.getEOCD=function(e){for(var i=22,s=Math.min(i+65535,e.length-1),c=i;c<s;c++)if(e.readUInt32LE(e.length-c)===101010256)return new $e(e.slice(e.length-c));throw new p(h.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},t.addToIndex=function(e,i){var s=e.fileName();if(s.charAt(0)==="/")throw new Error("WHY IS THIS ABSOLUTE");s.charAt(s.length-1)==="/"&&(s=s.substr(0,s.length-1)),e.isDirectory()?i.addPathFast("/"+s,new Xe(e)):i.addPathFast("/"+s,new Ar(e))},t.computeIndexResponsive=function(e,i,s,c,l,w,k){if(s<c){for(var P=0;P++<200&&s<c;){var V=new ie(e,e.slice(s));t.addToIndex(V,i),s+=V.totalSize(),w.push(V)}In(function(){t.computeIndexResponsive(e,i,s,c,l,w,k)})}else l(new o(i,w,k,e))},t.prototype.getName=function(){return t.Name+(this.name!==""?" "+this.name:"")},t.prototype.getCentralDirectoryEntry=function(e){var i=this._index.getInode(e);if(i===null)throw p.ENOENT(e);if(or(i))return i.getData();if(sr(i))return i.getData();throw p.EPERM("Invalid inode: "+i)},t.prototype.getCentralDirectoryEntryAt=function(e){var i=this._directoryEntries[e];if(!i)throw new RangeError("Invalid directory index: "+e+".");return i},t.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},t.prototype.getEndOfCentralDirectory=function(){return this._eocd},t.prototype.diskSpace=function(e,i){i(this.data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,i){var s=this._index.getInode(e);if(s===null)throw p.ENOENT(e);var c;if(or(s))c=s.getData().getStats();else if(sr(s))c=s.getStats();else throw new p(h.EINVAL,"Invalid inode.");return c},t.prototype.openSync=function(e,i,s){if(i.isWriteable())throw new p(h.EPERM,e);var c=this._index.getInode(e);if(c)if(or(c)){var l=c.getData(),w=l.getStats();switch(i.pathExistsAction()){case x.THROW_EXCEPTION:case x.TRUNCATE_FILE:throw p.EEXIST(e);case x.NOP:return new Re(this,e,i,w,l.getData());default:throw new p(h.EINVAL,"Invalid FileMode object.")}}else throw p.EISDIR(e);else throw p.ENOENT(e)},t.prototype.readdirSync=function(e){var i=this._index.getInode(e);if(i){if(sr(i))return i.getListing();throw p.ENOTDIR(e)}else throw p.ENOENT(e)},t.prototype.readFileSync=function(e,i,s){var c=this.openSync(e,s,420);try{var l=c,w=l.getBuffer();return i===null?ee(w):w.toString(i)}finally{c.closeSync()}},t.prototype.populateIndex=function(){var e=this,i=this._eocd=t.getEOCD(this.data);if(i.diskNumber()!==i.cdDiskNumber())throw new p(h.EINVAL,"ZipFS does not support spanned zip files.");var s=i.cdOffset();if(s===4294967295)throw new p(h.EINVAL,"ZipFS does not support Zip64.");for(var c=s+i.cdSize();s<c;){var l=new ie(e.data,e.data.slice(s));s+=l.totalSize(),t.addToIndex(l,e._index),e._directoryEntries.push(l)}},t})(Le);a.Name="ZipFS",a.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:R},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},a.CompressionMethod=Cr,a.RegisterDecompressionMethod(Cr.DEFLATE,function(n,t,r){return Kt(Ho(n.slice(0,t),{chunkSize:r}))}),a.RegisterDecompressionMethod(Cr.STORED,function(n,t,r){return ee(n,0,r)});var u="IEEE_P1282";function f(n,t,r){return n.toString("ascii",t,t+r).trim()}function d(n,t,r){if(r===1)return String.fromCharCode(n[t]);for(var e=Math.floor(r/2),i=new Array(e),s=0;s<e;s++){var c=t+(s<<1);i[s]=String.fromCharCode(n[c+1]|n[c]<<8)}return i.join("")}function g(n,t){var r=parseInt(f(n,t,4),10),e=parseInt(f(n,t+4,2),10),i=parseInt(f(n,t+6,2),10),s=parseInt(f(n,t+8,2),10),c=parseInt(f(n,t+10,2),10),l=parseInt(f(n,t+12,2),10),w=parseInt(f(n,t+14,2),10);return new Date(r,e,i,s,c,l,w*100)}function _(n,t){var r=n[t],e=n[t+1],i=n[t+2],s=n[t+3],c=n[t+4],l=n[t+5];return new Date(r,e-1,i,s,c,l)}function O(n,t){var r=n.slice(t),e=new Yt(r);switch(e.signatureWord()){case 17221:return new he(r);case 20548:return new ut(r);case 21328:return new Rt(r);case 21332:return new Te(r);case 17746:return new ye(r);case 17747:return new tr(r);case 20568:return new Zo(r);case 20558:return new ha(r);case 21324:return new Wo(r);case 20045:return new qo(r);case 17228:return new Yo(r);case 20556:return new pa(r);case 21061:return new Go(r);case 21574:return new Ko(r);case 21318:return new da(r);case 21074:return new De(r);default:return e}}function z(n,t,r,e){r=r-4;for(var i=new Array;t<r;){var s=O(n,t),c=s.length();if(c===0)return i;if(t+=c,s instanceof Te)break;s instanceof he?i=i.concat(s.getEntries(e)):i.push(s)}return i}var G=function(t){this._data=t};G.prototype.type=function(){return this._data[0]},G.prototype.standardIdentifier=function(){return f(this._data,1,5)},G.prototype.version=function(){return this._data[6]},G.prototype.data=function(){return this._data.slice(7,2048)};var it=(function(n){function t(r){n.call(this,r),this._root=null}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.systemIdentifier=function(){return this._getString32(8)},t.prototype.volumeIdentifier=function(){return this._getString32(40)},t.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},t.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},t.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},t.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},t.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},t.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},t.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},t.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},t.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},t.prototype.rootDirectoryEntry=function(e){return this._root===null&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(e)),this._root},t.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},t.prototype.publisherIdentifier=function(){return this._getString(318,128)},t.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},t.prototype.applicationIdentifier=function(){return this._getString(574,128)},t.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},t.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},t.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},t.prototype.volumeCreationDate=function(){return g(this._data,813)},t.prototype.volumeModificationDate=function(){return g(this._data,830)},t.prototype.volumeExpirationDate=function(){return g(this._data,847)},t.prototype.volumeEffectiveDate=function(){return g(this._data,864)},t.prototype.fileStructureVersion=function(){return this._data[881]},t.prototype.applicationUsed=function(){return this._data.slice(883,1395)},t.prototype.reserved=function(){return this._data.slice(1395,2048)},t.prototype._getString32=function(e){return this._getString(e,32)},t})(G),gt=(function(n){function t(r){if(n.call(this,r),this.type()!==1)throw new p(h.EIO,"Invalid primary volume descriptor.")}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"ISO9660"},t.prototype._constructRootDirectoryRecord=function(e){return new Ft(e,-1)},t.prototype._getString=function(e,i){return this._getString(e,i)},t})(it),ct=(function(n){function t(r){if(n.call(this,r),this.type()!==2)throw new p(h.EIO,"Invalid supplementary volume descriptor.");var e=this.escapeSequence(),i=e[2];if(e[0]!==37||e[1]!==47||i!==64&&i!==67&&i!==69)throw new p(h.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+e.toString())}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.name=function(){return"Joliet"},t.prototype.escapeSequence=function(){return this._data.slice(88,120)},t.prototype._constructRootDirectoryRecord=function(e){return new re(e,-1)},t.prototype._getString=function(e,i){return d(this._data,e,i)},t})(it),ot=function(t,r){this._suEntries=null,this._fileOrDir=null,this._data=t,this._rockRidgeOffset=r};ot.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},ot.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},ot.prototype.rootCheckForRockRidge=function(t){var r=this.getDirectory(t);this._rockRidgeOffset=r.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},ot.prototype.length=function(){return this._data[0]},ot.prototype.extendedAttributeRecordLength=function(){return this._data[1]},ot.prototype.lba=function(){return this._data.readUInt32LE(2)*2048},ot.prototype.dataLength=function(){return this._data.readUInt32LE(10)},ot.prototype.recordingDate=function(){return _(this._data,18)},ot.prototype.fileFlags=function(){return this._data[25]},ot.prototype.fileUnitSize=function(){return this._data[26]},ot.prototype.interleaveGapSize=function(){return this._data[27]},ot.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},ot.prototype.identifier=function(){return this._getString(33,this._data[32])},ot.prototype.fileName=function(t){if(this.hasRockRidge()){var r=this._rockRidgeFilename(t);if(r!==null)return r}var e=this.identifier();if(this.isDirectory(t))return e;var i=e.indexOf(";");return i===-1?e:e[i-1]==="."?e.slice(0,i-1):e.slice(0,i)},ot.prototype.isDirectory=function(t){var r=!!(this.fileFlags()&2);return!r&&this.hasRockRidge()&&(r=this.getSUEntries(t).filter(function(e){return e instanceof Yo}).length>0),r},ot.prototype.isSymlink=function(t){return this.hasRockRidge()&&this.getSUEntries(t).filter(function(r){return r instanceof Wo}).length>0},ot.prototype.getSymlinkPath=function(t){for(var r="",e=this.getSUEntries(t),i=this._getGetString(),s=0,c=e;s<c.length;s+=1){var l=c[s];if(l instanceof Wo){for(var w=l.componentRecords(),k=0,P=w;k<P.length;k+=1){var V=P[k],et=V.flags();et&2?r+="./":et&4?r+="../":et&8?r+="/":(r+=V.content(i),et&1||(r+="/"))}if(!l.continueFlag())break}}return r.length>1&&r[r.length-1]==="/"?r.slice(0,r.length-1):r},ot.prototype.getFile=function(t){if(this.isDirectory(t))throw new Error("Tried to get a File from a directory.");return this._fileOrDir===null&&(this._fileOrDir=t.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},ot.prototype.getDirectory=function(t){if(!this.isDirectory(t))throw new Error("Tried to get a Directory from a file.");return this._fileOrDir===null&&(this._fileOrDir=this._constructDirectory(t)),this._fileOrDir},ot.prototype.getSUEntries=function(t){return this._suEntries||this._constructSUEntries(t),this._suEntries},ot.prototype._rockRidgeFilename=function(t){var r=this.getSUEntries(t).filter(function(w){return w instanceof qo});if(r.length===0||r[0].flags()&6)return null;for(var e="",i=this._getGetString(),s=0,c=r;s<c.length;s+=1){var l=c[s];if(e+=l.name(i),!(l.flags()&1))break}return e},ot.prototype._constructSUEntries=function(t){var r=33+this._data[32];r%2===1&&r++,r+=this._rockRidgeOffset,this._suEntries=z(this._data,r,this.length(),t)},ot.prototype._getRockRidgeOffset=function(t){this._rockRidgeOffset=0;var r=this.getSUEntries(t);if(r.length>0){var e=r[0];if(e instanceof Rt&&e.checkBytesPass())for(var i=1;i<r.length;i++){var s=r[i];if(s instanceof De||s instanceof ye&&s.extensionIdentifier()===u)return e.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var Ft=(function(n){function t(r,e){n.call(this,r,e)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,i){return f(this._data,e,i)},t.prototype._constructDirectory=function(e){return new ya(this,e)},t.prototype._getGetString=function(){return f},t})(ot),re=(function(n){function t(r,e){n.call(this,r,e)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype._getString=function(e,i){return d(this._data,e,i)},t.prototype._constructDirectory=function(e){return new va(this,e)},t.prototype._getGetString=function(){return d},t})(ot),Yt=function(t){this._data=t};Yt.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},Yt.prototype.signatureWordString=function(){return f(this._data,0,2)},Yt.prototype.length=function(){return this._data[2]},Yt.prototype.suVersion=function(){return this._data[3]};var he=(function(n){function t(r){n.call(this,r),this._entries=null}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},t.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},t.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},t.prototype.getEntries=function(e){if(!this._entries){var i=this.continuationLba()*2048+this.continuationLbaOffset();this._entries=z(e,i,this.continuationLength(),e)}return this._entries},t})(Yt),ut=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t})(Yt),Rt=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.checkBytesPass=function(){return this._data[4]===190&&this._data[5]===239},t.prototype.bytesSkipped=function(){return this._data[6]},t})(Yt),Te=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t})(Yt),ye=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.identifierLength=function(){return this._data[4]},t.prototype.descriptorLength=function(){return this._data[5]},t.prototype.sourceLength=function(){return this._data[6]},t.prototype.extensionVersion=function(){return this._data[7]},t.prototype.extensionIdentifier=function(){return f(this._data,8,this.identifierLength())},t.prototype.extensionDescriptor=function(){return f(this._data,8+this.identifierLength(),this.descriptorLength())},t.prototype.extensionSource=function(){return f(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},t})(Yt),tr=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.extensionSequence=function(){return this._data[4]},t})(Yt),De=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t})(Yt),Zo=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.mode=function(){return this._data.readUInt32LE(4)},t.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},t.prototype.uid=function(){return this._data.readUInt32LE(20)},t.prototype.gid=function(){return this._data.readUInt32LE(28)},t.prototype.inode=function(){return this._data.readUInt32LE(36)},t})(Yt),ha=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},t.prototype.devTLow=function(){return this._data.readUInt32LE(12)},t})(Yt),Wo=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.continueFlag=function(){return this.flags()&1},t.prototype.componentRecords=function(){for(var e=this,i=new Array,s=5;s<this.length();){var c=new Fn(e._data.slice(s));i.push(c),s+=c.length()}return i},t})(Yt),Fn=function(t){this._data=t};Fn.prototype.flags=function(){return this._data[0]},Fn.prototype.length=function(){return 2+this.componentLength()},Fn.prototype.componentLength=function(){return this._data[1]},Fn.prototype.content=function(t){return t(this._data,2,this.componentLength())};var qo=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.name=function(e){return e(this._data,5,this.length()-5)},t})(Yt),Yo=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},t})(Yt),pa=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},t})(Yt),Go=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t})(Yt),Ko=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flags=function(){return this._data[4]},t.prototype.creation=function(){return this.flags()&1?this._longFormDates()?g(this._data,5):_(this._data,5):null},t.prototype.modify=function(){if(this.flags()&2){var e=this.flags()&1?1:0;return this._longFormDates?g(this._data,5+e*17):_(this._data,5+e*7)}else return null},t.prototype.access=function(){if(this.flags()&4){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,this._longFormDates?g(this._data,5+e*17):_(this._data,5+e*7)}else return null},t.prototype.backup=function(){if(this.flags()&16){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,this._longFormDates?g(this._data,5+e*17):_(this._data,5+e*7)}else return null},t.prototype.expiration=function(){if(this.flags()&32){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,this._longFormDates?g(this._data,5+e*17):_(this._data,5+e*7)}else return null},t.prototype.effective=function(){if(this.flags()&64){var e=this.flags()&1?1:0;return e+=this.flags()&2?1:0,e+=this.flags()&4?1:0,e+=this.flags()&16?1:0,e+=this.flags()&32?1:0,this._longFormDates?g(this._data,5+e*17):_(this._data,5+e*7)}else return null},t.prototype._longFormDates=function(){return!!this.flags()},t})(Yt),da=(function(n){function t(r){n.call(this,r)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},t.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},t.prototype.tableDepth=function(){return this._data[20]},t})(Yt),Dn=function(t,r){var e=this;this._fileList=[],this._fileMap={},this._record=t;var i=t.lba(),s=i+t.dataLength();if(!(t.fileFlags()&2)){var c=t.getSUEntries(r).filter(function(P){return P instanceof Yo})[0];i=c.childDirectoryLba()*2048,s=1/0}for(;i<s;){var l=r[i];if(l===0){i++;continue}var w=e._constructDirectoryRecord(r.slice(i)),k=w.fileName(r);k!=="\0"&&k!==""?(!w.hasRockRidge()||w.getSUEntries(r).filter(function(P){return P instanceof Go}).length===0)&&(e._fileMap[k]=w,e._fileList.push(k)):s===1/0&&(s=i+w.dataLength()),i+=w.length()}};Dn.prototype.getRecord=function(t){return this._fileMap[t]},Dn.prototype.getFileList=function(){return this._fileList},Dn.prototype.getDotEntry=function(t){return this._constructDirectoryRecord(t.slice(this._record.lba()))};var ya=(function(n){function t(r,e){n.call(this,r,e)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new Ft(e,this._record.getRockRidgeOffset())},t})(Dn),va=(function(n){function t(r,e){n.call(this,r,e)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype._constructDirectoryRecord=function(e){return new re(e,this._record.getRockRidgeOffset())},t})(Dn),Di=(function(n){function t(r,e,i){var s=this;e===void 0&&(e=""),i===void 0&&(i=!0),n.call(this),this._data=r,Xt(i,t.Name,{data:"ISO data as a Buffer",name:e});for(var c=!1,l=16*2048,w=new Array;!c;){var k=r.slice(l),P=new G(k);switch(P.type()){case 1:w.push(new gt(k));break;case 2:w.push(new ct(k));break;case 255:c=!0;break}l+=2048}if(w.length===0)throw new p(h.EIO,"Unable to find a suitable volume descriptor.");w.forEach(function(V){(!s._pvd||s._pvd.type()!==2)&&(s._pvd=V)}),this._root=this._pvd.rootDirectoryEntry(r),this._name=e}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.Create=function(e,i){var s,c;try{s=new t(e.data,e.name,!1)}catch(l){l=l}finally{i(c,s)}},t.isAvailable=function(){return!0},t.prototype.getName=function(){var e="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(e+="-RockRidge"),e},t.prototype.diskSpace=function(e,i){i(this._data.length,0)},t.prototype.isReadOnly=function(){return!0},t.prototype.supportsLinks=function(){return!1},t.prototype.supportsProps=function(){return!1},t.prototype.supportsSynch=function(){return!0},t.prototype.statSync=function(e,i){var s=this._getDirectoryRecord(e);if(s===null)throw p.ENOENT(e);return this._getStats(e,s)},t.prototype.openSync=function(e,i,s){if(i.isWriteable())throw new p(h.EPERM,e);var c=this._getDirectoryRecord(e);if(c){if(c.isSymlink(this._data))return this.openSync(S.resolve(e,c.getSymlinkPath(this._data)),i,s);if(c.isDirectory(this._data))throw p.EISDIR(e);var l=c.getFile(this._data),w=this._getStats(e,c);switch(i.pathExistsAction()){case x.THROW_EXCEPTION:case x.TRUNCATE_FILE:throw p.EEXIST(e);case x.NOP:return new Re(this,e,i,w,l);default:throw new p(h.EINVAL,"Invalid FileMode object.")}}else throw p.ENOENT(e)},t.prototype.readdirSync=function(e){var i=this._getDirectoryRecord(e);if(i){if(i.isDirectory(this._data))return i.getDirectory(this._data).getFileList().slice(0);throw p.ENOTDIR(e)}else throw p.ENOENT(e)},t.prototype.readFileSync=function(e,i,s){var c=this.openSync(e,s,420);try{var l=c,w=l.getBuffer();return i===null?ee(w):w.toString(i)}finally{c.closeSync()}},t.prototype._getDirectoryRecord=function(e){var i=this;if(e==="/")return this._root;for(var s=e.split("/").slice(1),c=this._root,l=0,w=s;l<w.length;l+=1){var k=w[l];if(c.isDirectory(i._data)){if(c=c.getDirectory(i._data).getRecord(k),!c)return null}else return null}return c},t.prototype._getStats=function(e,i){if(i.isSymlink(this._data)){var s=S.resolve(e,i.getSymlinkPath(this._data)),c=this._getDirectoryRecord(s);return c?this._getStats(s,c):null}else{var l=i.dataLength(),w=365,k=i.recordingDate(),P=k,V=k,et=k;if(i.hasRockRidge())for(var vt=i.getSUEntries(this._data),mt=0,Tt=vt;mt<Tt.length;mt+=1){var zt=Tt[mt];if(zt instanceof Zo)w=zt.mode();else if(zt instanceof Ko){var Qt=zt.flags();Qt&4&&(P=zt.access()),Qt&2&&(V=zt.modify()),Qt&1&&(et=zt.creation())}}return w=w&365,new Z(i.isDirectory(this._data)?X.DIRECTORY:X.FILE,l,w,P,V,et)}},t})(Le);Di.Name="IsoFS",Di.Options={data:{type:"object",description:"The ISO file in a buffer",validator:R}},[I,$r,tn,Nr,Ur,yr,Rr,Di,zr,Tr,Yr,fn,ln,a].forEach(function(n){var t=n.Create;n.Create=function(r,e){var i=typeof r=="function",s=i?r:e,c=i?{}:r;function l(w){w?s(w):t.call(n,c,s)}L(n,c,l)}});var Ri={AsyncMirror:I,Dropbox:$r,Emscripten:tn,FolderAdapter:Nr,HTML5FS:Ur,InMemory:yr,IndexedDB:Rr,IsoFS:Di,LocalStorage:zr,MountableFileSystem:Tr,OverlayFS:Yr,WorkerFS:fn,XmlHttpRequest:ln,ZipFS:a};j.initializeTTYs&&j.initializeTTYs();function ma(n){n.Buffer=A,n.process=j;var t=n.require?n.require:null;n.require=function(r){var e=Jo(r);return e||t.apply(null,Array.prototype.slice.call(arguments,0))}}function ga(n,t){Ri[n]=t}function Jo(n){switch(n){case"fs":return bt;case"path":return S;case"buffer":return N;case"process":return j;case"bfs_utils":return at;default:return Ri[n]}}function Qo(n){return bt.initialize(n)}function wa(n,t){Vo(n,function(r,e){e?(Qo(e),t()):t(r)})}function Vo(n,t){var r=n.fs;if(!r)return t(new p(h.EPERM,'Missing "fs" property on configuration object.'));var e=n.options,i=0,s=!1;function c(){if(!s){s=!0;var k=Ri[r];k?k.Create(e,t):t(new p(h.EPERM,"File system "+r+" is not available in BrowserFS."))}}if(e!==null&&typeof e=="object"){var l=!1,w=Object.keys(e).filter(function(k){return k!=="fs"});w.forEach(function(k){var P=e[k];P!==null&&typeof P=="object"&&P.fs&&(i++,Vo(P,function(V,et){if(i--,V){if(s)return;s=!0,t(V)}else e[k]=et,i===0&&l&&c()}))}),l=!0}i===0&&c()}"ab".substr(-1)!=="b"&&(String.prototype.substr=(function(n){return function(t,r){return t<0&&(t=this.length+t),n.call(this,t,r)}})(String.prototype.substr)),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&(Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(n,t){n===void 0&&(n=0),t===void 0&&(t=this.length);var r=this;return n<0&&(n=this.length+n,n<0&&(n=0)),t<0&&(t=this.length+t,t<0&&(t=0)),t<n&&(t=n),new Uint8Array(r.buffer,r.byteOffset+n,t-n)})),H.install=ma,H.registerFileSystem=ga,H.BFSRequire=Jo,H.initialize=Qo,H.configure=wa,H.getFileSystem=Vo,H.EmscriptenFS=Gt,H.FileSystem=Ri,H.Errors=B,H.setImmediate=In}).call(H,M(1),(function(){return this})(),M(5)(F),M(6))},function(F,H,M){F.exports=M(2).Buffer},function(F,H,M){(function(h){var Y=M(3),C=M(4);H.Buffer=h,H.SlowBuffer=tt,H.INSPECT_MAX_BYTES=50;var j=2147483647;H.kMaxLength=j,h.TYPED_ARRAY_SUPPORT=N(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function N(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42}catch{return!1}}function S(I){if(I>j)throw new RangeError("Invalid typed array length");var v=new Uint8Array(I);return v.__proto__=h.prototype,v}function h(I,v,m){if(typeof I=="number"){if(typeof v=="string")throw new Error("If encoding is specified then the first argument must be a string");return x(I)}return b(I,v,m)}typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192;function b(I,v,m){if(typeof I=="number")throw new TypeError('"value" argument must not be a number');return Se(I)?Z(I,v,m):typeof I=="string"?U(I,v):pt(I)}h.from=function(I,v,m){return b(I,v,m)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array;function p(I){if(typeof I!="number")throw new TypeError('"size" argument must be a number');if(I<0)throw new RangeError('"size" argument must not be negative')}function B(I,v,m){return p(I),I<=0?S(I):v!==void 0?typeof m=="string"?S(I).fill(v,m):S(I).fill(v):S(I)}h.alloc=function(I,v,m){return B(I,v,m)};function x(I){return p(I),S(I<0?0:Q(I)|0)}h.allocUnsafe=function(I){return x(I)},h.allocUnsafeSlow=function(I){return x(I)};function U(I,v){if((typeof v!="string"||v==="")&&(v="utf8"),!h.isEncoding(v))throw new TypeError('"encoding" must be a valid string encoding');var m=Ht(I,v)|0,D=S(m),q=D.write(I,v);return q!==m&&(D=D.slice(0,q)),D}function X(I){for(var v=I.length<0?0:Q(I.length)|0,m=S(v),D=0;D<v;D+=1)m[D]=I[D]&255;return m}function Z(I,v,m){if(v<0||I.byteLength<v)throw new RangeError("'offset' is out of bounds");if(I.byteLength<v+(m||0))throw new RangeError("'length' is out of bounds");var D;return v===void 0&&m===void 0?D=new Uint8Array(I):m===void 0?D=new Uint8Array(I,v):D=new Uint8Array(I,v,m),D.__proto__=h.prototype,D}function pt(I){if(h.isBuffer(I)){var v=Q(I.length)|0,m=S(v);return m.length===0||I.copy(m,0,0,v),m}if(I){if(Re(I)||"length"in I)return typeof I.length!="number"||er(I.length)?S(0):X(I);if(I.type==="Buffer"&&Array.isArray(I.data))return X(I.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Q(I){if(I>=j)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j.toString(16)+" bytes");return I|0}function tt(I){return+I!=I&&(I=0),h.alloc(+I)}h.isBuffer=function(v){return v!=null&&v._isBuffer===!0},h.compare=function(v,m){if(!h.isBuffer(v)||!h.isBuffer(m))throw new TypeError("Arguments must be Buffers");if(v===m)return 0;for(var D=v.length,q=m.length,$=0,st=Math.min(D,q);$<st;++$)if(v[$]!==m[$]){D=v[$],q=m[$];break}return D<q?-1:q<D?1:0},h.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(v,m){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return h.alloc(0);var D;if(m===void 0)for(m=0,D=0;D<v.length;++D)m+=v[D].length;var q=h.allocUnsafe(m),$=0;for(D=0;D<v.length;++D){var st=v[D];if(!h.isBuffer(st))throw new TypeError('"list" argument must be an Array of Buffers');st.copy(q,$),$+=st.length}return q};function Ht(I,v){if(h.isBuffer(I))return I.length;if(Re(I)||Se(I))return I.byteLength;typeof I!="string"&&(I=""+I);var m=I.length;if(m===0)return 0;for(var D=!1;;)switch(v){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":case void 0:return Lt(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return Le(I).length;default:if(D)return Lt(I).length;v=(""+v).toLowerCase(),D=!0}}h.byteLength=Ht;function ht(I,v,m){var D=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,v>>>=0,m<=v))return"";for(I||(I="utf8");;)switch(I){case"hex":return Kt(this,v,m);case"utf8":case"utf-8":return Ee(this,v,m);case"ascii":return lt(this,v,m);case"latin1":case"binary":return It(this,v,m);case"base64":return xt(this,v,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt(this,v,m);default:if(D)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),D=!0}}h.prototype._isBuffer=!0;function Vt(I,v,m){var D=I[v];I[v]=I[m],I[m]=D}h.prototype.swap16=function(){var v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<v;m+=2)Vt(this,m,m+1);return this},h.prototype.swap32=function(){var v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<v;m+=4)Vt(this,m,m+3),Vt(this,m+1,m+2);return this},h.prototype.swap64=function(){var v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<v;m+=8)Vt(this,m,m+7),Vt(this,m+1,m+6),Vt(this,m+2,m+5),Vt(this,m+3,m+4);return this},h.prototype.toString=function(){var v=this.length;return v===0?"":arguments.length===0?Ee(this,0,v):ht.apply(this,arguments)},h.prototype.equals=function(v){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:h.compare(this,v)===0},h.prototype.inspect=function(){var v="",m=H.INSPECT_MAX_BYTES;return this.length>0&&(v=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(v+=" ... ")),"<Buffer "+v+">"},h.prototype.compare=function(v,m,D,q,$){if(!h.isBuffer(v))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),D===void 0&&(D=v?v.length:0),q===void 0&&(q=0),$===void 0&&($=this.length),m<0||D>v.length||q<0||$>this.length)throw new RangeError("out of range index");if(q>=$&&m>=D)return 0;if(q>=$)return-1;if(m>=D)return 1;if(m>>>=0,D>>>=0,q>>>=0,$>>>=0,this===v)return 0;for(var st=$-q,$t=D-m,se=Math.min(st,$t),ne=this.slice(q,$),ke=v.slice(m,D),ue=0;ue<se;++ue)if(ne[ue]!==ke[ue]){st=ne[ue],$t=ke[ue];break}return st<$t?-1:$t<st?1:0};function Ut(I,v,m,D,q){if(I.length===0)return-1;if(typeof m=="string"?(D=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,er(m)&&(m=q?0:I.length-1),m<0&&(m=I.length+m),m>=I.length){if(q)return-1;m=I.length-1}else if(m<0)if(q)m=0;else return-1;if(typeof v=="string"&&(v=h.from(v,D)),h.isBuffer(v))return v.length===0?-1:K(I,v,m,D,q);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(I,v,m):Uint8Array.prototype.lastIndexOf.call(I,v,m):K(I,[v],m,D,q);throw new TypeError("val must be string, number or Buffer")}function K(I,v,m,D,q){var $=1,st=I.length,$t=v.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(I.length<2||v.length<2)return-1;$=2,st/=2,$t/=2,m/=2}function se(Sr,fr){return $===1?Sr[fr]:Sr.readUInt16BE(fr*$)}var ne;if(q){var ke=-1;for(ne=m;ne<st;ne++)if(se(I,ne)===se(v,ke===-1?0:ne-ke)){if(ke===-1&&(ke=ne),ne-ke+1===$t)return ke*$}else ke!==-1&&(ne-=ne-ke),ke=-1}else for(m+$t>st&&(m=st-$t),ne=m;ne>=0;ne--){for(var ue=!0,qe=0;qe<$t;qe++)if(se(I,ne+qe)!==se(v,qe)){ue=!1;break}if(ue)return ne}return-1}h.prototype.includes=function(v,m,D){return this.indexOf(v,m,D)!==-1},h.prototype.indexOf=function(v,m,D){return Ut(this,v,m,D,!0)},h.prototype.lastIndexOf=function(v,m,D){return Ut(this,v,m,D,!1)};function ft(I,v,m,D){m=Number(m)||0;var q=I.length-m;D?(D=Number(D),D>q&&(D=q)):D=q;var $=v.length;if($%2!==0)throw new TypeError("Invalid hex string");D>$/2&&(D=$/2);for(var st=0;st<D;++st){var $t=parseInt(v.substr(st*2,2),16);if(er($t))return st;I[m+st]=$t}return st}function bt(I,v,m,D){return jt(Lt(v,I.length-m),I,m,D)}function te(I,v,m,D){return jt(Gt(v),I,m,D)}function At(I,v,m,D){return te(I,v,m,D)}function Bt(I,v,m,D){return jt(Le(v),I,m,D)}function Xt(I,v,m,D){return jt(dt(v,I.length-m),I,m,D)}h.prototype.write=function(v,m,D,q){if(m===void 0)q="utf8",D=this.length,m=0;else if(D===void 0&&typeof m=="string")q=m,D=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(D)?(D=D>>>0,q===void 0&&(q="utf8")):(q=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var $=this.length-m;if((D===void 0||D>$)&&(D=$),v.length>0&&(D<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var st=!1;;)switch(q){case"hex":return ft(this,v,m,D);case"utf8":case"utf-8":return bt(this,v,m,D);case"ascii":return te(this,v,m,D);case"latin1":case"binary":return At(this,v,m,D);case"base64":return Bt(this,v,m,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xt(this,v,m,D);default:if(st)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),st=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function xt(I,v,m){return v===0&&m===I.length?Y.fromByteArray(I):Y.fromByteArray(I.slice(v,m))}function Ee(I,v,m){m=Math.min(I.length,m);for(var D=[],q=v;q<m;){var $=I[q],st=null,$t=$>239?4:$>223?3:$>191?2:1;if(q+$t<=m){var se,ne,ke,ue;switch($t){case 1:$<128&&(st=$);break;case 2:se=I[q+1],(se&192)===128&&(ue=($&31)<<6|se&63,ue>127&&(st=ue));break;case 3:se=I[q+1],ne=I[q+2],(se&192)===128&&(ne&192)===128&&(ue=($&15)<<12|(se&63)<<6|ne&63,ue>2047&&(ue<55296||ue>57343)&&(st=ue));break;case 4:se=I[q+1],ne=I[q+2],ke=I[q+3],(se&192)===128&&(ne&192)===128&&(ke&192)===128&&(ue=($&15)<<18|(se&63)<<12|(ne&63)<<6|ke&63,ue>65535&&ue<1114112&&(st=ue))}}st===null?(st=65533,$t=1):st>65535&&(st-=65536,D.push(st>>>10&1023|55296),st=56320|st&1023),D.push(st),q+=$t}return W(D)}var T=4096;function W(I){var v=I.length;if(v<=T)return String.fromCharCode.apply(String,I);for(var m="",D=0;D<v;)m+=String.fromCharCode.apply(String,I.slice(D,D+=T));return m}function lt(I,v,m){var D="";m=Math.min(I.length,m);for(var q=v;q<m;++q)D+=String.fromCharCode(I[q]&127);return D}function It(I,v,m){var D="";m=Math.min(I.length,m);for(var q=v;q<m;++q)D+=String.fromCharCode(I[q]);return D}function Kt(I,v,m){var D=I.length;(!v||v<0)&&(v=0),(!m||m<0||m>D)&&(m=D);for(var q="",$=v;$<m;++$)q+=_t(I[$]);return q}function Wt(I,v,m){for(var D=I.slice(v,m),q="",$=0;$<D.length;$+=2)q+=String.fromCharCode(D[$]+D[$+1]*256);return q}h.prototype.slice=function(v,m){var D=this.length;v=~~v,m=m===void 0?D:~~m,v<0?(v+=D,v<0&&(v=0)):v>D&&(v=D),m<0?(m+=D,m<0&&(m=0)):m>D&&(m=D),m<v&&(m=v);var q=this.subarray(v,m);return q.__proto__=h.prototype,q};function qt(I,v,m){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+v>m)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function(v,m,D){v=v>>>0,m=m>>>0,D||qt(v,m,this.length);for(var q=this[v],$=1,st=0;++st<m&&($*=256);)q+=this[v+st]*$;return q},h.prototype.readUIntBE=function(v,m,D){v=v>>>0,m=m>>>0,D||qt(v,m,this.length);for(var q=this[v+--m],$=1;m>0&&($*=256);)q+=this[v+--m]*$;return q},h.prototype.readUInt8=function(v,m){return v=v>>>0,m||qt(v,1,this.length),this[v]},h.prototype.readUInt16LE=function(v,m){return v=v>>>0,m||qt(v,2,this.length),this[v]|this[v+1]<<8},h.prototype.readUInt16BE=function(v,m){return v=v>>>0,m||qt(v,2,this.length),this[v]<<8|this[v+1]},h.prototype.readUInt32LE=function(v,m){return v=v>>>0,m||qt(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},h.prototype.readUInt32BE=function(v,m){return v=v>>>0,m||qt(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},h.prototype.readIntLE=function(v,m,D){v=v>>>0,m=m>>>0,D||qt(v,m,this.length);for(var q=this[v],$=1,st=0;++st<m&&($*=256);)q+=this[v+st]*$;return $*=128,q>=$&&(q-=Math.pow(2,8*m)),q},h.prototype.readIntBE=function(v,m,D){v=v>>>0,m=m>>>0,D||qt(v,m,this.length);for(var q=m,$=1,st=this[v+--q];q>0&&($*=256);)st+=this[v+--q]*$;return $*=128,st>=$&&(st-=Math.pow(2,8*m)),st},h.prototype.readInt8=function(v,m){return v=v>>>0,m||qt(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},h.prototype.readInt16LE=function(v,m){v=v>>>0,m||qt(v,2,this.length);var D=this[v]|this[v+1]<<8;return D&32768?D|4294901760:D},h.prototype.readInt16BE=function(v,m){v=v>>>0,m||qt(v,2,this.length);var D=this[v+1]|this[v]<<8;return D&32768?D|4294901760:D},h.prototype.readInt32LE=function(v,m){return v=v>>>0,m||qt(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},h.prototype.readInt32BE=function(v,m){return v=v>>>0,m||qt(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},h.prototype.readFloatLE=function(v,m){return v=v>>>0,m||qt(v,4,this.length),C.read(this,v,!0,23,4)},h.prototype.readFloatBE=function(v,m){return v=v>>>0,m||qt(v,4,this.length),C.read(this,v,!1,23,4)},h.prototype.readDoubleLE=function(v,m){return v=v>>>0,m||qt(v,8,this.length),C.read(this,v,!0,52,8)},h.prototype.readDoubleBE=function(v,m){return v=v>>>0,m||qt(v,8,this.length),C.read(this,v,!1,52,8)};function ee(I,v,m,D,q,$){if(!h.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>q||v<$)throw new RangeError('"value" argument is out of bounds');if(m+D>I.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function(v,m,D,q){if(v=+v,m=m>>>0,D=D>>>0,!q){var $=Math.pow(2,8*D)-1;ee(this,v,m,D,$,0)}var st=1,$t=0;for(this[m]=v&255;++$t<D&&(st*=256);)this[m+$t]=v/st&255;return m+D},h.prototype.writeUIntBE=function(v,m,D,q){if(v=+v,m=m>>>0,D=D>>>0,!q){var $=Math.pow(2,8*D)-1;ee(this,v,m,D,$,0)}var st=D-1,$t=1;for(this[m+st]=v&255;--st>=0&&($t*=256);)this[m+st]=v/$t&255;return m+D},h.prototype.writeUInt8=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,1,255,0),this[m]=v&255,m+1},h.prototype.writeUInt16LE=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,2,65535,0),this[m]=v&255,this[m+1]=v>>>8,m+2},h.prototype.writeUInt16BE=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,2,65535,0),this[m]=v>>>8,this[m+1]=v&255,m+2},h.prototype.writeUInt32LE=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,4,4294967295,0),this[m+3]=v>>>24,this[m+2]=v>>>16,this[m+1]=v>>>8,this[m]=v&255,m+4},h.prototype.writeUInt32BE=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,4,4294967295,0),this[m]=v>>>24,this[m+1]=v>>>16,this[m+2]=v>>>8,this[m+3]=v&255,m+4},h.prototype.writeIntLE=function(v,m,D,q){if(v=+v,m=m>>>0,!q){var $=Math.pow(2,8*D-1);ee(this,v,m,D,$-1,-$)}var st=0,$t=1,se=0;for(this[m]=v&255;++st<D&&($t*=256);)v<0&&se===0&&this[m+st-1]!==0&&(se=1),this[m+st]=(v/$t>>0)-se&255;return m+D},h.prototype.writeIntBE=function(v,m,D,q){if(v=+v,m=m>>>0,!q){var $=Math.pow(2,8*D-1);ee(this,v,m,D,$-1,-$)}var st=D-1,$t=1,se=0;for(this[m+st]=v&255;--st>=0&&($t*=256);)v<0&&se===0&&this[m+st+1]!==0&&(se=1),this[m+st]=(v/$t>>0)-se&255;return m+D},h.prototype.writeInt8=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,1,127,-128),v<0&&(v=255+v+1),this[m]=v&255,m+1},h.prototype.writeInt16LE=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,2,32767,-32768),this[m]=v&255,this[m+1]=v>>>8,m+2},h.prototype.writeInt16BE=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,2,32767,-32768),this[m]=v>>>8,this[m+1]=v&255,m+2},h.prototype.writeInt32LE=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,4,2147483647,-2147483648),this[m]=v&255,this[m+1]=v>>>8,this[m+2]=v>>>16,this[m+3]=v>>>24,m+4},h.prototype.writeInt32BE=function(v,m,D){return v=+v,m=m>>>0,D||ee(this,v,m,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[m]=v>>>24,this[m+1]=v>>>16,this[m+2]=v>>>8,this[m+3]=v&255,m+4};function ve(I,v,m,D,q,$){if(m+D>I.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function fe(I,v,m,D,q){return v=+v,m=m>>>0,q||ve(I,v,m,4),C.write(I,v,m,D,23,4),m+4}h.prototype.writeFloatLE=function(v,m,D){return fe(this,v,m,!0,D)},h.prototype.writeFloatBE=function(v,m,D){return fe(this,v,m,!1,D)};function R(I,v,m,D,q){return v=+v,m=m>>>0,q||ve(I,v,m,8),C.write(I,v,m,D,52,8),m+8}h.prototype.writeDoubleLE=function(v,m,D){return R(this,v,m,!0,D)},h.prototype.writeDoubleBE=function(v,m,D){return R(this,v,m,!1,D)},h.prototype.copy=function(v,m,D,q){if(D||(D=0),!q&&q!==0&&(q=this.length),m>=v.length&&(m=v.length),m||(m=0),q>0&&q<D&&(q=D),q===D||v.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("sourceStart out of bounds");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),v.length-m<q-D&&(q=v.length-m+D);var $=q-D,st;if(this===v&&D<m&&m<q)for(st=$-1;st>=0;--st)v[st+m]=this[st+D];else if($<1e3)for(st=0;st<$;++st)v[st+m]=this[st+D];else Uint8Array.prototype.set.call(v,this.subarray(D,D+$),m);return $},h.prototype.fill=function(v,m,D,q){if(typeof v=="string"){if(typeof m=="string"?(q=m,m=0,D=this.length):typeof D=="string"&&(q=D,D=this.length),v.length===1){var $=v.charCodeAt(0);$<256&&(v=$)}if(q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!h.isEncoding(q))throw new TypeError("Unknown encoding: "+q)}else typeof v=="number"&&(v=v&255);if(m<0||this.length<m||this.length<D)throw new RangeError("Out of range index");if(D<=m)return this;m=m>>>0,D=D===void 0?this.length:D>>>0,v||(v=0);var st;if(typeof v=="number")for(st=m;st<D;++st)this[st]=v;else{var $t=h.isBuffer(v)?v:new h(v,q),se=$t.length;for(st=0;st<D-m;++st)this[st+m]=$t[st%se]}return this};var L=/[^+/0-9A-Za-z-_]/g;function at(I){if(I=I.trim().replace(L,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function _t(I){return I<16?"0"+I.toString(16):I.toString(16)}function Lt(I,v){v=v||1/0;for(var m,D=I.length,q=null,$=[],st=0;st<D;++st){if(m=I.charCodeAt(st),m>55295&&m<57344){if(!q){if(m>56319){(v-=3)>-1&&$.push(239,191,189);continue}else if(st+1===D){(v-=3)>-1&&$.push(239,191,189);continue}q=m;continue}if(m<56320){(v-=3)>-1&&$.push(239,191,189),q=m;continue}m=(q-55296<<10|m-56320)+65536}else q&&(v-=3)>-1&&$.push(239,191,189);if(q=null,m<128){if((v-=1)<0)break;$.push(m)}else if(m<2048){if((v-=2)<0)break;$.push(m>>6|192,m&63|128)}else if(m<65536){if((v-=3)<0)break;$.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((v-=4)<0)break;$.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return $}function Gt(I){for(var v=[],m=0;m<I.length;++m)v.push(I.charCodeAt(m)&255);return v}function dt(I,v){for(var m,D,q,$=[],st=0;st<I.length&&!((v-=2)<0);++st)m=I.charCodeAt(st),D=m>>8,q=m%256,$.push(q),$.push(D);return $}function Le(I){return Y.toByteArray(at(I))}function jt(I,v,m,D){for(var q=0;q<D&&!(q+m>=v.length||q>=I.length);++q)v[q+m]=I[q];return q}function Se(I){return I instanceof ArrayBuffer||I!=null&&I.constructor!=null&&I.constructor.name==="ArrayBuffer"&&typeof I.byteLength=="number"}function Re(I){return typeof ArrayBuffer.isView=="function"&&ArrayBuffer.isView(I)}function er(I){return I!==I}}).call(H,M(1))},function(F,H){H.byteLength=h,H.toByteArray=b,H.fromByteArray=x;for(var M=[],A=[],Y=typeof Uint8Array<"u"?Uint8Array:Array,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0,N=C.length;j<N;++j)M[j]=C[j],A[C.charCodeAt(j)]=j;A[45]=62,A[95]=63;function S(U){var X=U.length;if(X%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return U[X-2]==="="?2:U[X-1]==="="?1:0}function h(U){return U.length*3/4-S(U)}function b(U){var X,Z,pt,Q,tt,Ht,ht=U.length;tt=S(U),Ht=new Y(ht*3/4-tt),pt=tt>0?ht-4:ht;var Vt=0;for(X=0,Z=0;X<pt;X+=4,Z+=3)Q=A[U.charCodeAt(X)]<<18|A[U.charCodeAt(X+1)]<<12|A[U.charCodeAt(X+2)]<<6|A[U.charCodeAt(X+3)],Ht[Vt++]=Q>>16&255,Ht[Vt++]=Q>>8&255,Ht[Vt++]=Q&255;return tt===2?(Q=A[U.charCodeAt(X)]<<2|A[U.charCodeAt(X+1)]>>4,Ht[Vt++]=Q&255):tt===1&&(Q=A[U.charCodeAt(X)]<<10|A[U.charCodeAt(X+1)]<<4|A[U.charCodeAt(X+2)]>>2,Ht[Vt++]=Q>>8&255,Ht[Vt++]=Q&255),Ht}function p(U){return M[U>>18&63]+M[U>>12&63]+M[U>>6&63]+M[U&63]}function B(U,X,Z){for(var pt,Q=[],tt=X;tt<Z;tt+=3)pt=(U[tt]<<16)+(U[tt+1]<<8)+U[tt+2],Q.push(p(pt));return Q.join("")}function x(U){for(var X,Z=U.length,pt=Z%3,Q="",tt=[],Ht=16383,ht=0,Vt=Z-pt;ht<Vt;ht+=Ht)tt.push(B(U,ht,ht+Ht>Vt?Vt:ht+Ht));return pt===1?(X=U[Z-1],Q+=M[X>>2],Q+=M[X<<4&63],Q+="=="):pt===2&&(X=(U[Z-2]<<8)+U[Z-1],Q+=M[X>>10],Q+=M[X>>4&63],Q+=M[X<<2&63],Q+="="),tt.push(Q),tt.join("")}},function(F,H){H.read=function(M,A,Y,C,j){var N,S,h=j*8-C-1,b=(1<<h)-1,p=b>>1,B=-7,x=Y?j-1:0,U=Y?-1:1,X=M[A+x];for(x+=U,N=X&(1<<-B)-1,X>>=-B,B+=h;B>0;N=N*256+M[A+x],x+=U,B-=8);for(S=N&(1<<-B)-1,N>>=-B,B+=C;B>0;S=S*256+M[A+x],x+=U,B-=8);if(N===0)N=1-p;else{if(N===b)return S?NaN:(X?-1:1)*(1/0);S=S+Math.pow(2,C),N=N-p}return(X?-1:1)*S*Math.pow(2,N-C)},H.write=function(M,A,Y,C,j,N){var S,h,b,p=N*8-j-1,B=(1<<p)-1,x=B>>1,U=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,X=C?0:N-1,Z=C?1:-1,pt=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(h=isNaN(A)?1:0,S=B):(S=Math.floor(Math.log(A)/Math.LN2),A*(b=Math.pow(2,-S))<1&&(S--,b*=2),S+x>=1?A+=U/b:A+=U*Math.pow(2,1-x),A*b>=2&&(S++,b/=2),S+x>=B?(h=0,S=B):S+x>=1?(h=(A*b-1)*Math.pow(2,j),S=S+x):(h=A*Math.pow(2,x-1)*Math.pow(2,j),S=0));j>=8;M[Y+X]=h&255,X+=Z,h/=256,j-=8);for(S=S<<j|h,p+=j;p>0;M[Y+X]=S&255,X+=Z,S/=256,p-=8);M[Y+X-Z]|=pt*128}},function(F,H){F.exports=function(M){return M.webpackPolyfill||(M.deprecate=function(){},M.paths=[],M.children=[],M.webpackPolyfill=1),M}},function(F,H,M){var A=M(7),Y=new A,C={};function j(S){C[S]||(typeof Y[S]=="function"?C[S]=function(){return Y[S].apply(Y,arguments)}:C[S]=Y[S])}for(var N in Y)j(N);C.initializeTTYs=function(){Y.stdin===null&&(Y.initializeTTYs(),C.stdin=Y.stdin,C.stdout=Y.stdout,C.stderr=Y.stderr)},Y.nextTick(function(){C.initializeTTYs()}),F.exports=C},function(F,H,M){(function(A){var Y=this&&this.__extends||function(b,p){for(var B in p)p.hasOwnProperty(B)&&(b[B]=p[B]);function x(){this.constructor=b}b.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)},C=M(8),j=null,N=(function(){function b(p,B){this.fun=p,this.array=B}return b.prototype.run=function(){this.fun.apply(null,this.array)},b})(),S=(function(){function b(){this._queue=[],this._draining=!1,this._currentQueue=null,this._queueIndex=-1}return b.prototype.push=function(p){var B=this;this._queue.push(p)===1&&!this._draining&&setTimeout(function(){return B._drainQueue()},0)},b.prototype._cleanUpNextTick=function(){this._draining=!1,this._currentQueue&&this._currentQueue.length?this._queue=this._currentQueue.concat(this._queue):this._queueIndex=-1,this._queue.length&&this._drainQueue()},b.prototype._drainQueue=function(){var p=this;if(!this._draining){var B=setTimeout(function(){return p._cleanUpNextTick()});this._draining=!0;for(var x=this._queue.length;x;){for(this._currentQueue=this._queue,this._queue=[];++this._queueIndex<x;)this._currentQueue&&this._currentQueue[this._queueIndex].run();this._queueIndex=-1,x=this._queue.length}this._currentQueue=null,this._draining=!1,clearTimeout(B)}},b})(),h=(function(b){Y(p,b);function p(){b.apply(this,arguments),this.startTime=Date.now(),this._cwd="/",this.platform="browser",this.argv=[],this.execArgv=[],this.stdout=null,this.stderr=null,this.stdin=null,this.domain=null,this._queue=new S,this.execPath=A,this.env={},this.exitCode=0,this._gid=1,this._uid=1,this.version="v5.0",this.versions={http_parser:"0.0",node:"5.0",v8:"0.0",uv:"0.0",zlib:"0.0",ares:"0.0",icu:"0.0",modules:"0",openssl:"0.0"},this.config={target_defaults:{cflags:[],default_configuration:"Release",defines:[],include_dirs:[],libraries:[]},variables:{clang:0,host_arch:"x32",node_install_npm:!1,node_install_waf:!1,node_prefix:"",node_shared_cares:!1,node_shared_http_parser:!1,node_shared_libuv:!1,node_shared_zlib:!1,node_shared_v8:!1,node_use_dtrace:!1,node_use_etw:!1,node_use_openssl:!1,node_shared_openssl:!1,strict_aliasing:!1,target_arch:"x32",v8_use_snapshot:!1,v8_no_strict_aliasing:0,visibility:""}},this.pid=Math.random()*1e3|0,this.title="node",this.arch="x32",this._mask=18,this.connected=void 0}return p.prototype.chdir=function(B){j===null&&(j=M(9)),this._cwd=j.resolve(B)},p.prototype.cwd=function(){return this._cwd},p.prototype.uptime=function(){return(Date.now()-this.startTime)/1e3|0},p.prototype.nextTick=function(B){for(var x=[],U=1;U<arguments.length;U++)x[U-1]=arguments[U];this._queue.push(new N(B,x))},p.prototype.abort=function(){this.emit("abort")},p.prototype.exit=function(B){this.exitCode=B,this.emit("exit",[B])},p.prototype.getgid=function(){return this._gid},p.prototype.setgid=function(B){typeof B=="number"?this._gid=B:this._gid=1},p.prototype.getuid=function(){return this._uid},p.prototype.setuid=function(B){typeof B=="number"?this._uid=B:this._uid=1},p.prototype.kill=function(B,x){this.emit("kill",[B,x])},p.prototype.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0}},p.prototype.umask=function(B){B===void 0&&(B=this._mask);var x=this._mask;return this._mask=B,this.emit("umask",[B]),x},p.prototype.hrtime=function(){var B;typeof performance<"u"?B=performance.now():Date.now?B=Date.now():B=new Date().getTime();var x=B/1e3|0;return B-=x*1e3,B=B*1e6|0,[x,B]},p.prototype.initializeTTYs=function(){if(this.stdout===null){var B=M(10);this.stdout=new B,this.stderr=new B,this.stdin=new B}},p.prototype.disconnect=function(){},p})(C.EventEmitter);F.exports=h}).call(H,"/")},function(F,H){function M(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}F.exports=M,M.EventEmitter=M,M.prototype._events=void 0,M.prototype._maxListeners=void 0,M.defaultMaxListeners=10,M.prototype.setMaxListeners=function(N){if(!Y(N)||N<0||isNaN(N))throw TypeError("n must be a positive number");return this._maxListeners=N,this},M.prototype.emit=function(N){var S,h,b,p,B,x;if(this._events||(this._events={}),N==="error"&&(!this._events.error||C(this._events.error)&&!this._events.error.length)){if(S=arguments[1],S instanceof Error)throw S;var U=new Error('Uncaught, unspecified "error" event. ('+S+")");throw U.context=S,U}if(h=this._events[N],j(h))return!1;if(A(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:p=Array.prototype.slice.call(arguments,1),h.apply(this,p)}else if(C(h))for(p=Array.prototype.slice.call(arguments,1),x=h.slice(),b=x.length,B=0;B<b;B++)x[B].apply(this,p);return!0},M.prototype.addListener=function(N,S){var h;if(!A(S))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",N,A(S.listener)?S.listener:S),this._events[N]?C(this._events[N])?this._events[N].push(S):this._events[N]=[this._events[N],S]:this._events[N]=S,C(this._events[N])&&!this._events[N].warned&&(j(this._maxListeners)?h=M.defaultMaxListeners:h=this._maxListeners,h&&h>0&&this._events[N].length>h&&(this._events[N].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[N].length),typeof console.trace=="function"&&console.trace())),this},M.prototype.on=M.prototype.addListener,M.prototype.once=function(N,S){if(!A(S))throw TypeError("listener must be a function");var h=!1;function b(){this.removeListener(N,b),h||(h=!0,S.apply(this,arguments))}return b.listener=S,this.on(N,b),this},M.prototype.removeListener=function(N,S){var h,b,p,B;if(!A(S))throw TypeError("listener must be a function");if(!this._events||!this._events[N])return this;if(h=this._events[N],p=h.length,b=-1,h===S||A(h.listener)&&h.listener===S)delete this._events[N],this._events.removeListener&&this.emit("removeListener",N,S);else if(C(h)){for(B=p;B-- >0;)if(h[B]===S||h[B].listener&&h[B].listener===S){b=B;break}if(b<0)return this;h.length===1?(h.length=0,delete this._events[N]):h.splice(b,1),this._events.removeListener&&this.emit("removeListener",N,S)}return this},M.prototype.removeAllListeners=function(N){var S,h;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[N]&&delete this._events[N],this;if(arguments.length===0){for(S in this._events)S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events={},this}if(h=this._events[N],A(h))this.removeListener(N,h);else if(h)for(;h.length;)this.removeListener(N,h[h.length-1]);return delete this._events[N],this},M.prototype.listeners=function(N){var S;return!this._events||!this._events[N]?S=[]:A(this._events[N])?S=[this._events[N]]:S=this._events[N].slice(),S},M.prototype.listenerCount=function(N){if(this._events){var S=this._events[N];if(A(S))return 1;if(S)return S.length}return 0},M.listenerCount=function(N,S){return N.listenerCount(S)};function A(N){return typeof N=="function"}function Y(N){return typeof N=="number"}function C(N){return typeof N=="object"&&N!==null}function j(N){return N===void 0}},function(F,H,M){(function(A){var Y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function C(N){var S=Y.exec(N);return S.shift(),S}var j=(function(){function N(){}return N.normalize=function(S){S===""&&(S=".");var h=S.charAt(0)===N.sep;S=N._removeDuplicateSeps(S);for(var b=S.split(N.sep),p=[],B=0;B<b.length;B++){var x=b[B];x!=="."&&(x===".."&&(h||!h&&p.length>0&&p[0]!=="..")?p.pop():p.push(x))}if(!h&&p.length<2)switch(p.length){case 1:p[0]===""&&p.unshift(".");break;default:p.push(".")}return S=p.join(N.sep),h&&S.charAt(0)!==N.sep&&(S=N.sep+S),S},N.join=function(){for(var S=[],h=0;h<arguments.length;h++)S[h-0]=arguments[h];for(var b=[],p=0;p<S.length;p++){var B=S[p];if(typeof B!="string")throw new TypeError("Invalid argument type to path.join: "+typeof B);B!==""&&b.push(B)}return N.normalize(b.join(N.sep))},N.resolve=function(){for(var S=[],h=0;h<arguments.length;h++)S[h-0]=arguments[h];for(var b=[],p=0;p<S.length;p++){var B=S[p];if(typeof B!="string")throw new TypeError("Invalid argument type to path.join: "+typeof B);B!==""&&(B.charAt(0)===N.sep&&(b=[]),b.push(B))}var x=N.normalize(b.join(N.sep));if(x.length>1&&x.charAt(x.length-1)===N.sep)return x.substr(0,x.length-1);if(x.charAt(0)!==N.sep){x.charAt(0)==="."&&(x.length===1||x.charAt(1)===N.sep)&&(x=x.length===1?"":x.substr(2));var U=A.cwd();x!==""?x=this.normalize(U+(U!=="/"?N.sep:"")+x):x=U}return x},N.relative=function(S,h){var b;S=N.resolve(S),h=N.resolve(h);var p=S.split(N.sep),B=h.split(N.sep);B.shift(),p.shift();var x=0,U=[];for(b=0;b<p.length;b++){var X=p[b];if(X!==B[b]){x=p.length-b;break}}U=B.slice(b),p.length===1&&p[0]===""&&(x=0),x>p.length&&(x=p.length);var Z="";for(b=0;b<x;b++)Z+="../";return Z+=U.join(N.sep),Z.length>1&&Z.charAt(Z.length-1)===N.sep&&(Z=Z.substr(0,Z.length-1)),Z},N.dirname=function(S){S=N._removeDuplicateSeps(S);var h=S.charAt(0)===N.sep,b=S.split(N.sep);return b.pop()===""&&b.length>0&&b.pop(),b.length>1||b.length===1&&!h?b.join(N.sep):h?N.sep:"."},N.basename=function(S,h){if(h===void 0&&(h=""),S==="")return S;S=N.normalize(S);var b=S.split(N.sep),p=b[b.length-1];if(p===""&&b.length>1)return b[b.length-2];if(h.length>0){var B=p.substr(p.length-h.length);if(B===h)return p.substr(0,p.length-h.length)}return p},N.extname=function(S){S=N.normalize(S);var h=S.split(N.sep);if(S=h.pop(),S===""&&h.length>0&&(S=h.pop()),S==="..")return"";var b=S.lastIndexOf(".");return b===-1||b===0?"":S.substr(b)},N.isAbsolute=function(S){return S.length>0&&S.charAt(0)===N.sep},N._makeLong=function(S){return S},N.parse=function(S){var h=C(S);return{root:h[0],dir:h[0]+h[1].slice(0,-1),base:h[2],ext:h[3],name:h[2].slice(0,h[2].length-h[3].length)}},N.format=function(S){if(S===null||typeof S!="object")throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof S);var h=S.root||"";if(typeof h!="string")throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof S.root);var b=S.dir?S.dir+N.sep:"",p=S.base||"";return b+p},N._removeDuplicateSeps=function(S){return S=S.replace(this._replaceRegex,this.sep),S},N.sep="/",N._replaceRegex=new RegExp("//+","g"),N.delimiter=":",N.posix=N,N.win32=N,N})();F.exports=j}).call(H,M(6))},function(F,H,M){(function(A){var Y=this&&this.__extends||function(N,S){for(var h in S)S.hasOwnProperty(h)&&(N[h]=S[h]);function b(){this.constructor=N}N.prototype=S===null?Object.create(S):(b.prototype=S.prototype,new b)},C=M(11),j=(function(N){Y(S,N);function S(){N.call(this),this.isRaw=!1,this.columns=80,this.rows=120,this.isTTY=!0,this._bufferedWrites=[],this._waitingForWrites=!1}return S.prototype.setRawMode=function(h){this.isRaw!==h&&(this.isRaw=h,this.emit("modeChange"))},S.prototype.changeColumns=function(h){h!==this.columns&&(this.columns=h,this.emit("resize"))},S.prototype.changeRows=function(h){h!==this.rows&&(this.rows=h,this.emit("resize"))},S.isatty=function(h){return h&&h instanceof S},S.prototype._write=function(h,b,p){var B;try{var x;typeof h=="string"?x=new A(h,b):x=h,this._bufferedWrites.push(x),this._waitingForWrites&&this._read(1024)}catch(U){B=U}finally{p(B)}},S.prototype._read=function(h){if(this._bufferedWrites.length===0)this._waitingForWrites=!0;else for(;this._bufferedWrites.length>0&&(this._waitingForWrites=this.push(this._bufferedWrites.shift()),!!this._waitingForWrites););},S})(C.Duplex);F.exports=j}).call(H,M(1))},function(F,H,M){F.exports=C;var A=M(8).EventEmitter,Y=M(12);Y(C,A),C.Readable=M(13),C.Writable=M(27),C.Duplex=M(28),C.Transform=M(29),C.PassThrough=M(30),C.Stream=C;function C(){A.call(this)}C.prototype.pipe=function(j,N){var S=this;function h(Z){j.writable&&j.write(Z)===!1&&S.pause&&S.pause()}S.on("data",h);function b(){S.readable&&S.resume&&S.resume()}j.on("drain",b),!j._isStdio&&(!N||N.end!==!1)&&(S.on("end",B),S.on("close",x));var p=!1;function B(){p||(p=!0,j.end())}function x(){p||(p=!0,typeof j.destroy=="function"&&j.destroy())}function U(Z){if(X(),A.listenerCount(this,"error")===0)throw Z}S.on("error",U),j.on("error",U);function X(){S.removeListener("data",h),j.removeListener("drain",b),S.removeListener("end",B),S.removeListener("close",x),S.removeListener("error",U),j.removeListener("error",U),S.removeListener("end",X),S.removeListener("close",X),j.removeListener("close",X)}return S.on("end",X),S.on("close",X),j.on("close",X),j.emit("pipe",S),j}},function(F,H){typeof Object.create=="function"?F.exports=function(A,Y){A.super_=Y,A.prototype=Object.create(Y.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}})}:F.exports=function(A,Y){A.super_=Y;var C=function(){};C.prototype=Y.prototype,A.prototype=new C,A.prototype.constructor=A}},function(F,H,M){(function(A){var Y=(function(){try{return M(11)}catch{}})();H=F.exports=M(14),H.Stream=Y||H,H.Readable=H,H.Writable=M(22),H.Duplex=M(21),H.Transform=M(25),H.PassThrough=M(26),!A.browser&&A.env.READABLE_STREAM==="disable"&&Y&&(F.exports=Y)}).call(H,M(6))},function(F,H,M){(function(A){F.exports=Q;var Y=M(15),C=M(16),j;Q.ReadableState=pt,M(8).EventEmitter;var N=function(R,L){return R.listeners(L).length},S;(function(){try{S=M(11)}catch{}finally{S||(S=M(8).EventEmitter)}})();var h=M(2).Buffer,b=M(17),p=M(18);p.inherits=M(12);var B=M(19),x=void 0;B&&B.debuglog?x=B.debuglog("stream"):x=function(){};var U=M(20),X;p.inherits(Q,S);function Z(R,L,at){if(typeof R.prependListener=="function")return R.prependListener(L,at);!R._events||!R._events[L]?R.on(L,at):C(R._events[L])?R._events[L].unshift(at):R._events[L]=[at,R._events[L]]}function pt(R,L){j=j||M(21),R=R||{},this.objectMode=!!R.objectMode,L instanceof j&&(this.objectMode=this.objectMode||!!R.readableObjectMode);var at=R.highWaterMark,_t=this.objectMode?16:16*1024;this.highWaterMark=at||at===0?at:_t,this.highWaterMark=~~this.highWaterMark,this.buffer=new U,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(X||(X=M(24).StringDecoder),this.decoder=new X(R.encoding),this.encoding=R.encoding)}function Q(R){if(j=j||M(21),!(this instanceof Q))return new Q(R);this._readableState=new pt(R,this),this.readable=!0,R&&typeof R.read=="function"&&(this._read=R.read),S.call(this)}Q.prototype.push=function(R,L){var at=this._readableState;return!at.objectMode&&typeof R=="string"&&(L=L||at.defaultEncoding,L!==at.encoding&&(R=b.from(R,L),L="")),tt(this,at,R,L,!1)},Q.prototype.unshift=function(R){var L=this._readableState;return tt(this,L,R,"",!0)},Q.prototype.isPaused=function(){return this._readableState.flowing===!1};function tt(R,L,at,_t,Lt){var Gt=K(L,at);if(Gt)R.emit("error",Gt);else if(at===null)L.reading=!1,ft(R,L);else if(L.objectMode||at&&at.length>0)if(L.ended&&!Lt){var dt=new Error("stream.push() after EOF");R.emit("error",dt)}else if(L.endEmitted&&Lt){var Le=new Error("stream.unshift() after end event");R.emit("error",Le)}else{var jt;L.decoder&&!Lt&&!_t&&(at=L.decoder.write(at),jt=!L.objectMode&&at.length===0),Lt||(L.reading=!1),jt||(L.flowing&&L.length===0&&!L.sync?(R.emit("data",at),R.read(0)):(L.length+=L.objectMode?1:at.length,Lt?L.buffer.unshift(at):L.buffer.push(at),L.needReadable&&bt(R))),At(R,L)}else Lt||(L.reading=!1);return Ht(L)}function Ht(R){return!R.ended&&(R.needReadable||R.length<R.highWaterMark||R.length===0)}Q.prototype.setEncoding=function(R){return X||(X=M(24).StringDecoder),this._readableState.decoder=new X(R),this._readableState.encoding=R,this};var ht=8388608;function Vt(R){return R>=ht?R=ht:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function Ut(R,L){return R<=0||L.length===0&&L.ended?0:L.objectMode?1:R!==R?L.flowing&&L.length?L.buffer.head.data.length:L.length:(R>L.highWaterMark&&(L.highWaterMark=Vt(R)),R<=L.length?R:L.ended?L.length:(L.needReadable=!0,0))}Q.prototype.read=function(R){x("read",R),R=parseInt(R,10);var L=this._readableState,at=R;if(R!==0&&(L.emittedReadable=!1),R===0&&L.needReadable&&(L.length>=L.highWaterMark||L.ended))return x("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?qt(this):bt(this),null;if(R=Ut(R,L),R===0&&L.ended)return L.length===0&&qt(this),null;var _t=L.needReadable;x("need readable",_t),(L.length===0||L.length-R<L.highWaterMark)&&(_t=!0,x("length less than watermark",_t)),L.ended||L.reading?(_t=!1,x("reading or ended",_t)):_t&&(x("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(R=Ut(at,L)));var Lt;return R>0?Lt=lt(R,L):Lt=null,Lt===null?(L.needReadable=!0,R=0):L.length-=R,L.length===0&&(L.ended||(L.needReadable=!0),at!==R&&L.ended&&qt(this)),Lt!==null&&this.emit("data",Lt),Lt};function K(R,L){var at=null;return!h.isBuffer(L)&&typeof L!="string"&&L!==null&&L!==void 0&&!R.objectMode&&(at=new TypeError("Invalid non-string/buffer chunk")),at}function ft(R,L){if(!L.ended){if(L.decoder){var at=L.decoder.end();at&&at.length&&(L.buffer.push(at),L.length+=L.objectMode?1:at.length)}L.ended=!0,bt(R)}}function bt(R){var L=R._readableState;L.needReadable=!1,L.emittedReadable||(x("emitReadable",L.flowing),L.emittedReadable=!0,L.sync?Y(te,R):te(R))}function te(R){x("emit readable"),R.emit("readable"),W(R)}function At(R,L){L.readingMore||(L.readingMore=!0,Y(Bt,R,L))}function Bt(R,L){for(var at=L.length;!L.reading&&!L.flowing&&!L.ended&&L.length<L.highWaterMark&&(x("maybeReadMore read 0"),R.read(0),at!==L.length);)at=L.length;L.readingMore=!1}Q.prototype._read=function(R){this.emit("error",new Error("_read() is not implemented"))},Q.prototype.pipe=function(R,L){var at=this,_t=this._readableState;switch(_t.pipesCount){case 0:_t.pipes=R;break;case 1:_t.pipes=[_t.pipes,R];break;default:_t.pipes.push(R);break}_t.pipesCount+=1,x("pipe count=%d opts=%j",_t.pipesCount,L);var Lt=(!L||L.end!==!1)&&R!==A.stdout&&R!==A.stderr,Gt=Lt?Le:Re;_t.endEmitted?Y(Gt):at.once("end",Gt),R.on("unpipe",dt);function dt($){x("onunpipe"),$===at&&Re()}function Le(){x("onend"),R.end()}var jt=Xt(at);R.on("drain",jt);var Se=!1;function Re(){x("cleanup"),R.removeListener("close",m),R.removeListener("finish",D),R.removeListener("drain",jt),R.removeListener("error",v),R.removeListener("unpipe",dt),at.removeListener("end",Le),at.removeListener("end",Re),at.removeListener("data",I),Se=!0,_t.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&jt()}var er=!1;at.on("data",I);function I($){x("ondata"),er=!1;var st=R.write($);st===!1&&!er&&((_t.pipesCount===1&&_t.pipes===R||_t.pipesCount>1&&fe(_t.pipes,R)!==-1)&&!Se&&(x("false write response, pause",at._readableState.awaitDrain),at._readableState.awaitDrain++,er=!0),at.pause())}function v($){x("onerror",$),q(),R.removeListener("error",v),N(R,"error")===0&&R.emit("error",$)}Z(R,"error",v);function m(){R.removeListener("finish",D),q()}R.once("close",m);function D(){x("onfinish"),R.removeListener("close",m),q()}R.once("finish",D);function q(){x("unpipe"),at.unpipe(R)}return R.emit("pipe",at),_t.flowing||(x("pipe resume"),at.resume()),R};function Xt(R){return function(){var L=R._readableState;x("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&N(R,"data")&&(L.flowing=!0,W(R))}}Q.prototype.unpipe=function(R){var L=this._readableState;if(L.pipesCount===0)return this;if(L.pipesCount===1)return R&&R!==L.pipes?this:(R||(R=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,R&&R.emit("unpipe",this),this);if(!R){var at=L.pipes,_t=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var Lt=0;Lt<_t;Lt++)at[Lt].emit("unpipe",this);return this}var Gt=fe(L.pipes,R);return Gt===-1?this:(L.pipes.splice(Gt,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),R.emit("unpipe",this),this)},Q.prototype.on=function(R,L){var at=S.prototype.on.call(this,R,L);if(R==="data")this._readableState.flowing!==!1&&this.resume();else if(R==="readable"){var _t=this._readableState;!_t.endEmitted&&!_t.readableListening&&(_t.readableListening=_t.needReadable=!0,_t.emittedReadable=!1,_t.reading?_t.length&&bt(this):Y(xt,this))}return at},Q.prototype.addListener=Q.prototype.on;function xt(R){x("readable nexttick read 0"),R.read(0)}Q.prototype.resume=function(){var R=this._readableState;return R.flowing||(x("resume"),R.flowing=!0,Ee(this,R)),this};function Ee(R,L){L.resumeScheduled||(L.resumeScheduled=!0,Y(T,R,L))}function T(R,L){L.reading||(x("resume read 0"),R.read(0)),L.resumeScheduled=!1,L.awaitDrain=0,R.emit("resume"),W(R),L.flowing&&!L.reading&&R.read(0)}Q.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function W(R){var L=R._readableState;for(x("flow",L.flowing);L.flowing&&R.read()!==null;);}Q.prototype.wrap=function(R){var L=this._readableState,at=!1,_t=this;R.on("end",function(){if(x("wrapped end"),L.decoder&&!L.ended){var dt=L.decoder.end();dt&&dt.length&&_t.push(dt)}_t.push(null)}),R.on("data",function(dt){if(x("wrapped data"),L.decoder&&(dt=L.decoder.write(dt)),!(L.objectMode&&dt==null)&&!(!L.objectMode&&(!dt||!dt.length))){var Le=_t.push(dt);Le||(at=!0,R.pause())}});for(var Lt in R)this[Lt]===void 0&&typeof R[Lt]=="function"&&(this[Lt]=(function(dt){return function(){return R[dt].apply(R,arguments)}})(Lt));var Gt=["error","close","destroy","pause","resume"];return ve(Gt,function(dt){R.on(dt,_t.emit.bind(_t,dt))}),_t._read=function(dt){x("wrapped _read",dt),at&&(at=!1,R.resume())},_t},Q._fromList=lt;function lt(R,L){if(L.length===0)return null;var at;return L.objectMode?at=L.buffer.shift():!R||R>=L.length?(L.decoder?at=L.buffer.join(""):L.buffer.length===1?at=L.buffer.head.data:at=L.buffer.concat(L.length),L.buffer.clear()):at=It(R,L.buffer,L.decoder),at}function It(R,L,at){var _t;return R<L.head.data.length?(_t=L.head.data.slice(0,R),L.head.data=L.head.data.slice(R)):R===L.head.data.length?_t=L.shift():_t=at?Kt(R,L):Wt(R,L),_t}function Kt(R,L){var at=L.head,_t=1,Lt=at.data;for(R-=Lt.length;at=at.next;){var Gt=at.data,dt=R>Gt.length?Gt.length:R;if(dt===Gt.length?Lt+=Gt:Lt+=Gt.slice(0,R),R-=dt,R===0){dt===Gt.length?(++_t,at.next?L.head=at.next:L.head=L.tail=null):(L.head=at,at.data=Gt.slice(dt));break}++_t}return L.length-=_t,Lt}function Wt(R,L){var at=b.allocUnsafe(R),_t=L.head,Lt=1;for(_t.data.copy(at),R-=_t.data.length;_t=_t.next;){var Gt=_t.data,dt=R>Gt.length?Gt.length:R;if(Gt.copy(at,at.length-R,0,dt),R-=dt,R===0){dt===Gt.length?(++Lt,_t.next?L.head=_t.next:L.head=L.tail=null):(L.head=_t,_t.data=Gt.slice(dt));break}++Lt}return L.length-=Lt,at}function qt(R){var L=R._readableState;if(L.length>0)throw new Error('"endReadable()" called on non-empty stream');L.endEmitted||(L.ended=!0,Y(ee,L,R))}function ee(R,L){!R.endEmitted&&R.length===0&&(R.endEmitted=!0,L.readable=!1,L.emit("end"))}function ve(R,L){for(var at=0,_t=R.length;at<_t;at++)L(R[at],at)}function fe(R,L){for(var at=0,_t=R.length;at<_t;at++)if(R[at]===L)return at;return-1}}).call(H,M(6))},function(F,H,M){(function(A){!A.version||A.version.indexOf("v0.")===0||A.version.indexOf("v1.")===0&&A.version.indexOf("v1.8.")!==0?F.exports=Y:F.exports=A.nextTick;function Y(C,j,N,S){if(typeof C!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,b,p;switch(h){case 0:case 1:return A.nextTick(C);case 2:return A.nextTick(function(){C.call(null,j)});case 3:return A.nextTick(function(){C.call(null,j,N)});case 4:return A.nextTick(function(){C.call(null,j,N,S)});default:for(b=new Array(h-1),p=0;p<b.length;)b[p++]=arguments[p];return A.nextTick(function(){C.apply(null,b)})}}}).call(H,M(6))},function(F,H){var M={}.toString;F.exports=Array.isArray||function(A){return M.call(A)=="[object Array]"}},function(F,H,M){(function(A){var Y=M(2),C=Y.Buffer,j=Y.SlowBuffer,N=Y.kMaxLength||2147483647;H.alloc=function(h,b,p){if(typeof C.alloc=="function")return C.alloc(h,b,p);if(typeof p=="number")throw new TypeError("encoding must not be number");if(typeof h!="number")throw new TypeError("size must be a number");if(h>N)throw new RangeError("size is too large");var B=p,x=b;x===void 0&&(B=void 0,x=0);var U=new C(h);if(typeof x=="string")for(var X=new C(x,B),Z=X.length,pt=-1;++pt<h;)U[pt]=X[pt%Z];else U.fill(x);return U},H.allocUnsafe=function(h){if(typeof C.allocUnsafe=="function")return C.allocUnsafe(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>N)throw new RangeError("size is too large");return new C(h)},H.from=function(h,b,p){if(typeof C.from=="function"&&(!A.Uint8Array||Uint8Array.from!==C.from))return C.from(h,b,p);if(typeof h=="number")throw new TypeError('"value" argument must not be a number');if(typeof h=="string")return new C(h,b);if(typeof ArrayBuffer<"u"&&h instanceof ArrayBuffer){var B=b;if(arguments.length===1)return new C(h);typeof B>"u"&&(B=0);var x=p;if(typeof x>"u"&&(x=h.byteLength-B),B>=h.byteLength)throw new RangeError("'offset' is out of bounds");if(x>h.byteLength-B)throw new RangeError("'length' is out of bounds");return new C(h.slice(B,B+x))}if(C.isBuffer(h)){var U=new C(h.length);return h.copy(U,0,0,h.length),U}if(h){if(Array.isArray(h)||typeof ArrayBuffer<"u"&&h.buffer instanceof ArrayBuffer||"length"in h)return new C(h);if(h.type==="Buffer"&&Array.isArray(h.data))return new C(h.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},H.allocUnsafeSlow=function(h){if(typeof C.allocUnsafeSlow=="function")return C.allocUnsafeSlow(h);if(typeof h!="number")throw new TypeError("size must be a number");if(h>=N)throw new RangeError("size is too large");return new j(h)}}).call(H,(function(){return this})())},function(F,H,M){(function(A){function Y(tt){return Array.isArray?Array.isArray(tt):Q(tt)==="[object Array]"}H.isArray=Y;function C(tt){return typeof tt=="boolean"}H.isBoolean=C;function j(tt){return tt===null}H.isNull=j;function N(tt){return tt==null}H.isNullOrUndefined=N;function S(tt){return typeof tt=="number"}H.isNumber=S;function h(tt){return typeof tt=="string"}H.isString=h;function b(tt){return typeof tt=="symbol"}H.isSymbol=b;function p(tt){return tt===void 0}H.isUndefined=p;function B(tt){return Q(tt)==="[object RegExp]"}H.isRegExp=B;function x(tt){return typeof tt=="object"&&tt!==null}H.isObject=x;function U(tt){return Q(tt)==="[object Date]"}H.isDate=U;function X(tt){return Q(tt)==="[object Error]"||tt instanceof Error}H.isError=X;function Z(tt){return typeof tt=="function"}H.isFunction=Z;function pt(tt){return tt===null||typeof tt=="boolean"||typeof tt=="number"||typeof tt=="string"||typeof tt=="symbol"||typeof tt>"u"}H.isPrimitive=pt,H.isBuffer=A.isBuffer;function Q(tt){return Object.prototype.toString.call(tt)}}).call(H,M(1))},function(F,H){},function(F,H,M){M(2).Buffer;var A=M(17);F.exports=Y;function Y(){this.head=null,this.tail=null,this.length=0}Y.prototype.push=function(C){var j={data:C,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},Y.prototype.unshift=function(C){var j={data:C,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},Y.prototype.shift=function(){if(this.length!==0){var C=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,C}},Y.prototype.clear=function(){this.head=this.tail=null,this.length=0},Y.prototype.join=function(C){if(this.length===0)return"";for(var j=this.head,N=""+j.data;j=j.next;)N+=C+j.data;return N},Y.prototype.concat=function(C){if(this.length===0)return A.alloc(0);if(this.length===1)return this.head.data;for(var j=A.allocUnsafe(C>>>0),N=this.head,S=0;N;)N.data.copy(j,S),S+=N.data.length,N=N.next;return j}},function(F,H,M){var A=Object.keys||function(U){var X=[];for(var Z in U)X.push(Z);return X};F.exports=p;var Y=M(15),C=M(18);C.inherits=M(12);var j=M(14),N=M(22);C.inherits(p,j);for(var S=A(N.prototype),h=0;h<S.length;h++){var b=S[h];p.prototype[b]||(p.prototype[b]=N.prototype[b])}function p(U){if(!(this instanceof p))return new p(U);j.call(this,U),N.call(this,U),U&&U.readable===!1&&(this.readable=!1),U&&U.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,U&&U.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",B)}function B(){this.allowHalfOpen||this._writableState.ended||Y(x,this)}function x(U){U.end()}},function(F,H,M){(function(A){F.exports=Z;var Y=M(15),C=!A.browser&&["v0.10","v0.9."].indexOf(A.version.slice(0,5))>-1?setImmediate:Y,j;Z.WritableState=U;var N=M(18);N.inherits=M(12);var S={deprecate:M(23)},h;(function(){try{h=M(11)}catch{}finally{h||(h=M(8).EventEmitter)}})();var b=M(2).Buffer,p=M(17);N.inherits(Z,h);function B(){}function x(T,W,lt){this.chunk=T,this.encoding=W,this.callback=lt,this.next=null}function U(T,W){j=j||M(21),T=T||{},this.objectMode=!!T.objectMode,W instanceof j&&(this.objectMode=this.objectMode||!!T.writableObjectMode);var lt=T.highWaterMark,It=this.objectMode?16:16*1024;this.highWaterMark=lt||lt===0?lt:It,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Kt=T.decodeStrings===!1;this.decodeStrings=!Kt,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Wt){K(W,Wt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ee(this)}U.prototype.getBuffer=function(){for(var W=this.bufferedRequest,lt=[];W;)lt.push(W),W=W.next;return lt},(function(){try{Object.defineProperty(U.prototype,"buffer",{get:S.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch{}})();var X;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(X=Function.prototype[Symbol.hasInstance],Object.defineProperty(Z,Symbol.hasInstance,{value:function(T){return X.call(this,T)?!0:T&&T._writableState instanceof U}})):X=function(T){return T instanceof this};function Z(T){if(j=j||M(21),!X.call(Z,this)&&!(this instanceof j))return new Z(T);this._writableState=new U(T,this),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev)),h.call(this)}Z.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function pt(T,W){var lt=new Error("write after end");T.emit("error",lt),Y(W,lt)}function Q(T,W,lt,It){var Kt=!0,Wt=!1;return lt===null?Wt=new TypeError("May not write null values to stream"):typeof lt!="string"&&lt!==void 0&&!W.objectMode&&(Wt=new TypeError("Invalid non-string/buffer chunk")),Wt&&(T.emit("error",Wt),Y(It,Wt),Kt=!1),Kt}Z.prototype.write=function(T,W,lt){var It=this._writableState,Kt=!1,Wt=b.isBuffer(T);return typeof W=="function"&&(lt=W,W=null),Wt?W="buffer":W||(W=It.defaultEncoding),typeof lt!="function"&&(lt=B),It.ended?pt(this,lt):(Wt||Q(this,It,T,lt))&&(It.pendingcb++,Kt=Ht(this,It,Wt,T,W,lt)),Kt},Z.prototype.cork=function(){var T=this._writableState;T.corked++},Z.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,!T.writing&&!T.corked&&!T.finished&&!T.bufferProcessing&&T.bufferedRequest&&te(this,T))},Z.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this};function tt(T,W,lt){return!T.objectMode&&T.decodeStrings!==!1&&typeof W=="string"&&(W=p.from(W,lt)),W}function Ht(T,W,lt,It,Kt,Wt){lt||(It=tt(W,It,Kt),b.isBuffer(It)&&(Kt="buffer"));var qt=W.objectMode?1:It.length;W.length+=qt;var ee=W.length<W.highWaterMark;if(ee||(W.needDrain=!0),W.writing||W.corked){var ve=W.lastBufferedRequest;W.lastBufferedRequest=new x(It,Kt,Wt),ve?ve.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else ht(T,W,!1,qt,It,Kt,Wt);return ee}function ht(T,W,lt,It,Kt,Wt,qt){W.writelen=It,W.writecb=qt,W.writing=!0,W.sync=!0,lt?T._writev(Kt,W.onwrite):T._write(Kt,Wt,W.onwrite),W.sync=!1}function Vt(T,W,lt,It,Kt){--W.pendingcb,lt?Y(Kt,It):Kt(It),T._writableState.errorEmitted=!0,T.emit("error",It)}function Ut(T){T.writing=!1,T.writecb=null,T.length-=T.writelen,T.writelen=0}function K(T,W){var lt=T._writableState,It=lt.sync,Kt=lt.writecb;if(Ut(lt),W)Vt(T,lt,It,W,Kt);else{var Wt=At(lt);!Wt&&!lt.corked&&!lt.bufferProcessing&&lt.bufferedRequest&&te(T,lt),It?C(ft,T,lt,Wt,Kt):ft(T,lt,Wt,Kt)}}function ft(T,W,lt,It){lt||bt(T,W),W.pendingcb--,It(),Xt(T,W)}function bt(T,W){W.length===0&&W.needDrain&&(W.needDrain=!1,T.emit("drain"))}function te(T,W){W.bufferProcessing=!0;var lt=W.bufferedRequest;if(T._writev&&lt&&lt.next){var It=W.bufferedRequestCount,Kt=new Array(It),Wt=W.corkedRequestsFree;Wt.entry=lt;for(var qt=0;lt;)Kt[qt]=lt,lt=lt.next,qt+=1;ht(T,W,!0,W.length,Kt,"",Wt.finish),W.pendingcb++,W.lastBufferedRequest=null,Wt.next?(W.corkedRequestsFree=Wt.next,Wt.next=null):W.corkedRequestsFree=new Ee(W)}else{for(;lt;){var ee=lt.chunk,ve=lt.encoding,fe=lt.callback,R=W.objectMode?1:ee.length;if(ht(T,W,!1,R,ee,ve,fe),lt=lt.next,W.writing)break}lt===null&&(W.lastBufferedRequest=null)}W.bufferedRequestCount=0,W.bufferedRequest=lt,W.bufferProcessing=!1}Z.prototype._write=function(T,W,lt){lt(new Error("_write() is not implemented"))},Z.prototype._writev=null,Z.prototype.end=function(T,W,lt){var It=this._writableState;typeof T=="function"?(lt=T,T=null,W=null):typeof W=="function"&&(lt=W,W=null),T!=null&&this.write(T,W),It.corked&&(It.corked=1,this.uncork()),!It.ending&&!It.finished&&xt(this,It,lt)};function At(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function Bt(T,W){W.prefinished||(W.prefinished=!0,T.emit("prefinish"))}function Xt(T,W){var lt=At(W);return lt&&(W.pendingcb===0?(Bt(T,W),W.finished=!0,T.emit("finish")):Bt(T,W)),lt}function xt(T,W,lt){W.ending=!0,Xt(T,W),lt&&(W.finished?Y(lt):T.once("finish",lt)),W.ended=!0,T.writable=!1}function Ee(T){var W=this;this.next=null,this.entry=null,this.finish=function(lt){var It=W.entry;for(W.entry=null;It;){var Kt=It.callback;T.pendingcb--,Kt(lt),It=It.next}T.corkedRequestsFree?T.corkedRequestsFree.next=W:T.corkedRequestsFree=W}}}).call(H,M(6))},function(F,H){(function(M){F.exports=A;function A(C,j){if(Y("noDeprecation"))return C;var N=!1;function S(){if(!N){if(Y("throwDeprecation"))throw new Error(j);Y("traceDeprecation")?console.trace(j):console.warn(j),N=!0}return C.apply(this,arguments)}return S}function Y(C){try{if(!M.localStorage)return!1}catch{return!1}var j=M.localStorage[C];return j==null?!1:String(j).toLowerCase()==="true"}}).call(H,(function(){return this})())},function(F,H,M){var A=M(2).Buffer,Y=A.isEncoding||function(b){switch(b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function C(b){if(b&&!Y(b))throw new Error("Unknown encoding: "+b)}var j=H.StringDecoder=function(b){switch(this.encoding=(b||"utf8").toLowerCase().replace(/[-_]/,""),C(b),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=S;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=h;break;default:this.write=N;return}this.charBuffer=new A(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(b){for(var p="";this.charLength;){var B=b.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:b.length;if(b.copy(this.charBuffer,this.charReceived,0,B),this.charReceived+=B,this.charReceived<this.charLength)return"";b=b.slice(B,b.length),p=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var U=p.charCodeAt(p.length-1);if(U>=55296&&U<=56319){this.charLength+=this.surrogateSize,p="";continue}if(this.charReceived=this.charLength=0,b.length===0)return p;break}this.detectIncompleteChar(b);var x=b.length;this.charLength&&(b.copy(this.charBuffer,0,b.length-this.charReceived,x),x-=this.charReceived),p+=b.toString(this.encoding,0,x);var x=p.length-1,U=p.charCodeAt(x);if(U>=55296&&U<=56319){var X=this.surrogateSize;return this.charLength+=X,this.charReceived+=X,this.charBuffer.copy(this.charBuffer,X,0,X),b.copy(this.charBuffer,0,0,X),p.substring(0,x)}return p},j.prototype.detectIncompleteChar=function(b){for(var p=b.length>=3?3:b.length;p>0;p--){var B=b[b.length-p];if(p==1&&B>>5==6){this.charLength=2;break}if(p<=2&&B>>4==14){this.charLength=3;break}if(p<=3&&B>>3==30){this.charLength=4;break}}this.charReceived=p},j.prototype.end=function(b){var p="";if(b&&b.length&&(p=this.write(b)),this.charReceived){var B=this.charReceived,x=this.charBuffer,U=this.encoding;p+=x.slice(0,B).toString(U)}return p};function N(b){return b.toString(this.encoding)}function S(b){this.charReceived=b.length%2,this.charLength=this.charReceived?2:0}function h(b){this.charReceived=b.length%3,this.charLength=this.charReceived?3:0}},function(F,H,M){F.exports=N;var A=M(21),Y=M(18);Y.inherits=M(12),Y.inherits(N,A);function C(h){this.afterTransform=function(b,p){return j(h,b,p)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function j(h,b,p){var B=h._transformState;B.transforming=!1;var x=B.writecb;if(!x)return h.emit("error",new Error("no writecb in Transform class"));B.writechunk=null,B.writecb=null,p!=null&&h.push(p),x(b);var U=h._readableState;U.reading=!1,(U.needReadable||U.length<U.highWaterMark)&&h._read(U.highWaterMark)}function N(h){if(!(this instanceof N))return new N(h);A.call(this,h),this._transformState=new C(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(p,B){S(b,p,B)}):S(b)})}N.prototype.push=function(h,b){return this._transformState.needTransform=!1,A.prototype.push.call(this,h,b)},N.prototype._transform=function(h,b,p){throw new Error("_transform() is not implemented")},N.prototype._write=function(h,b,p){var B=this._transformState;if(B.writecb=p,B.writechunk=h,B.writeencoding=b,!B.transforming){var x=this._readableState;(B.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},N.prototype._read=function(h){var b=this._transformState;b.writechunk!==null&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0};function S(h,b,p){if(b)return h.emit("error",b);p!=null&&h.push(p);var B=h._writableState,x=h._transformState;if(B.length)throw new Error("Calling transform done when ws.length != 0");if(x.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}},function(F,H,M){F.exports=C;var A=M(25),Y=M(18);Y.inherits=M(12),Y.inherits(C,A);function C(j){if(!(this instanceof C))return new C(j);A.call(this,j)}C.prototype._transform=function(j,N,S){S(null,j)}},function(F,H,M){F.exports=M(22)},function(F,H,M){F.exports=M(21)},function(F,H,M){F.exports=M(25)},function(F,H,M){F.exports=M(26)},function(F,H,M){var A=M(32),Y=M(33),C=M(38),j=M(39),N=M(40),S=M(41),h=M(42),b=Object.prototype.toString;function p(U){if(!(this instanceof p))return new p(U);this.options=Y.assign({chunkSize:16384,windowBits:0,to:""},U||{});var X=this.options;X.raw&&X.windowBits>=0&&X.windowBits<16&&(X.windowBits=-X.windowBits,X.windowBits===0&&(X.windowBits=-15)),X.windowBits>=0&&X.windowBits<16&&!(U&&U.windowBits)&&(X.windowBits+=32),X.windowBits>15&&X.windowBits<48&&(X.windowBits&15)===0&&(X.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var Z=A.inflateInit2(this.strm,X.windowBits);if(Z!==j.Z_OK)throw new Error(N[Z]);this.header=new h,A.inflateGetHeader(this.strm,this.header)}p.prototype.push=function(U,X){var Z=this.strm,pt=this.options.chunkSize,Q=this.options.dictionary,tt,Ht,ht,Vt,Ut,K,ft=!1;if(this.ended)return!1;Ht=X===~~X?X:X===!0?j.Z_FINISH:j.Z_NO_FLUSH,typeof U=="string"?Z.input=C.binstring2buf(U):b.call(U)==="[object ArrayBuffer]"?Z.input=new Uint8Array(U):Z.input=U,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new Y.Buf8(pt),Z.next_out=0,Z.avail_out=pt),tt=A.inflate(Z,j.Z_NO_FLUSH),tt===j.Z_NEED_DICT&&Q&&(typeof Q=="string"?K=C.string2buf(Q):b.call(Q)==="[object ArrayBuffer]"?K=new Uint8Array(Q):K=Q,tt=A.inflateSetDictionary(this.strm,K)),tt===j.Z_BUF_ERROR&&ft===!0&&(tt=j.Z_OK,ft=!1),tt!==j.Z_STREAM_END&&tt!==j.Z_OK)return this.onEnd(tt),this.ended=!0,!1;Z.next_out&&(Z.avail_out===0||tt===j.Z_STREAM_END||Z.avail_in===0&&(Ht===j.Z_FINISH||Ht===j.Z_SYNC_FLUSH))&&(this.options.to==="string"?(ht=C.utf8border(Z.output,Z.next_out),Vt=Z.next_out-ht,Ut=C.buf2string(Z.output,ht),Z.next_out=Vt,Z.avail_out=pt-Vt,Vt&&Y.arraySet(Z.output,Z.output,ht,Vt,0),this.onData(Ut)):this.onData(Y.shrinkBuf(Z.output,Z.next_out))),Z.avail_in===0&&Z.avail_out===0&&(ft=!0)}while((Z.avail_in>0||Z.avail_out===0)&&tt!==j.Z_STREAM_END);return tt===j.Z_STREAM_END&&(Ht=j.Z_FINISH),Ht===j.Z_FINISH?(tt=A.inflateEnd(this.strm),this.onEnd(tt),this.ended=!0,tt===j.Z_OK):(Ht===j.Z_SYNC_FLUSH&&(this.onEnd(j.Z_OK),Z.avail_out=0),!0)},p.prototype.onData=function(U){this.chunks.push(U)},p.prototype.onEnd=function(U){U===j.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Y.flattenChunks(this.chunks)),this.chunks=[],this.err=U,this.msg=this.strm.msg};function B(U,X){var Z=new p(X);if(Z.push(U,!0),Z.err)throw Z.msg||N[Z.err];return Z.result}function x(U,X){return X=X||{},X.raw=!0,B(U,X)}H.Inflate=p,H.inflate=B,H.inflateRaw=x,H.ungzip=B},function(F,H,M){var A=M(33),Y=M(34),C=M(35),j=M(36),N=M(37),S=0,h=1,b=2,p=4,B=5,x=6,U=0,X=1,Z=2,pt=-2,Q=-3,tt=-4,Ht=-5,ht=8,Vt=1,Ut=2,K=3,ft=4,bt=5,te=6,At=7,Bt=8,Xt=9,xt=10,Ee=11,T=12,W=13,lt=14,It=15,Kt=16,Wt=17,qt=18,ee=19,ve=20,fe=21,R=22,L=23,at=24,_t=25,Lt=26,Gt=27,dt=28,Le=29,jt=30,Se=31,Re=32,er=852,I=592,v=15,m=v;function D(J){return(J>>>24&255)+(J>>>8&65280)+((J&65280)<<8)+((J&255)<<24)}function q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new A.Buf16(320),this.work=new A.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function $(J){var Et;return!J||!J.state?pt:(Et=J.state,J.total_in=J.total_out=Et.total=0,J.msg="",Et.wrap&&(J.adler=Et.wrap&1),Et.mode=Vt,Et.last=0,Et.havedict=0,Et.dmax=32768,Et.head=null,Et.hold=0,Et.bits=0,Et.lencode=Et.lendyn=new A.Buf32(er),Et.distcode=Et.distdyn=new A.Buf32(I),Et.sane=1,Et.back=-1,U)}function st(J){var Et;return!J||!J.state?pt:(Et=J.state,Et.wsize=0,Et.whave=0,Et.wnext=0,$(J))}function $t(J,Et){var E,Nt;return!J||!J.state||(Nt=J.state,Et<0?(E=0,Et=-Et):(E=(Et>>4)+1,Et<48&&(Et&=15)),Et&&(Et<8||Et>15))?pt:(Nt.window!==null&&Nt.wbits!==Et&&(Nt.window=null),Nt.wrap=E,Nt.wbits=Et,st(J))}function se(J,Et){var E,Nt;return J?(Nt=new q,J.state=Nt,Nt.window=null,E=$t(J,Et),E!==U&&(J.state=null),E):pt}function ne(J){return se(J,m)}var ke=!0,ue,qe;function Sr(J){if(ke){var Et;for(ue=new A.Buf32(512),qe=new A.Buf32(32),Et=0;Et<144;)J.lens[Et++]=8;for(;Et<256;)J.lens[Et++]=9;for(;Et<280;)J.lens[Et++]=7;for(;Et<288;)J.lens[Et++]=8;for(N(h,J.lens,0,288,ue,0,J.work,{bits:9}),Et=0;Et<32;)J.lens[Et++]=5;N(b,J.lens,0,32,qe,0,J.work,{bits:5}),ke=!1}J.lencode=ue,J.lenbits=9,J.distcode=qe,J.distbits=5}function fr(J,Et,E,Nt){var oe,St=J.state;return St.window===null&&(St.wsize=1<<St.wbits,St.wnext=0,St.whave=0,St.window=new A.Buf8(St.wsize)),Nt>=St.wsize?(A.arraySet(St.window,Et,E-St.wsize,St.wsize,0),St.wnext=0,St.whave=St.wsize):(oe=St.wsize-St.wnext,oe>Nt&&(oe=Nt),A.arraySet(St.window,Et,E-Nt,oe,St.wnext),Nt-=oe,Nt?(A.arraySet(St.window,Et,E-Nt,Nt,0),St.wnext=Nt,St.whave=St.wsize):(St.wnext+=oe,St.wnext===St.wsize&&(St.wnext=0),St.whave<St.wsize&&(St.whave+=oe))),0}function Mt(J,Et){var E,Nt,oe,St,Pe,Ot,Fe,nt,rt,kr,ce,Dt,hr,Ge,ge=0,ae,Ae,je,Ce,br,pr,Ct,We,pe=new A.Buf8(4),Ye,xe,Or=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!J||!J.state||!J.output||!J.input&&J.avail_in!==0)return pt;E=J.state,E.mode===T&&(E.mode=W),Pe=J.next_out,oe=J.output,Fe=J.avail_out,St=J.next_in,Nt=J.input,Ot=J.avail_in,nt=E.hold,rt=E.bits,kr=Ot,ce=Fe,We=U;t:for(;;)switch(E.mode){case Vt:if(E.wrap===0){E.mode=W;break}for(;rt<16;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if(E.wrap&2&&nt===35615){E.check=0,pe[0]=nt&255,pe[1]=nt>>>8&255,E.check=C(E.check,pe,2,0),nt=0,rt=0,E.mode=Ut;break}if(E.flags=0,E.head&&(E.head.done=!1),!(E.wrap&1)||(((nt&255)<<8)+(nt>>8))%31){J.msg="incorrect header check",E.mode=jt;break}if((nt&15)!==ht){J.msg="unknown compression method",E.mode=jt;break}if(nt>>>=4,rt-=4,Ct=(nt&15)+8,E.wbits===0)E.wbits=Ct;else if(Ct>E.wbits){J.msg="invalid window size",E.mode=jt;break}E.dmax=1<<Ct,J.adler=E.check=1,E.mode=nt&512?xt:T,nt=0,rt=0;break;case Ut:for(;rt<16;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if(E.flags=nt,(E.flags&255)!==ht){J.msg="unknown compression method",E.mode=jt;break}if(E.flags&57344){J.msg="unknown header flags set",E.mode=jt;break}E.head&&(E.head.text=nt>>8&1),E.flags&512&&(pe[0]=nt&255,pe[1]=nt>>>8&255,E.check=C(E.check,pe,2,0)),nt=0,rt=0,E.mode=K;case K:for(;rt<32;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}E.head&&(E.head.time=nt),E.flags&512&&(pe[0]=nt&255,pe[1]=nt>>>8&255,pe[2]=nt>>>16&255,pe[3]=nt>>>24&255,E.check=C(E.check,pe,4,0)),nt=0,rt=0,E.mode=ft;case ft:for(;rt<16;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}E.head&&(E.head.xflags=nt&255,E.head.os=nt>>8),E.flags&512&&(pe[0]=nt&255,pe[1]=nt>>>8&255,E.check=C(E.check,pe,2,0)),nt=0,rt=0,E.mode=bt;case bt:if(E.flags&1024){for(;rt<16;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}E.length=nt,E.head&&(E.head.extra_len=nt),E.flags&512&&(pe[0]=nt&255,pe[1]=nt>>>8&255,E.check=C(E.check,pe,2,0)),nt=0,rt=0}else E.head&&(E.head.extra=null);E.mode=te;case te:if(E.flags&1024&&(Dt=E.length,Dt>Ot&&(Dt=Ot),Dt&&(E.head&&(Ct=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),A.arraySet(E.head.extra,Nt,St,Dt,Ct)),E.flags&512&&(E.check=C(E.check,Nt,Dt,St)),Ot-=Dt,St+=Dt,E.length-=Dt),E.length))break t;E.length=0,E.mode=At;case At:if(E.flags&2048){if(Ot===0)break t;Dt=0;do Ct=Nt[St+Dt++],E.head&&Ct&&E.length<65536&&(E.head.name+=String.fromCharCode(Ct));while(Ct&&Dt<Ot);if(E.flags&512&&(E.check=C(E.check,Nt,Dt,St)),Ot-=Dt,St+=Dt,Ct)break t}else E.head&&(E.head.name=null);E.length=0,E.mode=Bt;case Bt:if(E.flags&4096){if(Ot===0)break t;Dt=0;do Ct=Nt[St+Dt++],E.head&&Ct&&E.length<65536&&(E.head.comment+=String.fromCharCode(Ct));while(Ct&&Dt<Ot);if(E.flags&512&&(E.check=C(E.check,Nt,Dt,St)),Ot-=Dt,St+=Dt,Ct)break t}else E.head&&(E.head.comment=null);E.mode=Xt;case Xt:if(E.flags&512){for(;rt<16;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if(nt!==(E.check&65535)){J.msg="header crc mismatch",E.mode=jt;break}nt=0,rt=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),J.adler=E.check=0,E.mode=T;break;case xt:for(;rt<32;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}J.adler=E.check=D(nt),nt=0,rt=0,E.mode=Ee;case Ee:if(E.havedict===0)return J.next_out=Pe,J.avail_out=Fe,J.next_in=St,J.avail_in=Ot,E.hold=nt,E.bits=rt,Z;J.adler=E.check=1,E.mode=T;case T:if(Et===B||Et===x)break t;case W:if(E.last){nt>>>=rt&7,rt-=rt&7,E.mode=Gt;break}for(;rt<3;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}switch(E.last=nt&1,nt>>>=1,rt-=1,nt&3){case 0:E.mode=lt;break;case 1:if(Sr(E),E.mode=ve,Et===x){nt>>>=2,rt-=2;break t}break;case 2:E.mode=Wt;break;case 3:J.msg="invalid block type",E.mode=jt}nt>>>=2,rt-=2;break;case lt:for(nt>>>=rt&7,rt-=rt&7;rt<32;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if((nt&65535)!==(nt>>>16^65535)){J.msg="invalid stored block lengths",E.mode=jt;break}if(E.length=nt&65535,nt=0,rt=0,E.mode=It,Et===x)break t;case It:E.mode=Kt;case Kt:if(Dt=E.length,Dt){if(Dt>Ot&&(Dt=Ot),Dt>Fe&&(Dt=Fe),Dt===0)break t;A.arraySet(oe,Nt,St,Dt,Pe),Ot-=Dt,St+=Dt,Fe-=Dt,Pe+=Dt,E.length-=Dt;break}E.mode=T;break;case Wt:for(;rt<14;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if(E.nlen=(nt&31)+257,nt>>>=5,rt-=5,E.ndist=(nt&31)+1,nt>>>=5,rt-=5,E.ncode=(nt&15)+4,nt>>>=4,rt-=4,E.nlen>286||E.ndist>30){J.msg="too many length or distance symbols",E.mode=jt;break}E.have=0,E.mode=qt;case qt:for(;E.have<E.ncode;){for(;rt<3;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}E.lens[Or[E.have++]]=nt&7,nt>>>=3,rt-=3}for(;E.have<19;)E.lens[Or[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,Ye={bits:E.lenbits},We=N(S,E.lens,0,19,E.lencode,0,E.work,Ye),E.lenbits=Ye.bits,We){J.msg="invalid code lengths set",E.mode=jt;break}E.have=0,E.mode=ee;case ee:for(;E.have<E.nlen+E.ndist;){for(;ge=E.lencode[nt&(1<<E.lenbits)-1],ae=ge>>>24,Ae=ge>>>16&255,je=ge&65535,!(ae<=rt);){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if(je<16)nt>>>=ae,rt-=ae,E.lens[E.have++]=je;else{if(je===16){for(xe=ae+2;rt<xe;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if(nt>>>=ae,rt-=ae,E.have===0){J.msg="invalid bit length repeat",E.mode=jt;break}Ct=E.lens[E.have-1],Dt=3+(nt&3),nt>>>=2,rt-=2}else if(je===17){for(xe=ae+3;rt<xe;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}nt>>>=ae,rt-=ae,Ct=0,Dt=3+(nt&7),nt>>>=3,rt-=3}else{for(xe=ae+7;rt<xe;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}nt>>>=ae,rt-=ae,Ct=0,Dt=11+(nt&127),nt>>>=7,rt-=7}if(E.have+Dt>E.nlen+E.ndist){J.msg="invalid bit length repeat",E.mode=jt;break}for(;Dt--;)E.lens[E.have++]=Ct}}if(E.mode===jt)break;if(E.lens[256]===0){J.msg="invalid code -- missing end-of-block",E.mode=jt;break}if(E.lenbits=9,Ye={bits:E.lenbits},We=N(h,E.lens,0,E.nlen,E.lencode,0,E.work,Ye),E.lenbits=Ye.bits,We){J.msg="invalid literal/lengths set",E.mode=jt;break}if(E.distbits=6,E.distcode=E.distdyn,Ye={bits:E.distbits},We=N(b,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,Ye),E.distbits=Ye.bits,We){J.msg="invalid distances set",E.mode=jt;break}if(E.mode=ve,Et===x)break t;case ve:E.mode=fe;case fe:if(Ot>=6&&Fe>=258){J.next_out=Pe,J.avail_out=Fe,J.next_in=St,J.avail_in=Ot,E.hold=nt,E.bits=rt,j(J,ce),Pe=J.next_out,oe=J.output,Fe=J.avail_out,St=J.next_in,Nt=J.input,Ot=J.avail_in,nt=E.hold,rt=E.bits,E.mode===T&&(E.back=-1);break}for(E.back=0;ge=E.lencode[nt&(1<<E.lenbits)-1],ae=ge>>>24,Ae=ge>>>16&255,je=ge&65535,!(ae<=rt);){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if(Ae&&(Ae&240)===0){for(Ce=ae,br=Ae,pr=je;ge=E.lencode[pr+((nt&(1<<Ce+br)-1)>>Ce)],ae=ge>>>24,Ae=ge>>>16&255,je=ge&65535,!(Ce+ae<=rt);){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}nt>>>=Ce,rt-=Ce,E.back+=Ce}if(nt>>>=ae,rt-=ae,E.back+=ae,E.length=je,Ae===0){E.mode=Lt;break}if(Ae&32){E.back=-1,E.mode=T;break}if(Ae&64){J.msg="invalid literal/length code",E.mode=jt;break}E.extra=Ae&15,E.mode=R;case R:if(E.extra){for(xe=E.extra;rt<xe;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}E.length+=nt&(1<<E.extra)-1,nt>>>=E.extra,rt-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=L;case L:for(;ge=E.distcode[nt&(1<<E.distbits)-1],ae=ge>>>24,Ae=ge>>>16&255,je=ge&65535,!(ae<=rt);){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if((Ae&240)===0){for(Ce=ae,br=Ae,pr=je;ge=E.distcode[pr+((nt&(1<<Ce+br)-1)>>Ce)],ae=ge>>>24,Ae=ge>>>16&255,je=ge&65535,!(Ce+ae<=rt);){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}nt>>>=Ce,rt-=Ce,E.back+=Ce}if(nt>>>=ae,rt-=ae,E.back+=ae,Ae&64){J.msg="invalid distance code",E.mode=jt;break}E.offset=je,E.extra=Ae&15,E.mode=at;case at:if(E.extra){for(xe=E.extra;rt<xe;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}E.offset+=nt&(1<<E.extra)-1,nt>>>=E.extra,rt-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){J.msg="invalid distance too far back",E.mode=jt;break}E.mode=_t;case _t:if(Fe===0)break t;if(Dt=ce-Fe,E.offset>Dt){if(Dt=E.offset-Dt,Dt>E.whave&&E.sane){J.msg="invalid distance too far back",E.mode=jt;break}Dt>E.wnext?(Dt-=E.wnext,hr=E.wsize-Dt):hr=E.wnext-Dt,Dt>E.length&&(Dt=E.length),Ge=E.window}else Ge=oe,hr=Pe-E.offset,Dt=E.length;Dt>Fe&&(Dt=Fe),Fe-=Dt,E.length-=Dt;do oe[Pe++]=Ge[hr++];while(--Dt);E.length===0&&(E.mode=fe);break;case Lt:if(Fe===0)break t;oe[Pe++]=E.length,Fe--,E.mode=fe;break;case Gt:if(E.wrap){for(;rt<32;){if(Ot===0)break t;Ot--,nt|=Nt[St++]<<rt,rt+=8}if(ce-=Fe,J.total_out+=ce,E.total+=ce,ce&&(J.adler=E.check=E.flags?C(E.check,oe,ce,Pe-ce):Y(E.check,oe,ce,Pe-ce)),ce=Fe,(E.flags?nt:D(nt))!==E.check){J.msg="incorrect data check",E.mode=jt;break}nt=0,rt=0}E.mode=dt;case dt:if(E.wrap&&E.flags){for(;rt<32;){if(Ot===0)break t;Ot--,nt+=Nt[St++]<<rt,rt+=8}if(nt!==(E.total&4294967295)){J.msg="incorrect length check",E.mode=jt;break}nt=0,rt=0}E.mode=Le;case Le:We=X;break t;case jt:We=Q;break t;case Se:return tt;case Re:default:return pt}return J.next_out=Pe,J.avail_out=Fe,J.next_in=St,J.avail_in=Ot,E.hold=nt,E.bits=rt,(E.wsize||ce!==J.avail_out&&E.mode<jt&&(E.mode<Gt||Et!==p))&&fr(J,J.output,J.next_out,ce-J.avail_out),kr-=J.avail_in,ce-=J.avail_out,J.total_in+=kr,J.total_out+=ce,E.total+=ce,E.wrap&&ce&&(J.adler=E.check=E.flags?C(E.check,oe,ce,J.next_out-ce):Y(E.check,oe,ce,J.next_out-ce)),J.data_type=E.bits+(E.last?64:0)+(E.mode===T?128:0)+(E.mode===ve||E.mode===It?256:0),(kr===0&&ce===0||Et===p)&&We===U&&(We=Ht),We}function de(J){if(!J||!J.state)return pt;var Et=J.state;return Et.window&&(Et.window=null),J.state=null,U}function Xr(J,Et){var E;return!J||!J.state||(E=J.state,(E.wrap&2)===0)?pt:(E.head=Et,Et.done=!1,U)}function lr(J,Et){var E=Et.length,Nt,oe,St;return!J||!J.state||(Nt=J.state,Nt.wrap!==0&&Nt.mode!==Ee)?pt:Nt.mode===Ee&&(oe=1,oe=Y(oe,Et,E,0),oe!==Nt.check)?Q:(St=fr(J,Et,E,E),St?(Nt.mode=Se,tt):(Nt.havedict=1,U))}H.inflateReset=st,H.inflateReset2=$t,H.inflateResetKeep=$,H.inflateInit=ne,H.inflateInit2=se,H.inflate=Mt,H.inflateEnd=de,H.inflateGetHeader=Xr,H.inflateSetDictionary=lr,H.inflateInfo="pako inflate (from Nodeca project)"},function(F,H){var M=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";H.assign=function(C){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var N=j.shift();if(N){if(typeof N!="object")throw new TypeError(N+"must be non-object");for(var S in N)N.hasOwnProperty(S)&&(C[S]=N[S])}}return C},H.shrinkBuf=function(C,j){return C.length===j?C:C.subarray?C.subarray(0,j):(C.length=j,C)};var A={arraySet:function(C,j,N,S,h){if(j.subarray&&C.subarray){C.set(j.subarray(N,N+S),h);return}for(var b=0;b<S;b++)C[h+b]=j[N+b]},flattenChunks:function(C){var j,N,S,h,b,p;for(S=0,j=0,N=C.length;j<N;j++)S+=C[j].length;for(p=new Uint8Array(S),h=0,j=0,N=C.length;j<N;j++)b=C[j],p.set(b,h),h+=b.length;return p}},Y={arraySet:function(C,j,N,S,h){for(var b=0;b<S;b++)C[h+b]=j[N+b]},flattenChunks:function(C){return[].concat.apply([],C)}};H.setTyped=function(C){C?(H.Buf8=Uint8Array,H.Buf16=Uint16Array,H.Buf32=Int32Array,H.assign(H,A)):(H.Buf8=Array,H.Buf16=Array,H.Buf32=Array,H.assign(H,Y))},H.setTyped(M)},function(F,H){function M(A,Y,C,j){for(var N=A&65535|0,S=A>>>16&65535|0,h=0;C!==0;){h=C>2e3?2e3:C,C-=h;do N=N+Y[j++]|0,S=S+N|0;while(--h);N%=65521,S%=65521}return N|S<<16|0}F.exports=M},function(F,H){function M(){for(var C,j=[],N=0;N<256;N++){C=N;for(var S=0;S<8;S++)C=C&1?3988292384^C>>>1:C>>>1;j[N]=C}return j}var A=M();function Y(C,j,N,S){var h=A,b=S+N;C^=-1;for(var p=S;p<b;p++)C=C>>>8^h[(C^j[p])&255];return C^-1}F.exports=Y},function(F,H){var M=30,A=12;F.exports=function(C,j){var N,S,h,b,p,B,x,U,X,Z,pt,Q,tt,Ht,ht,Vt,Ut,K,ft,bt,te,At,Bt,Xt,xt;N=C.state,S=C.next_in,Xt=C.input,h=S+(C.avail_in-5),b=C.next_out,xt=C.output,p=b-(j-C.avail_out),B=b+(C.avail_out-257),x=N.dmax,U=N.wsize,X=N.whave,Z=N.wnext,pt=N.window,Q=N.hold,tt=N.bits,Ht=N.lencode,ht=N.distcode,Vt=(1<<N.lenbits)-1,Ut=(1<<N.distbits)-1;t:do{tt<15&&(Q+=Xt[S++]<<tt,tt+=8,Q+=Xt[S++]<<tt,tt+=8),K=Ht[Q&Vt];e:for(;;){if(ft=K>>>24,Q>>>=ft,tt-=ft,ft=K>>>16&255,ft===0)xt[b++]=K&65535;else if(ft&16){bt=K&65535,ft&=15,ft&&(tt<ft&&(Q+=Xt[S++]<<tt,tt+=8),bt+=Q&(1<<ft)-1,Q>>>=ft,tt-=ft),tt<15&&(Q+=Xt[S++]<<tt,tt+=8,Q+=Xt[S++]<<tt,tt+=8),K=ht[Q&Ut];r:for(;;){if(ft=K>>>24,Q>>>=ft,tt-=ft,ft=K>>>16&255,ft&16){if(te=K&65535,ft&=15,tt<ft&&(Q+=Xt[S++]<<tt,tt+=8,tt<ft&&(Q+=Xt[S++]<<tt,tt+=8)),te+=Q&(1<<ft)-1,te>x){C.msg="invalid distance too far back",N.mode=M;break t}if(Q>>>=ft,tt-=ft,ft=b-p,te>ft){if(ft=te-ft,ft>X&&N.sane){C.msg="invalid distance too far back",N.mode=M;break t}if(At=0,Bt=pt,Z===0){if(At+=U-ft,ft<bt){bt-=ft;do xt[b++]=pt[At++];while(--ft);At=b-te,Bt=xt}}else if(Z<ft){if(At+=U+Z-ft,ft-=Z,ft<bt){bt-=ft;do xt[b++]=pt[At++];while(--ft);if(At=0,Z<bt){ft=Z,bt-=ft;do xt[b++]=pt[At++];while(--ft);At=b-te,Bt=xt}}}else if(At+=Z-ft,ft<bt){bt-=ft;do xt[b++]=pt[At++];while(--ft);At=b-te,Bt=xt}for(;bt>2;)xt[b++]=Bt[At++],xt[b++]=Bt[At++],xt[b++]=Bt[At++],bt-=3;bt&&(xt[b++]=Bt[At++],bt>1&&(xt[b++]=Bt[At++]))}else{At=b-te;do xt[b++]=xt[At++],xt[b++]=xt[At++],xt[b++]=xt[At++],bt-=3;while(bt>2);bt&&(xt[b++]=xt[At++],bt>1&&(xt[b++]=xt[At++]))}}else if((ft&64)===0){K=ht[(K&65535)+(Q&(1<<ft)-1)];continue r}else{C.msg="invalid distance code",N.mode=M;break t}break}}else if((ft&64)===0){K=Ht[(K&65535)+(Q&(1<<ft)-1)];continue e}else if(ft&32){N.mode=A;break t}else{C.msg="invalid literal/length code",N.mode=M;break t}break}}while(S<h&&b<B);bt=tt>>3,S-=bt,tt-=bt<<3,Q&=(1<<tt)-1,C.next_in=S,C.next_out=b,C.avail_in=S<h?5+(h-S):5-(S-h),C.avail_out=b<B?257+(B-b):257-(b-B),N.hold=Q,N.bits=tt}},function(F,H,M){var A=M(33),Y=15,C=852,j=592,N=0,S=1,h=2,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],B=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];F.exports=function(X,Z,pt,Q,tt,Ht,ht,Vt){var Ut=Vt.bits,K=0,ft=0,bt=0,te=0,At=0,Bt=0,Xt=0,xt=0,Ee=0,T=0,W,lt,It,Kt,Wt,qt=null,ee=0,ve,fe=new A.Buf16(Y+1),R=new A.Buf16(Y+1),L=null,at=0,_t,Lt,Gt;for(K=0;K<=Y;K++)fe[K]=0;for(ft=0;ft<Q;ft++)fe[Z[pt+ft]]++;for(At=Ut,te=Y;te>=1&&fe[te]===0;te--);if(At>te&&(At=te),te===0)return tt[Ht++]=1<<24|64<<16|0,tt[Ht++]=1<<24|64<<16|0,Vt.bits=1,0;for(bt=1;bt<te&&fe[bt]===0;bt++);for(At<bt&&(At=bt),xt=1,K=1;K<=Y;K++)if(xt<<=1,xt-=fe[K],xt<0)return-1;if(xt>0&&(X===N||te!==1))return-1;for(R[1]=0,K=1;K<Y;K++)R[K+1]=R[K]+fe[K];for(ft=0;ft<Q;ft++)Z[pt+ft]!==0&&(ht[R[Z[pt+ft]]++]=ft);if(X===N?(qt=L=ht,ve=19):X===S?(qt=b,ee-=257,L=p,at-=257,ve=256):(qt=B,L=x,ve=-1),T=0,ft=0,K=bt,Wt=Ht,Bt=At,Xt=0,It=-1,Ee=1<<At,Kt=Ee-1,X===S&&Ee>C||X===h&&Ee>j)return 1;for(;;){_t=K-Xt,ht[ft]<ve?(Lt=0,Gt=ht[ft]):ht[ft]>ve?(Lt=L[at+ht[ft]],Gt=qt[ee+ht[ft]]):(Lt=96,Gt=0),W=1<<K-Xt,lt=1<<Bt,bt=lt;do lt-=W,tt[Wt+(T>>Xt)+lt]=_t<<24|Lt<<16|Gt|0;while(lt!==0);for(W=1<<K-1;T&W;)W>>=1;if(W!==0?(T&=W-1,T+=W):T=0,ft++,--fe[K]===0){if(K===te)break;K=Z[pt+ht[ft]]}if(K>At&&(T&Kt)!==It){for(Xt===0&&(Xt=At),Wt+=bt,Bt=K-Xt,xt=1<<Bt;Bt+Xt<te&&(xt-=fe[Bt+Xt],!(xt<=0));)Bt++,xt<<=1;if(Ee+=1<<Bt,X===S&&Ee>C||X===h&&Ee>j)return 1;It=T&Kt,tt[It]=At<<24|Bt<<16|Wt-Ht|0}}return T!==0&&(tt[Wt+T]=K-Xt<<24|64<<16|0),Vt.bits=At,0}},function(F,H,M){var A=M(33),Y=!0,C=!0;try{String.fromCharCode.apply(null,[0])}catch{Y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{C=!1}for(var j=new A.Buf8(256),N=0;N<256;N++)j[N]=N>=252?6:N>=248?5:N>=240?4:N>=224?3:N>=192?2:1;j[254]=j[254]=1,H.string2buf=function(h){var b,p,B,x,U,X=h.length,Z=0;for(x=0;x<X;x++)p=h.charCodeAt(x),(p&64512)===55296&&x+1<X&&(B=h.charCodeAt(x+1),(B&64512)===56320&&(p=65536+(p-55296<<10)+(B-56320),x++)),Z+=p<128?1:p<2048?2:p<65536?3:4;for(b=new A.Buf8(Z),U=0,x=0;U<Z;x++)p=h.charCodeAt(x),(p&64512)===55296&&x+1<X&&(B=h.charCodeAt(x+1),(B&64512)===56320&&(p=65536+(p-55296<<10)+(B-56320),x++)),p<128?b[U++]=p:p<2048?(b[U++]=192|p>>>6,b[U++]=128|p&63):p<65536?(b[U++]=224|p>>>12,b[U++]=128|p>>>6&63,b[U++]=128|p&63):(b[U++]=240|p>>>18,b[U++]=128|p>>>12&63,b[U++]=128|p>>>6&63,b[U++]=128|p&63);return b};function S(h,b){if(b<65537&&(h.subarray&&C||!h.subarray&&Y))return String.fromCharCode.apply(null,A.shrinkBuf(h,b));for(var p="",B=0;B<b;B++)p+=String.fromCharCode(h[B]);return p}H.buf2binstring=function(h){return S(h,h.length)},H.binstring2buf=function(h){for(var b=new A.Buf8(h.length),p=0,B=b.length;p<B;p++)b[p]=h.charCodeAt(p);return b},H.buf2string=function(h,b){var p,B,x,U,X=b||h.length,Z=new Array(X*2);for(B=0,p=0;p<X;){if(x=h[p++],x<128){Z[B++]=x;continue}if(U=j[x],U>4){Z[B++]=65533,p+=U-1;continue}for(x&=U===2?31:U===3?15:7;U>1&&p<X;)x=x<<6|h[p++]&63,U--;if(U>1){Z[B++]=65533;continue}x<65536?Z[B++]=x:(x-=65536,Z[B++]=55296|x>>10&1023,Z[B++]=56320|x&1023)}return S(Z,B)},H.utf8border=function(h,b){var p;for(b=b||h.length,b>h.length&&(b=h.length),p=b-1;p>=0&&(h[p]&192)===128;)p--;return p<0||p===0?b:p+j[h[p]]>b?p:b}},function(F,H){F.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(F,H){F.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(F,H){function M(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}F.exports=M},function(F,H){function M(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}F.exports=M}])})})(Rn)),Rn.exports}var Vr=ia(),oa=ra(Vr),aa=ta({__proto__:null,default:oa},[Vr]);async function sa(le){const Oe=Vr.BFSRequire("buffer").Buffer,F=async A=>{console.log(`Fetching library archive: ${A}`);const Y=await fetch(A);if(!Y.ok)throw console.error(`Failed to fetch ${A}: ${Y.status} ${Y.statusText}`),new Error(`Failed to fetch ${A}: ${Y.status}`);console.log(`Fetched ${A}, size: ${Y.headers.get("content-length")} type: ${Y.headers.get("content-type")}`);const C=Y.headers.get("content-type");if(C&&C.includes("text/html"))throw console.error(`Fetched HTML instead of ZIP for ${A}. This usually means 404 fallback.`),new Error(`Fetched HTML instead of ZIP for ${A}`);return Y.arrayBuffer()},H=await Promise.all(le.map(async A=>[A,await F(`/libraries/${A}.zip`)])),M={};for(const[A,Y]of H)M[A]={fs:"ZipFS",options:{zipData:Oe.from(Y)}};return M}async function ua(le,Oe,F="/libraries",H="/tmp"){const M=async(A,Y)=>{try{await Oe.symlink(A,Y)}catch(C){console.error(`symlink(${A}, ${Y}) failed: `,C)}};await Promise.all(le.map(A=>(async()=>{if(!(A in Ti))throw new Error(`Archive named ${A} invalid (valid ones: ${Li.join(", ")})`);const{symlinks:Y}=Ti[A];if(Y)for(const C in Y){const j=Y[C],N=j==="."?`${F}/${A}`:`${F}/${A}/${j}`,S=C.startsWith("/")?C:`${H}/${C}`;await M(N,S)}else await M(`${F}/${A}`,`${H}/${A}`)})()))}function ca(le,Oe){return new Promise(async(F,H)=>{Vr.install(le);try{Vr.configure(Oe,function(M){M?H(M):F(null)})}catch(M){console.error(M),H(M)}})}async function fa({prefix:le,allowPersistence:Oe}){const H=await sa(Li),M={};for(const Y in H)M[`${le}${Y}`]=H[Y];await ca(typeof window=="object"&&window||self,{fs:"OverlayFS",options:{readable:{fs:"MountableFileSystem",options:{...M}},writable:{fs:"InMemory"}}});var A=Vr.BFSRequire("fs");return A}async function la(le,{content:Oe,path:F,url:H}){const M=F.endsWith(".scad")||F.endsWith(".json");if(Oe)return new TextEncoder().encode(Oe);if(H){if(M)return Oe=await(await fetch(H)).text(),new TextEncoder().encode(Oe.replace(/\r\n/g,`
`));{const Y=await(await fetch(H)).arrayBuffer();return new Uint8Array(Y)}}else if(F){const A=le.readFileSync(F);return new Uint8Array("buffer"in A?A.buffer:A)}else throw new Error("Invalid source: "+JSON.stringify({path:F,content:Oe,url:H}))}typeof self<"u"&&!self.BrowserFS&&(self.BrowserFS=aa);function Tn(le){self.postMessage(le)}self.addEventListener("message",async le=>{const{mountArchives:Oe,inputs:F,args:H,outputPaths:M}=le.data,A=[];let Y;const C=performance.now();try{if(Y=await ea({noInitialRun:!0,locateFile:p=>p.endsWith(".wasm")?"/openscad.wasm":p,print:p=>{console.debug("stdout: "+p),Tn({stdout:p}),A.push({stdout:p})},printErr:p=>{console.debug("stderr: "+p),Tn({stderr:p}),A.push({stderr:p})}}),Oe){await fa({prefix:"",allowPersistence:!1}),Y.FS.mkdir("/libraries");const p=new self.BrowserFS.EmscriptenFS(Y.FS,Y.PATH??{join2:(B,x)=>`${B}/${x}`,join:(...B)=>B.join("/")},Y.ERRNO_CODES??{});Y.FS.mount(p,{root:"/"},"/libraries"),await ua(Li,Y.FS,"/libraries","/")}if(Y.FS.chdir("/"),Y.FS.mkdir("/locale"),F)for(const p of F)try{console.log(`Writing ${p.path}`),p.content==null&&p.path!=null&&p.url==null?Y.FS.isFile(p.path)||console.error(`File ${p.path} does not exist!`):Y.FS.writeFile(p.path,await la(Y.FS,p))}catch(B){throw console.trace(B),new Error(`Error while trying to write ${p.path}: ${B}`)}console.log("Invoking OpenSCAD with: ",H);let j;try{j=Y.callMain(H)}catch(p){throw typeof p=="number"&&Y.formatException&&(p=Y.formatException(p)),new Error(`OpenSCAD invocation failed: ${p}`)}const S=performance.now()-C,h=[];for(const p of M??[])try{const B=Y.FS.readFile(p);h.push([p,B])}catch(B){throw console.trace(B),new Error(`Failed to read output file ${p}: ${B}`)}const b={outputs:h,mergedOutputs:A,exitCode:j,elapsedMillis:S};console.debug(b),Tn({result:b})}catch(j){const S=performance.now()-C;console.trace(j);const h=`${j}`;A.push({error:h}),Tn({result:{exitCode:void 0,error:h,mergedOutputs:A,elapsedMillis:S}})}})})();
