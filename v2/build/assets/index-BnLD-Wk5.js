(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Yl={exports:{}},_s={},Ql={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf;function wh(){if(cf)return xe;cf=1;var f=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=R&&N[R]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,H={};function j(N,L,he){this.props=N,this.context=L,this.refs=H,this.updater=he||M}j.prototype.isReactComponent={},j.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},j.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function T(){}T.prototype=j.prototype;function X(N,L,he){this.props=N,this.context=L,this.refs=H,this.updater=he||M}var O=X.prototype=new T;O.constructor=X,G(O,j.prototype),O.isPureReactComponent=!0;var B=Array.isArray,F=Object.prototype.hasOwnProperty,b={current:null},y={key:!0,ref:!0,__self:!0,__source:!0};function k(N,L,he){var pe,ye={},me=null,Re=null;if(L!=null)for(pe in L.ref!==void 0&&(Re=L.ref),L.key!==void 0&&(me=""+L.key),L)F.call(L,pe)&&!y.hasOwnProperty(pe)&&(ye[pe]=L[pe]);var Ee=arguments.length-2;if(Ee===1)ye.children=he;else if(1<Ee){for(var Ce=Array(Ee),Ne=0;Ne<Ee;Ne++)Ce[Ne]=arguments[Ne+2];ye.children=Ce}if(N&&N.defaultProps)for(pe in Ee=N.defaultProps,Ee)ye[pe]===void 0&&(ye[pe]=Ee[pe]);return{$$typeof:f,type:N,key:me,ref:Re,props:ye,_owner:b.current}}function z(N,L){return{$$typeof:f,type:N.type,key:L,ref:N.ref,props:N.props,_owner:N._owner}}function $(N){return typeof N=="object"&&N!==null&&N.$$typeof===f}function re(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return L[he]})}var te=/\/+/g;function Q(N,L){return typeof N=="object"&&N!==null&&N.key!=null?re(""+N.key):L.toString(36)}function ce(N,L,he,pe,ye){var me=typeof N;(me==="undefined"||me==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(me){case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case f:case n:Re=!0}}if(Re)return Re=N,ye=ye(Re),N=pe===""?"."+Q(Re,0):pe,B(ye)?(he="",N!=null&&(he=N.replace(te,"$&/")+"/"),ce(ye,L,he,"",function(Ne){return Ne})):ye!=null&&($(ye)&&(ye=z(ye,he+(!ye.key||Re&&Re.key===ye.key?"":(""+ye.key).replace(te,"$&/")+"/")+N)),L.push(ye)),1;if(Re=0,pe=pe===""?".":pe+":",B(N))for(var Ee=0;Ee<N.length;Ee++){me=N[Ee];var Ce=pe+Q(me,Ee);Re+=ce(me,L,he,Ce,ye)}else if(Ce=_(N),typeof Ce=="function")for(N=Ce.call(N),Ee=0;!(me=N.next()).done;)me=me.value,Ce=pe+Q(me,Ee++),Re+=ce(me,L,he,Ce,ye);else if(me==="object")throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Re}function oe(N,L,he){if(N==null)return N;var pe=[],ye=0;return ce(N,pe,"","",function(me){return L.call(he,me,ye++)}),pe}function ue(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var fe={current:null},K={transition:null},Z={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:K,ReactCurrentOwner:b};function J(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:oe,forEach:function(N,L,he){oe(N,function(){L.apply(this,arguments)},he)},count:function(N){var L=0;return oe(N,function(){L++}),L},toArray:function(N){return oe(N,function(L){return L})||[]},only:function(N){if(!$(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xe.Component=j,xe.Fragment=i,xe.Profiler=l,xe.PureComponent=X,xe.StrictMode=a,xe.Suspense=g,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,xe.act=J,xe.cloneElement=function(N,L,he){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var pe=G({},N.props),ye=N.key,me=N.ref,Re=N._owner;if(L!=null){if(L.ref!==void 0&&(me=L.ref,Re=b.current),L.key!==void 0&&(ye=""+L.key),N.type&&N.type.defaultProps)var Ee=N.type.defaultProps;for(Ce in L)F.call(L,Ce)&&!y.hasOwnProperty(Ce)&&(pe[Ce]=L[Ce]===void 0&&Ee!==void 0?Ee[Ce]:L[Ce])}var Ce=arguments.length-2;if(Ce===1)pe.children=he;else if(1<Ce){Ee=Array(Ce);for(var Ne=0;Ne<Ce;Ne++)Ee[Ne]=arguments[Ne+2];pe.children=Ee}return{$$typeof:f,type:N.type,key:ye,ref:me,props:pe,_owner:Re}},xe.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},xe.createElement=k,xe.createFactory=function(N){var L=k.bind(null,N);return L.type=N,L},xe.createRef=function(){return{current:null}},xe.forwardRef=function(N){return{$$typeof:p,render:N}},xe.isValidElement=$,xe.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:ue}},xe.memo=function(N,L){return{$$typeof:m,type:N,compare:L===void 0?null:L}},xe.startTransition=function(N){var L=K.transition;K.transition={};try{N()}finally{K.transition=L}},xe.unstable_act=J,xe.useCallback=function(N,L){return fe.current.useCallback(N,L)},xe.useContext=function(N){return fe.current.useContext(N)},xe.useDebugValue=function(){},xe.useDeferredValue=function(N){return fe.current.useDeferredValue(N)},xe.useEffect=function(N,L){return fe.current.useEffect(N,L)},xe.useId=function(){return fe.current.useId()},xe.useImperativeHandle=function(N,L,he){return fe.current.useImperativeHandle(N,L,he)},xe.useInsertionEffect=function(N,L){return fe.current.useInsertionEffect(N,L)},xe.useLayoutEffect=function(N,L){return fe.current.useLayoutEffect(N,L)},xe.useMemo=function(N,L){return fe.current.useMemo(N,L)},xe.useReducer=function(N,L,he){return fe.current.useReducer(N,L,he)},xe.useRef=function(N){return fe.current.useRef(N)},xe.useState=function(N){return fe.current.useState(N)},xe.useSyncExternalStore=function(N,L,he){return fe.current.useSyncExternalStore(N,L,he)},xe.useTransition=function(){return fe.current.useTransition()},xe.version="18.3.1",xe}var ff;function da(){return ff||(ff=1,Ql.exports=wh()),Ql.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df;function Sh(){if(df)return _s;df=1;var f=da(),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,g,m){var S,R={},_=null,M=null;m!==void 0&&(_=""+m),g.key!==void 0&&(_=""+g.key),g.ref!==void 0&&(M=g.ref);for(S in g)a.call(g,S)&&!c.hasOwnProperty(S)&&(R[S]=g[S]);if(p&&p.defaultProps)for(S in g=p.defaultProps,g)R[S]===void 0&&(R[S]=g[S]);return{$$typeof:n,type:p,key:_,ref:M,props:R,_owner:l.current}}return _s.Fragment=i,_s.jsx=d,_s.jsxs=d,_s}var pf;function Rh(){return pf||(pf=1,Yl.exports=Sh()),Yl.exports}var E=Rh(),Gi={},ql={exports:{}},gt={},Jl={exports:{}},Zl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function Nh(){return hf||(hf=1,(function(f){function n(K,Z){var J=K.length;K.push(Z);e:for(;0<J;){var N=J-1>>>1,L=K[N];if(0<l(L,Z))K[N]=Z,K[J]=L,J=N;else break e}}function i(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var Z=K[0],J=K.pop();if(J!==Z){K[0]=J;e:for(var N=0,L=K.length,he=L>>>1;N<he;){var pe=2*(N+1)-1,ye=K[pe],me=pe+1,Re=K[me];if(0>l(ye,J))me<L&&0>l(Re,ye)?(K[N]=Re,K[me]=J,N=me):(K[N]=ye,K[pe]=J,N=pe);else if(me<L&&0>l(Re,J))K[N]=Re,K[me]=J,N=me;else break e}}return Z}function l(K,Z){var J=K.sortIndex-Z.sortIndex;return J!==0?J:K.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;f.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();f.unstable_now=function(){return d.now()-p}}var g=[],m=[],S=1,R=null,_=3,M=!1,G=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(K){for(var Z=i(m);Z!==null;){if(Z.callback===null)a(m);else if(Z.startTime<=K)a(m),Z.sortIndex=Z.expirationTime,n(g,Z);else break;Z=i(m)}}function B(K){if(H=!1,O(K),!G)if(i(g)!==null)G=!0,ue(F);else{var Z=i(m);Z!==null&&fe(B,Z.startTime-K)}}function F(K,Z){G=!1,H&&(H=!1,T(k),k=-1),M=!0;var J=_;try{for(O(Z),R=i(g);R!==null&&(!(R.expirationTime>Z)||K&&!re());){var N=R.callback;if(typeof N=="function"){R.callback=null,_=R.priorityLevel;var L=N(R.expirationTime<=Z);Z=f.unstable_now(),typeof L=="function"?R.callback=L:R===i(g)&&a(g),O(Z)}else a(g);R=i(g)}if(R!==null)var he=!0;else{var pe=i(m);pe!==null&&fe(B,pe.startTime-Z),he=!1}return he}finally{R=null,_=J,M=!1}}var b=!1,y=null,k=-1,z=5,$=-1;function re(){return!(f.unstable_now()-$<z)}function te(){if(y!==null){var K=f.unstable_now();$=K;var Z=!0;try{Z=y(!0,K)}finally{Z?Q():(b=!1,y=null)}}else b=!1}var Q;if(typeof X=="function")Q=function(){X(te)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,oe=ce.port2;ce.port1.onmessage=te,Q=function(){oe.postMessage(null)}}else Q=function(){j(te,0)};function ue(K){y=K,b||(b=!0,Q())}function fe(K,Z){k=j(function(){K(f.unstable_now())},Z)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(K){K.callback=null},f.unstable_continueExecution=function(){G||M||(G=!0,ue(F))},f.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},f.unstable_getCurrentPriorityLevel=function(){return _},f.unstable_getFirstCallbackNode=function(){return i(g)},f.unstable_next=function(K){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var J=_;_=Z;try{return K()}finally{_=J}},f.unstable_pauseExecution=function(){},f.unstable_requestPaint=function(){},f.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=_;_=K;try{return Z()}finally{_=J}},f.unstable_scheduleCallback=function(K,Z,J){var N=f.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?N+J:N):J=N,K){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=J+L,K={id:S++,callback:Z,priorityLevel:K,startTime:J,expirationTime:L,sortIndex:-1},J>N?(K.sortIndex=J,n(m,K),i(g)===null&&K===i(m)&&(H?(T(k),k=-1):H=!0,fe(B,J-N))):(K.sortIndex=L,n(g,K),G||M||(G=!0,ue(F))),K},f.unstable_shouldYield=re,f.unstable_wrapCallback=function(K){var Z=_;return function(){var J=_;_=Z;try{return K.apply(this,arguments)}finally{_=J}}}})(Zl)),Zl}var gf;function Ih(){return gf||(gf=1,Jl.exports=Nh()),Jl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf;function _h(){if(mf)return gt;mf=1;var f=da(),n=Ih();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},R={};function _(e){return g.call(R,e)?!0:g.call(S,e)?!1:m.test(e)?R[e]=!0:(S[e]=!0,!1)}function M(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function G(e,t,r,s){if(t===null||typeof t>"u"||M(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function H(e,t,r,s,o,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new H(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new H(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new H(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new H(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new H(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new H(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T,X);j[t]=new H(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T,X);j[t]=new H(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T,X);j[t]=new H(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)});function O(e,t,r,s){var o=j.hasOwnProperty(t)?j[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G(t,r,o,s)&&(r=null),s||o===null?_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,s=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var B=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),re=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),K=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,N;function L(e){if(N===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var he=!1;function pe(e,t){if(!e||he)return"";he=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var s=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){s=A}e.call(t.prototype)}else{try{throw Error()}catch(A){s=A}e()}}catch(A){if(A&&s&&typeof A.stack=="string"){for(var o=A.stack.split(`
`),u=s.stack.split(`
`),h=o.length-1,x=u.length-1;1<=h&&0<=x&&o[h]!==u[x];)x--;for(;1<=h&&0<=x;h--,x--)if(o[h]!==u[x]){if(h!==1||x!==1)do if(h--,x--,0>x||o[h]!==u[x]){var v=`
`+o[h].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=h&&0<=x);break}}}finally{he=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?L(e):""}function ye(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=pe(e.type,!1),e;case 11:return e=pe(e.type.render,!1),e;case 1:return e=pe(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case b:return"Portal";case z:return"Profiler";case k:return"StrictMode";case Q:return"Suspense";case ce:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case re:return(e.displayName||"Context")+".Consumer";case $:return(e._context.displayName||"Context")+".Provider";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}function Re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ne(e){var t=Ce(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){s=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ke(e){e._valueTracker||(e._valueTracker=Ne(e))}function $n(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Ce(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fr(e,t){var r=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ma(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ee(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xa(e,t){t=t.checked,t!=null&&O(e,"checked",t,!1)}function no(e,t){xa(e,t);var r=Ee(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ro(e,t.type,r):t.hasOwnProperty("defaultValue")&&ro(e,t.type,Ee(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ya(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ro(e,t,r){(t!=="number"||cr(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var br=Array.isArray;function dr(e,t,r,s){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ee(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function so(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function va(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(br(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ee(r)}}function Ta(e,t){var r=Ee(t.value),s=Ee(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Ea(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fs,Sa=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Id=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(e){Id.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gr[t]=Gr[e]})});function Ra(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gr.hasOwnProperty(e)&&Gr[e]?(""+t).trim():t+"px"}function Na(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,o=Ra(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,o):e[r]=o}}var _d=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oo(e,t){if(t){if(_d[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function lo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var co=null,pr=null,hr=null;function Ia(e){if(e=ds(e)){if(typeof co!="function")throw Error(i(280));var t=e.stateNode;t&&(t=ii(t),co(e.stateNode,e.type,t))}}function _a(e){pr?hr?hr.push(e):hr=[e]:pr=e}function Ca(){if(pr){var e=pr,t=hr;if(hr=pr=null,Ia(e),t)for(e=0;e<t.length;e++)Ia(t[e])}}function Aa(e,t){return e(t)}function Ma(){}var fo=!1;function ka(e,t,r){if(fo)return e(t,r);fo=!0;try{return Aa(e,t,r)}finally{fo=!1,(pr!==null||hr!==null)&&(Ma(),Ca())}}function $r(e,t){var r=e.stateNode;if(r===null)return null;var s=ii(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var po=!1;if(p)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){po=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{po=!1}function Cd(e,t,r,s,o,u,h,x,v){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(U){this.onError(U)}}var Kr=!1,Ps=null,Us=!1,ho=null,Ad={onError:function(e){Kr=!0,Ps=e}};function Md(e,t,r,s,o,u,h,x,v){Kr=!1,Ps=null,Cd.apply(Ad,arguments)}function kd(e,t,r,s,o,u,h,x,v){if(Md.apply(this,arguments),Kr){if(Kr){var A=Ps;Kr=!1,Ps=null}else throw Error(i(198));Us||(Us=!0,ho=A)}}function Wn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Oa(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Da(e){if(Wn(e)!==e)throw Error(i(188))}function Od(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var o=r.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){r=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===r)return Da(o),e;if(u===s)return Da(o),t;u=u.sibling}throw Error(i(188))}if(r.return!==s.return)r=o,s=u;else{for(var h=!1,x=o.child;x;){if(x===r){h=!0,r=o,s=u;break}if(x===s){h=!0,s=o,r=u;break}x=x.sibling}if(!h){for(x=u.child;x;){if(x===r){h=!0,r=u,s=o;break}if(x===s){h=!0,s=u,r=o;break}x=x.sibling}if(!h)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function ja(e){return e=Od(e),e!==null?La(e):null}function La(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=La(e);if(t!==null)return t;e=e.sibling}return null}var Fa=n.unstable_scheduleCallback,Pa=n.unstable_cancelCallback,Dd=n.unstable_shouldYield,jd=n.unstable_requestPaint,Ve=n.unstable_now,Ld=n.unstable_getCurrentPriorityLevel,go=n.unstable_ImmediatePriority,Ua=n.unstable_UserBlockingPriority,Bs=n.unstable_NormalPriority,Fd=n.unstable_LowPriority,Ba=n.unstable_IdlePriority,zs=null,bt=null;function Pd(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(zs,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:zd,Ud=Math.log,Bd=Math.LN2;function zd(e){return e>>>=0,e===0?32:31-(Ud(e)/Bd|0)|0}var Vs=64,bs=4194304;function Xr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hs(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,o=e.suspendedLanes,u=e.pingedLanes,h=r&268435455;if(h!==0){var x=h&~o;x!==0?s=Xr(x):(u&=h,u!==0&&(s=Xr(u)))}else h=r&~o,h!==0?s=Xr(h):u!==0&&(s=Xr(u));if(s===0)return 0;if(t!==0&&t!==s&&(t&o)===0&&(o=s&-s,u=t&-t,o>=u||o===16&&(u&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Dt(t),o=1<<r,s|=e[r],t&=~o;return s}function Vd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bd(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-Dt(u),x=1<<h,v=o[h];v===-1?((x&r)===0||(x&s)!==0)&&(o[h]=Vd(x,t)):v<=t&&(e.expiredLanes|=x),u&=~x}}function mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function za(){var e=Vs;return Vs<<=1,(Vs&4194240)===0&&(Vs=64),e}function xo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=r}function Hd(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Dt(r),u=1<<o;t[o]=0,s[o]=-1,e[o]=-1,r&=~u}}function yo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Dt(r),o=1<<s;o&t|e[s]&t&&(e[s]|=t),r&=~o}}var Se=0;function Va(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ba,vo,Ha,Ga,$a,To=!1,Gs=[],En=null,wn=null,Sn=null,Qr=new Map,qr=new Map,Rn=[],Gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(t.pointerId)}}function Jr(e,t,r,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=ds(t),t!==null&&vo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function $d(e,t,r,s,o){switch(t){case"focusin":return En=Jr(En,e,t,r,s,o),!0;case"dragenter":return wn=Jr(wn,e,t,r,s,o),!0;case"mouseover":return Sn=Jr(Sn,e,t,r,s,o),!0;case"pointerover":var u=o.pointerId;return Qr.set(u,Jr(Qr.get(u)||null,e,t,r,s,o)),!0;case"gotpointercapture":return u=o.pointerId,qr.set(u,Jr(qr.get(u)||null,e,t,r,s,o)),!0}return!1}function Ka(e){var t=Kn(e.target);if(t!==null){var r=Wn(t);if(r!==null){if(t=r.tag,t===13){if(t=Oa(r),t!==null){e.blockedOn=t,$a(e.priority,function(){Ha(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);ao=s,r.target.dispatchEvent(s),ao=null}else return t=ds(r),t!==null&&vo(t),e.blockedOn=r,!1;t.shift()}return!0}function Xa(e,t,r){$s(e)&&r.delete(t)}function Wd(){To=!1,En!==null&&$s(En)&&(En=null),wn!==null&&$s(wn)&&(wn=null),Sn!==null&&$s(Sn)&&(Sn=null),Qr.forEach(Xa),qr.forEach(Xa)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,To||(To=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Wd)))}function es(e){function t(o){return Zr(o,e)}if(0<Gs.length){Zr(Gs[0],e);for(var r=1;r<Gs.length;r++){var s=Gs[r];s.blockedOn===e&&(s.blockedOn=null)}}for(En!==null&&Zr(En,e),wn!==null&&Zr(wn,e),Sn!==null&&Zr(Sn,e),Qr.forEach(t),qr.forEach(t),r=0;r<Rn.length;r++)s=Rn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Rn.length&&(r=Rn[0],r.blockedOn===null);)Ka(r),r.blockedOn===null&&Rn.shift()}var gr=B.ReactCurrentBatchConfig,Ws=!0;function Kd(e,t,r,s){var o=Se,u=gr.transition;gr.transition=null;try{Se=1,Eo(e,t,r,s)}finally{Se=o,gr.transition=u}}function Xd(e,t,r,s){var o=Se,u=gr.transition;gr.transition=null;try{Se=4,Eo(e,t,r,s)}finally{Se=o,gr.transition=u}}function Eo(e,t,r,s){if(Ws){var o=wo(e,t,r,s);if(o===null)Bo(e,t,s,Ks,r),Wa(e,s);else if($d(o,e,t,r,s))s.stopPropagation();else if(Wa(e,s),t&4&&-1<Gd.indexOf(e)){for(;o!==null;){var u=ds(o);if(u!==null&&ba(u),u=wo(e,t,r,s),u===null&&Bo(e,t,s,Ks,r),u===o)break;o=u}o!==null&&s.stopPropagation()}else Bo(e,t,s,null,r)}}var Ks=null;function wo(e,t,r,s){if(Ks=null,e=uo(s),e=Kn(e),e!==null)if(t=Wn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Oa(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ks=e,null}function Ya(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ld()){case go:return 1;case Ua:return 4;case Bs:case Fd:return 16;case Ba:return 536870912;default:return 16}default:return 16}}var Nn=null,So=null,Xs=null;function Qa(){if(Xs)return Xs;var e,t=So,r=t.length,s,o="value"in Nn?Nn.value:Nn.textContent,u=o.length;for(e=0;e<r&&t[e]===o[e];e++);var h=r-e;for(s=1;s<=h&&t[r-s]===o[u-s];s++);return Xs=o.slice(e,1<s?1-s:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qs(){return!0}function qa(){return!1}function mt(e){function t(r,s,o,u,h){this._reactName=r,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Qs:qa,this.isPropagationStopped=qa,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),t}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=mt(mr),ts=J({},mr,{view:0,detail:0}),Yd=mt(ts),No,Io,ns,qs=J({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&e.type==="mousemove"?(No=e.screenX-ns.screenX,Io=e.screenY-ns.screenY):Io=No=0,ns=e),No)},movementY:function(e){return"movementY"in e?e.movementY:Io}}),Ja=mt(qs),Qd=J({},qs,{dataTransfer:0}),qd=mt(Qd),Jd=J({},ts,{relatedTarget:0}),_o=mt(Jd),Zd=J({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=mt(Zd),tp=J({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),np=mt(tp),rp=J({},mr,{data:0}),Za=mt(rp),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=op[e])?!!t[e]:!1}function Co(){return lp}var ap=J({},ts,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),up=mt(ap),cp=J({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=mt(cp),fp=J({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),dp=mt(fp),pp=J({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=mt(pp),gp=J({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mp=mt(gp),xp=[9,13,27,32],Ao=p&&"CompositionEvent"in window,rs=null;p&&"documentMode"in document&&(rs=document.documentMode);var yp=p&&"TextEvent"in window&&!rs,tu=p&&(!Ao||rs&&8<rs&&11>=rs),nu=" ",ru=!1;function su(e,t){switch(e){case"keyup":return xp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function vp(e,t){switch(e){case"compositionend":return iu(t);case"keypress":return t.which!==32?null:(ru=!0,nu);case"textInput":return e=t.data,e===nu&&ru?null:e;default:return null}}function Tp(e,t){if(xr)return e==="compositionend"||!Ao&&su(e,t)?(e=Qa(),Xs=So=Nn=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tu&&t.locale!=="ko"?null:t.data;default:return null}}var Ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ep[e.type]:t==="textarea"}function lu(e,t,r,s){_a(s),t=ni(t,"onChange"),0<t.length&&(r=new Ro("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var ss=null,is=null;function wp(e){Nu(e,0)}function Js(e){var t=wr(e);if($n(t))return e}function Sp(e,t){if(e==="change")return t}var au=!1;if(p){var Mo;if(p){var ko="oninput"in document;if(!ko){var uu=document.createElement("div");uu.setAttribute("oninput","return;"),ko=typeof uu.oninput=="function"}Mo=ko}else Mo=!1;au=Mo&&(!document.documentMode||9<document.documentMode)}function cu(){ss&&(ss.detachEvent("onpropertychange",fu),is=ss=null)}function fu(e){if(e.propertyName==="value"&&Js(is)){var t=[];lu(t,is,e,uo(e)),ka(wp,t)}}function Rp(e,t,r){e==="focusin"?(cu(),ss=t,is=r,ss.attachEvent("onpropertychange",fu)):e==="focusout"&&cu()}function Np(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Js(is)}function Ip(e,t){if(e==="click")return Js(t)}function _p(e,t){if(e==="input"||e==="change")return Js(t)}function Cp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Cp;function os(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var o=r[s];if(!g.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pu(e,t){var r=du(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=du(r)}}function hu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gu(){for(var e=window,t=cr();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=cr(e.document)}return t}function Oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ap(e){var t=gu(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hu(r.ownerDocument.documentElement,r)){if(s!==null&&Oo(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,u=Math.min(s.start,o);s=s.end===void 0?u:Math.min(s.end,o),!e.extend&&u>s&&(o=s,s=u,u=o),o=pu(r,u);var h=pu(r,s);o&&h&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mp=p&&"documentMode"in document&&11>=document.documentMode,yr=null,Do=null,ls=null,jo=!1;function mu(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jo||yr==null||yr!==cr(s)||(s=yr,"selectionStart"in s&&Oo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ls&&os(ls,s)||(ls=s,s=ni(Do,"onSelect"),0<s.length&&(t=new Ro("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=yr)))}function Zs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vr={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},Lo={},xu={};p&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function ei(e){if(Lo[e])return Lo[e];if(!vr[e])return e;var t=vr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xu)return Lo[e]=t[r];return e}var yu=ei("animationend"),vu=ei("animationiteration"),Tu=ei("animationstart"),Eu=ei("transitionend"),wu=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){wu.set(e,t),c(t,[e])}for(var Fo=0;Fo<Su.length;Fo++){var Po=Su[Fo],kp=Po.toLowerCase(),Op=Po[0].toUpperCase()+Po.slice(1);In(kp,"on"+Op)}In(yu,"onAnimationEnd"),In(vu,"onAnimationIteration"),In(Tu,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Eu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function Ru(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,kd(s,t,void 0,e),e.currentTarget=null}function Nu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var x=s[h],v=x.instance,A=x.currentTarget;if(x=x.listener,v!==u&&o.isPropagationStopped())break e;Ru(o,x,A),u=v}else for(h=0;h<s.length;h++){if(x=s[h],v=x.instance,A=x.currentTarget,x=x.listener,v!==u&&o.isPropagationStopped())break e;Ru(o,x,A),u=v}}}if(Us)throw e=ho,Us=!1,ho=null,e}function ke(e,t){var r=t[$o];r===void 0&&(r=t[$o]=new Set);var s=e+"__bubble";r.has(s)||(Iu(t,e,2,!1),r.add(s))}function Uo(e,t,r){var s=0;t&&(s|=4),Iu(r,e,s,t)}var ti="_reactListening"+Math.random().toString(36).slice(2);function us(e){if(!e[ti]){e[ti]=!0,a.forEach(function(r){r!=="selectionchange"&&(Dp.has(r)||Uo(r,!1,e),Uo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ti]||(t[ti]=!0,Uo("selectionchange",!1,t))}}function Iu(e,t,r,s){switch(Ya(t)){case 1:var o=Kd;break;case 4:o=Xd;break;default:o=Eo}r=o.bind(null,t,r,e),o=void 0,!po||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Bo(e,t,r,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var x=s.stateNode.containerInfo;if(x===o||x.nodeType===8&&x.parentNode===o)break;if(h===4)for(h=s.return;h!==null;){var v=h.tag;if((v===3||v===4)&&(v=h.stateNode.containerInfo,v===o||v.nodeType===8&&v.parentNode===o))return;h=h.return}for(;x!==null;){if(h=Kn(x),h===null)return;if(v=h.tag,v===5||v===6){s=u=h;continue e}x=x.parentNode}}s=s.return}ka(function(){var A=u,U=uo(r),V=[];e:{var P=wu.get(e);if(P!==void 0){var q=Ro,ne=e;switch(e){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":q=up;break;case"focusin":ne="focus",q=_o;break;case"focusout":ne="blur",q=_o;break;case"beforeblur":case"afterblur":q=_o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=dp;break;case yu:case vu:case Tu:q=ep;break;case Eu:q=hp;break;case"scroll":q=Yd;break;case"wheel":q=mp;break;case"copy":case"cut":case"paste":q=np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=eu}var se=(t&4)!==0,be=!se&&e==="scroll",I=se?P!==null?P+"Capture":null:P;se=[];for(var w=A,C;w!==null;){C=w;var W=C.stateNode;if(C.tag===5&&W!==null&&(C=W,I!==null&&(W=$r(w,I),W!=null&&se.push(cs(w,W,C)))),be)break;w=w.return}0<se.length&&(P=new q(P,ne,null,r,U),V.push({event:P,listeners:se}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",P&&r!==ao&&(ne=r.relatedTarget||r.fromElement)&&(Kn(ne)||ne[Yt]))break e;if((q||P)&&(P=U.window===U?U:(P=U.ownerDocument)?P.defaultView||P.parentWindow:window,q?(ne=r.relatedTarget||r.toElement,q=A,ne=ne?Kn(ne):null,ne!==null&&(be=Wn(ne),ne!==be||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(q=null,ne=A),q!==ne)){if(se=Ja,W="onMouseLeave",I="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(se=eu,W="onPointerLeave",I="onPointerEnter",w="pointer"),be=q==null?P:wr(q),C=ne==null?P:wr(ne),P=new se(W,w+"leave",q,r,U),P.target=be,P.relatedTarget=C,W=null,Kn(U)===A&&(se=new se(I,w+"enter",ne,r,U),se.target=C,se.relatedTarget=be,W=se),be=W,q&&ne)t:{for(se=q,I=ne,w=0,C=se;C;C=Tr(C))w++;for(C=0,W=I;W;W=Tr(W))C++;for(;0<w-C;)se=Tr(se),w--;for(;0<C-w;)I=Tr(I),C--;for(;w--;){if(se===I||I!==null&&se===I.alternate)break t;se=Tr(se),I=Tr(I)}se=null}else se=null;q!==null&&_u(V,P,q,se,!1),ne!==null&&be!==null&&_u(V,be,ne,se,!0)}}e:{if(P=A?wr(A):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var ie=Sp;else if(ou(P))if(au)ie=_p;else{ie=Np;var le=Rp}else(q=P.nodeName)&&q.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(ie=Ip);if(ie&&(ie=ie(e,A))){lu(V,ie,r,U);break e}le&&le(e,P,A),e==="focusout"&&(le=P._wrapperState)&&le.controlled&&P.type==="number"&&ro(P,"number",P.value)}switch(le=A?wr(A):window,e){case"focusin":(ou(le)||le.contentEditable==="true")&&(yr=le,Do=A,ls=null);break;case"focusout":ls=Do=yr=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,mu(V,r,U);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":mu(V,r,U)}var ae;if(Ao)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else xr?su(e,r)&&(de="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(de="onCompositionStart");de&&(tu&&r.locale!=="ko"&&(xr||de!=="onCompositionStart"?de==="onCompositionEnd"&&xr&&(ae=Qa()):(Nn=U,So="value"in Nn?Nn.value:Nn.textContent,xr=!0)),le=ni(A,de),0<le.length&&(de=new Za(de,e,null,r,U),V.push({event:de,listeners:le}),ae?de.data=ae:(ae=iu(r),ae!==null&&(de.data=ae)))),(ae=yp?vp(e,r):Tp(e,r))&&(A=ni(A,"onBeforeInput"),0<A.length&&(U=new Za("onBeforeInput","beforeinput",null,r,U),V.push({event:U,listeners:A}),U.data=ae))}Nu(V,t)})}function cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ni(e,t){for(var r=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;o.tag===5&&u!==null&&(o=u,u=$r(e,r),u!=null&&s.unshift(cs(e,u,o)),u=$r(e,t),u!=null&&s.push(cs(e,u,o))),e=e.return}return s}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _u(e,t,r,s,o){for(var u=t._reactName,h=[];r!==null&&r!==s;){var x=r,v=x.alternate,A=x.stateNode;if(v!==null&&v===s)break;x.tag===5&&A!==null&&(x=A,o?(v=$r(r,u),v!=null&&h.unshift(cs(r,v,x))):o||(v=$r(r,u),v!=null&&h.push(cs(r,v,x)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var jp=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function Cu(e){return(typeof e=="string"?e:""+e).replace(jp,`
`).replace(Lp,"")}function ri(e,t,r){if(t=Cu(t),Cu(e)!==t&&r)throw Error(i(425))}function si(){}var zo=null,Vo=null;function bo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ho=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,Pp=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(e){return Au.resolve(null).then(e).catch(Up)}:Ho;function Up(e){setTimeout(function(){throw e})}function Go(e,t){var r=t,s=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(s===0){e.removeChild(o),es(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=o}while(r);es(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Er,fs="__reactProps$"+Er,Yt="__reactContainer$"+Er,$o="__reactEvents$"+Er,Bp="__reactListeners$"+Er,zp="__reactHandles$"+Er;function Kn(e){var t=e[Ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yt]||r[Ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mu(e);e!==null;){if(r=e[Ht])return r;e=Mu(e)}return t}e=r,r=e.parentNode}return null}function ds(e){return e=e[Ht]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function ii(e){return e[fs]||null}var Wo=[],Sr=-1;function Cn(e){return{current:e}}function Oe(e){0>Sr||(e.current=Wo[Sr],Wo[Sr]=null,Sr--)}function Ae(e,t){Sr++,Wo[Sr]=e.current,e.current=t}var An={},et=Cn(An),ct=Cn(!1),Xn=An;function Rr(e,t){var r=e.type.contextTypes;if(!r)return An;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in r)o[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ft(e){return e=e.childContextTypes,e!=null}function oi(){Oe(ct),Oe(et)}function ku(e,t,r){if(et.current!==An)throw Error(i(168));Ae(et,t),Ae(ct,r)}function Ou(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(i(108,Re(e)||"Unknown",o));return J({},r,s)}function li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,Xn=et.current,Ae(et,e),Ae(ct,ct.current),!0}function Du(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=Ou(e,t,Xn),s.__reactInternalMemoizedMergedChildContext=e,Oe(ct),Oe(et),Ae(et,e)):Oe(ct),Ae(ct,r)}var Qt=null,ai=!1,Ko=!1;function ju(e){Qt===null?Qt=[e]:Qt.push(e)}function Vp(e){ai=!0,ju(e)}function Mn(){if(!Ko&&Qt!==null){Ko=!0;var e=0,t=Se;try{var r=Qt;for(Se=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Qt=null,ai=!1}catch(o){throw Qt!==null&&(Qt=Qt.slice(e+1)),Fa(go,Mn),o}finally{Se=t,Ko=!1}}return null}var Nr=[],Ir=0,ui=null,ci=0,Et=[],wt=0,Yn=null,qt=1,Jt="";function Qn(e,t){Nr[Ir++]=ci,Nr[Ir++]=ui,ui=e,ci=t}function Lu(e,t,r){Et[wt++]=qt,Et[wt++]=Jt,Et[wt++]=Yn,Yn=e;var s=qt;e=Jt;var o=32-Dt(s)-1;s&=~(1<<o),r+=1;var u=32-Dt(t)+o;if(30<u){var h=o-o%5;u=(s&(1<<h)-1).toString(32),s>>=h,o-=h,qt=1<<32-Dt(t)+o|r<<o|s,Jt=u+e}else qt=1<<u|r<<o|s,Jt=e}function Xo(e){e.return!==null&&(Qn(e,1),Lu(e,1,0))}function Yo(e){for(;e===ui;)ui=Nr[--Ir],Nr[Ir]=null,ci=Nr[--Ir],Nr[Ir]=null;for(;e===Yn;)Yn=Et[--wt],Et[wt]=null,Jt=Et[--wt],Et[wt]=null,qt=Et[--wt],Et[wt]=null}var xt=null,yt=null,je=!1,Lt=null;function Fu(e,t){var r=It(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,yt=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yn!==null?{id:qt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=It(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xt=e,yt=null,!0):!1;default:return!1}}function Qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qo(e){if(je){var t=yt;if(t){var r=t;if(!Pu(e,t)){if(Qo(e))throw Error(i(418));t=_n(r.nextSibling);var s=xt;t&&Pu(e,t)?Fu(s,r):(e.flags=e.flags&-4097|2,je=!1,xt=e)}}else{if(Qo(e))throw Error(i(418));e.flags=e.flags&-4097|2,je=!1,xt=e}}}function Uu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function fi(e){if(e!==xt)return!1;if(!je)return Uu(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bo(e.type,e.memoizedProps)),t&&(t=yt)){if(Qo(e))throw Bu(),Error(i(418));for(;t;)Fu(e,t),t=_n(t.nextSibling)}if(Uu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yt=_n(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=xt?_n(e.stateNode.nextSibling):null;return!0}function Bu(){for(var e=yt;e;)e=_n(e.nextSibling)}function _r(){yt=xt=null,je=!1}function Jo(e){Lt===null?Lt=[e]:Lt.push(e)}var bp=B.ReactCurrentBatchConfig;function ps(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var o=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var x=o.refs;h===null?delete x[u]:x[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function di(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zu(e){var t=e._init;return t(e._payload)}function Vu(e){function t(I,w){if(e){var C=I.deletions;C===null?(I.deletions=[w],I.flags|=16):C.push(w)}}function r(I,w){if(!e)return null;for(;w!==null;)t(I,w),w=w.sibling;return null}function s(I,w){for(I=new Map;w!==null;)w.key!==null?I.set(w.key,w):I.set(w.index,w),w=w.sibling;return I}function o(I,w){return I=Un(I,w),I.index=0,I.sibling=null,I}function u(I,w,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<w?(I.flags|=2,w):C):(I.flags|=2,w)):(I.flags|=1048576,w)}function h(I){return e&&I.alternate===null&&(I.flags|=2),I}function x(I,w,C,W){return w===null||w.tag!==6?(w=Hl(C,I.mode,W),w.return=I,w):(w=o(w,C),w.return=I,w)}function v(I,w,C,W){var ie=C.type;return ie===y?U(I,w,C.props.children,W,C.key):w!==null&&(w.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ue&&zu(ie)===w.type)?(W=o(w,C.props),W.ref=ps(I,w,C),W.return=I,W):(W=Fi(C.type,C.key,C.props,null,I.mode,W),W.ref=ps(I,w,C),W.return=I,W)}function A(I,w,C,W){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Gl(C,I.mode,W),w.return=I,w):(w=o(w,C.children||[]),w.return=I,w)}function U(I,w,C,W,ie){return w===null||w.tag!==7?(w=sr(C,I.mode,W,ie),w.return=I,w):(w=o(w,C),w.return=I,w)}function V(I,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Hl(""+w,I.mode,C),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case F:return C=Fi(w.type,w.key,w.props,null,I.mode,C),C.ref=ps(I,null,w),C.return=I,C;case b:return w=Gl(w,I.mode,C),w.return=I,w;case ue:var W=w._init;return V(I,W(w._payload),C)}if(br(w)||Z(w))return w=sr(w,I.mode,C,null),w.return=I,w;di(I,w)}return null}function P(I,w,C,W){var ie=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return ie!==null?null:x(I,w,""+C,W);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case F:return C.key===ie?v(I,w,C,W):null;case b:return C.key===ie?A(I,w,C,W):null;case ue:return ie=C._init,P(I,w,ie(C._payload),W)}if(br(C)||Z(C))return ie!==null?null:U(I,w,C,W,null);di(I,C)}return null}function q(I,w,C,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number")return I=I.get(C)||null,x(w,I,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return I=I.get(W.key===null?C:W.key)||null,v(w,I,W,ie);case b:return I=I.get(W.key===null?C:W.key)||null,A(w,I,W,ie);case ue:var le=W._init;return q(I,w,C,le(W._payload),ie)}if(br(W)||Z(W))return I=I.get(C)||null,U(w,I,W,ie,null);di(w,W)}return null}function ne(I,w,C,W){for(var ie=null,le=null,ae=w,de=w=0,Qe=null;ae!==null&&de<C.length;de++){ae.index>de?(Qe=ae,ae=null):Qe=ae.sibling;var Te=P(I,ae,C[de],W);if(Te===null){ae===null&&(ae=Qe);break}e&&ae&&Te.alternate===null&&t(I,ae),w=u(Te,w,de),le===null?ie=Te:le.sibling=Te,le=Te,ae=Qe}if(de===C.length)return r(I,ae),je&&Qn(I,de),ie;if(ae===null){for(;de<C.length;de++)ae=V(I,C[de],W),ae!==null&&(w=u(ae,w,de),le===null?ie=ae:le.sibling=ae,le=ae);return je&&Qn(I,de),ie}for(ae=s(I,ae);de<C.length;de++)Qe=q(ae,I,de,C[de],W),Qe!==null&&(e&&Qe.alternate!==null&&ae.delete(Qe.key===null?de:Qe.key),w=u(Qe,w,de),le===null?ie=Qe:le.sibling=Qe,le=Qe);return e&&ae.forEach(function(Bn){return t(I,Bn)}),je&&Qn(I,de),ie}function se(I,w,C,W){var ie=Z(C);if(typeof ie!="function")throw Error(i(150));if(C=ie.call(C),C==null)throw Error(i(151));for(var le=ie=null,ae=w,de=w=0,Qe=null,Te=C.next();ae!==null&&!Te.done;de++,Te=C.next()){ae.index>de?(Qe=ae,ae=null):Qe=ae.sibling;var Bn=P(I,ae,Te.value,W);if(Bn===null){ae===null&&(ae=Qe);break}e&&ae&&Bn.alternate===null&&t(I,ae),w=u(Bn,w,de),le===null?ie=Bn:le.sibling=Bn,le=Bn,ae=Qe}if(Te.done)return r(I,ae),je&&Qn(I,de),ie;if(ae===null){for(;!Te.done;de++,Te=C.next())Te=V(I,Te.value,W),Te!==null&&(w=u(Te,w,de),le===null?ie=Te:le.sibling=Te,le=Te);return je&&Qn(I,de),ie}for(ae=s(I,ae);!Te.done;de++,Te=C.next())Te=q(ae,I,de,Te.value,W),Te!==null&&(e&&Te.alternate!==null&&ae.delete(Te.key===null?de:Te.key),w=u(Te,w,de),le===null?ie=Te:le.sibling=Te,le=Te);return e&&ae.forEach(function(Eh){return t(I,Eh)}),je&&Qn(I,de),ie}function be(I,w,C,W){if(typeof C=="object"&&C!==null&&C.type===y&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case F:e:{for(var ie=C.key,le=w;le!==null;){if(le.key===ie){if(ie=C.type,ie===y){if(le.tag===7){r(I,le.sibling),w=o(le,C.props.children),w.return=I,I=w;break e}}else if(le.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ue&&zu(ie)===le.type){r(I,le.sibling),w=o(le,C.props),w.ref=ps(I,le,C),w.return=I,I=w;break e}r(I,le);break}else t(I,le);le=le.sibling}C.type===y?(w=sr(C.props.children,I.mode,W,C.key),w.return=I,I=w):(W=Fi(C.type,C.key,C.props,null,I.mode,W),W.ref=ps(I,w,C),W.return=I,I=W)}return h(I);case b:e:{for(le=C.key;w!==null;){if(w.key===le)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){r(I,w.sibling),w=o(w,C.children||[]),w.return=I,I=w;break e}else{r(I,w);break}else t(I,w);w=w.sibling}w=Gl(C,I.mode,W),w.return=I,I=w}return h(I);case ue:return le=C._init,be(I,w,le(C._payload),W)}if(br(C))return ne(I,w,C,W);if(Z(C))return se(I,w,C,W);di(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(r(I,w.sibling),w=o(w,C),w.return=I,I=w):(r(I,w),w=Hl(C,I.mode,W),w.return=I,I=w),h(I)):r(I,w)}return be}var Cr=Vu(!0),bu=Vu(!1),pi=Cn(null),hi=null,Ar=null,Zo=null;function el(){Zo=Ar=hi=null}function tl(e){var t=pi.current;Oe(pi),e._currentValue=t}function nl(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Mr(e,t){hi=e,Zo=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(dt=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(Zo!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(hi===null)throw Error(i(308));Ar=e,hi.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var qn=null;function rl(e){qn===null?qn=[e]:qn.push(e)}function Hu(e,t,r,s){var o=t.interleaved;return o===null?(r.next=r,rl(t)):(r.next=o.next,o.next=r),t.interleaved=r,Zt(e,s)}function Zt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kn=!1;function sl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function en(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ve&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Zt(e,r)}return o=s.interleaved,o===null?(t.next=t,rl(s)):(t.next=o.next,o.next=t),s.interleaved=t,Zt(e,r)}function gi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,yo(e,r)}}function $u(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var o=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?o=u=h:u=u.next=h,r=r.next}while(r!==null);u===null?o=u=t:u=u.next=t}else o=u=t;r={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function mi(e,t,r,s){var o=e.updateQueue;kn=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var v=x,A=v.next;v.next=null,h===null?u=A:h.next=A,h=v;var U=e.alternate;U!==null&&(U=U.updateQueue,x=U.lastBaseUpdate,x!==h&&(x===null?U.firstBaseUpdate=A:x.next=A,U.lastBaseUpdate=v))}if(u!==null){var V=o.baseState;h=0,U=A=v=null,x=u;do{var P=x.lane,q=x.eventTime;if((s&P)===P){U!==null&&(U=U.next={eventTime:q,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var ne=e,se=x;switch(P=t,q=r,se.tag){case 1:if(ne=se.payload,typeof ne=="function"){V=ne.call(q,V,P);break e}V=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=se.payload,P=typeof ne=="function"?ne.call(q,V,P):ne,P==null)break e;V=J({},V,P);break e;case 2:kn=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,P=o.effects,P===null?o.effects=[x]:P.push(x))}else q={eventTime:q,lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},U===null?(A=U=q,v=V):U=U.next=q,h|=P;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;P=x,x=P.next,P.next=null,o.lastBaseUpdate=P,o.shared.pending=null}}while(!0);if(U===null&&(v=V),o.baseState=v,o.firstBaseUpdate=A,o.lastBaseUpdate=U,t=o.shared.interleaved,t!==null){o=t;do h|=o.lane,o=o.next;while(o!==t)}else u===null&&(o.shared.lanes=0);er|=h,e.lanes=h,e.memoizedState=V}}function Wu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=r,typeof o!="function")throw Error(i(191,o));o.call(s)}}}var hs={},Gt=Cn(hs),gs=Cn(hs),ms=Cn(hs);function Jn(e){if(e===hs)throw Error(i(174));return e}function il(e,t){switch(Ae(ms,t),Ae(gs,e),Ae(Gt,hs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=io(t,e)}Oe(Gt),Ae(Gt,t)}function kr(){Oe(Gt),Oe(gs),Oe(ms)}function Ku(e){Jn(ms.current);var t=Jn(Gt.current),r=io(t,e.type);t!==r&&(Ae(gs,e),Ae(Gt,r))}function ol(e){gs.current===e&&(Oe(Gt),Oe(gs))}var Le=Cn(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=[];function al(){for(var e=0;e<ll.length;e++)ll[e]._workInProgressVersionPrimary=null;ll.length=0}var yi=B.ReactCurrentDispatcher,ul=B.ReactCurrentBatchConfig,Zn=0,Fe=null,Ge=null,Xe=null,vi=!1,xs=!1,ys=0,Hp=0;function tt(){throw Error(i(321))}function cl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jt(e[r],t[r]))return!1;return!0}function fl(e,t,r,s,o,u){if(Zn=u,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yi.current=e===null||e.memoizedState===null?Kp:Xp,e=r(s,o),xs){u=0;do{if(xs=!1,ys=0,25<=u)throw Error(i(301));u+=1,Xe=Ge=null,t.updateQueue=null,yi.current=Yp,e=r(s,o)}while(xs)}if(yi.current=wi,t=Ge!==null&&Ge.next!==null,Zn=0,Xe=Ge=Fe=null,vi=!1,t)throw Error(i(300));return e}function dl(){var e=ys!==0;return ys=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Fe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Rt(){if(Ge===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=Xe===null?Fe.memoizedState:Xe.next;if(t!==null)Xe=t,Ge=e;else{if(e===null)throw Error(i(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Xe===null?Fe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function vs(e,t){return typeof t=="function"?t(e):t}function pl(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=Ge,o=s.baseQueue,u=r.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}s.baseQueue=o=u,r.pending=null}if(o!==null){u=o.next,s=s.baseState;var x=h=null,v=null,A=u;do{var U=A.lane;if((Zn&U)===U)v!==null&&(v=v.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),s=A.hasEagerState?A.eagerState:e(s,A.action);else{var V={lane:U,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};v===null?(x=v=V,h=s):v=v.next=V,Fe.lanes|=U,er|=U}A=A.next}while(A!==null&&A!==u);v===null?h=s:v.next=x,jt(s,t.memoizedState)||(dt=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=v,r.lastRenderedState=s}if(e=r.interleaved,e!==null){o=e;do u=o.lane,Fe.lanes|=u,er|=u,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hl(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,o=r.pending,u=t.memoizedState;if(o!==null){r.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);jt(u,t.memoizedState)||(dt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,s]}function Xu(){}function Yu(e,t){var r=Fe,s=Rt(),o=t(),u=!jt(s.memoizedState,o);if(u&&(s.memoizedState=o,dt=!0),s=s.queue,gl(Ju.bind(null,r,s,e),[e]),s.getSnapshot!==t||u||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,Ts(9,qu.bind(null,r,s,o,t),void 0,null),Ye===null)throw Error(i(349));(Zn&30)!==0||Qu(r,t,o)}return o}function Qu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qu(e,t,r,s){t.value=r,t.getSnapshot=s,Zu(t)&&ec(e)}function Ju(e,t,r){return r(function(){Zu(t)&&ec(e)})}function Zu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jt(e,r)}catch{return!0}}function ec(e){var t=Zt(e,1);t!==null&&Bt(t,e,1,-1)}function tc(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Wp.bind(null,Fe,e),[t.memoizedState,e]}function Ts(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function nc(){return Rt().memoizedState}function Ti(e,t,r,s){var o=$t();Fe.flags|=e,o.memoizedState=Ts(1|t,r,void 0,s===void 0?null:s)}function Ei(e,t,r,s){var o=Rt();s=s===void 0?null:s;var u=void 0;if(Ge!==null){var h=Ge.memoizedState;if(u=h.destroy,s!==null&&cl(s,h.deps)){o.memoizedState=Ts(t,r,u,s);return}}Fe.flags|=e,o.memoizedState=Ts(1|t,r,u,s)}function rc(e,t){return Ti(8390656,8,e,t)}function gl(e,t){return Ei(2048,8,e,t)}function sc(e,t){return Ei(4,2,e,t)}function ic(e,t){return Ei(4,4,e,t)}function oc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lc(e,t,r){return r=r!=null?r.concat([e]):null,Ei(4,4,oc.bind(null,t,e),r)}function ml(){}function ac(e,t){var r=Rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&cl(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function uc(e,t){var r=Rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&cl(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function cc(e,t,r){return(Zn&21)===0?(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=r):(jt(r,t)||(r=za(),Fe.lanes|=r,er|=r,e.baseState=!0),t)}function Gp(e,t){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var s=ul.transition;ul.transition={};try{e(!1),t()}finally{Se=r,ul.transition=s}}function fc(){return Rt().memoizedState}function $p(e,t,r){var s=Fn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},dc(e))pc(t,r);else if(r=Hu(e,t,r,s),r!==null){var o=ot();Bt(r,e,s,o),hc(r,t,s)}}function Wp(e,t,r){var s=Fn(e),o={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(dc(e))pc(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,x=u(h,r);if(o.hasEagerState=!0,o.eagerState=x,jt(x,h)){var v=t.interleaved;v===null?(o.next=o,rl(t)):(o.next=v.next,v.next=o),t.interleaved=o;return}}catch{}finally{}r=Hu(e,t,o,s),r!==null&&(o=ot(),Bt(r,e,s,o),hc(r,t,s))}}function dc(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function pc(e,t){xs=vi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hc(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,yo(e,r)}}var wi={readContext:St,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},Kp={readContext:St,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:rc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ti(4194308,4,oc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=$t();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=$p.bind(null,Fe,e),[s.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:tc,useDebugValue:ml,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=tc(!1),t=e[0];return e=Gp.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Fe,o=$t();if(je){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Ye===null)throw Error(i(349));(Zn&30)!==0||Qu(s,t,r)}o.memoizedState=r;var u={value:r,getSnapshot:t};return o.queue=u,rc(Ju.bind(null,s,u,e),[e]),s.flags|=2048,Ts(9,qu.bind(null,s,u,r,t),void 0,null),r},useId:function(){var e=$t(),t=Ye.identifierPrefix;if(je){var r=Jt,s=qt;r=(s&~(1<<32-Dt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=ys++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Hp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xp={readContext:St,useCallback:ac,useContext:St,useEffect:gl,useImperativeHandle:lc,useInsertionEffect:sc,useLayoutEffect:ic,useMemo:uc,useReducer:pl,useRef:nc,useState:function(){return pl(vs)},useDebugValue:ml,useDeferredValue:function(e){var t=Rt();return cc(t,Ge.memoizedState,e)},useTransition:function(){var e=pl(vs)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Xu,useSyncExternalStore:Yu,useId:fc,unstable_isNewReconciler:!1},Yp={readContext:St,useCallback:ac,useContext:St,useEffect:gl,useImperativeHandle:lc,useInsertionEffect:sc,useLayoutEffect:ic,useMemo:uc,useReducer:hl,useRef:nc,useState:function(){return hl(vs)},useDebugValue:ml,useDeferredValue:function(e){var t=Rt();return Ge===null?t.memoizedState=e:cc(t,Ge.memoizedState,e)},useTransition:function(){var e=hl(vs)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Xu,useSyncExternalStore:Yu,useId:fc,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:J({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Si={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ot(),o=Fn(e),u=en(s,o);u.payload=t,r!=null&&(u.callback=r),t=On(e,u,o),t!==null&&(Bt(t,e,o,s),gi(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ot(),o=Fn(e),u=en(s,o);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=On(e,u,o),t!==null&&(Bt(t,e,o,s),gi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ot(),s=Fn(e),o=en(r,s);o.tag=2,t!=null&&(o.callback=t),t=On(e,o,s),t!==null&&(Bt(t,e,s,r),gi(t,e,s))}};function gc(e,t,r,s,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!os(r,s)||!os(o,u):!0}function mc(e,t,r){var s=!1,o=An,u=t.contextType;return typeof u=="object"&&u!==null?u=St(u):(o=ft(t)?Xn:et.current,s=t.contextTypes,u=(s=s!=null)?Rr(e,o):An),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Si,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),t}function xc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Si.enqueueReplaceState(t,t.state,null)}function yl(e,t,r,s){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},sl(e);var u=t.contextType;typeof u=="object"&&u!==null?o.context=St(u):(u=ft(t)?Xn:et.current,o.context=Rr(e,u)),o.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(xl(e,t,u,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Si.enqueueReplaceState(o,o.state,null),mi(e,r,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var r="",s=t;do r+=ye(s),s=s.return;while(s);var o=r}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:o,digest:null}}function vl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Tl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Qp=typeof WeakMap=="function"?WeakMap:Map;function yc(e,t,r){r=en(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Mi||(Mi=!0,Ll=s),Tl(e,t)},r}function vc(e,t,r){r=en(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;r.payload=function(){return s(o)},r.callback=function(){Tl(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){Tl(e,t),typeof s!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function Tc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Qp;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(r)||(o.add(r),e=ch.bind(null,e,t,r),t.then(e,e))}function Ec(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wc(e,t,r,s,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=en(-1,1),t.tag=2,On(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var qp=B.ReactCurrentOwner,dt=!1;function it(e,t,r,s){t.child=e===null?bu(t,null,r,s):Cr(t,e.child,r,s)}function Sc(e,t,r,s,o){r=r.render;var u=t.ref;return Mr(t,o),s=fl(e,t,r,s,u,o),r=dl(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,tn(e,t,o)):(je&&r&&Xo(t),t.flags|=1,it(e,t,s,o),t.child)}function Rc(e,t,r,s,o){if(e===null){var u=r.type;return typeof u=="function"&&!bl(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,Nc(e,t,u,s,o)):(e=Fi(r.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&o)===0){var h=u.memoizedProps;if(r=r.compare,r=r!==null?r:os,r(h,s)&&e.ref===t.ref)return tn(e,t,o)}return t.flags|=1,e=Un(u,s),e.ref=t.ref,e.return=t,t.child=e}function Nc(e,t,r,s,o){if(e!==null){var u=e.memoizedProps;if(os(u,s)&&e.ref===t.ref)if(dt=!1,t.pendingProps=s=u,(e.lanes&o)!==0)(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,tn(e,t,o)}return El(e,t,r,s,o)}function Ic(e,t,r){var s=t.pendingProps,o=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(jr,vt),vt|=r;else{if((r&1073741824)===0)return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(jr,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:r,Ae(jr,vt),vt|=s}else u!==null?(s=u.baseLanes|r,t.memoizedState=null):s=r,Ae(jr,vt),vt|=s;return it(e,t,o,r),t.child}function _c(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,r,s,o){var u=ft(r)?Xn:et.current;return u=Rr(t,u),Mr(t,o),r=fl(e,t,r,s,u,o),s=dl(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,tn(e,t,o)):(je&&s&&Xo(t),t.flags|=1,it(e,t,r,o),t.child)}function Cc(e,t,r,s,o){if(ft(r)){var u=!0;li(t)}else u=!1;if(Mr(t,o),t.stateNode===null)Ni(e,t),mc(t,r,s),yl(t,r,s,o),s=!0;else if(e===null){var h=t.stateNode,x=t.memoizedProps;h.props=x;var v=h.context,A=r.contextType;typeof A=="object"&&A!==null?A=St(A):(A=ft(r)?Xn:et.current,A=Rr(t,A));var U=r.getDerivedStateFromProps,V=typeof U=="function"||typeof h.getSnapshotBeforeUpdate=="function";V||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x!==s||v!==A)&&xc(t,h,s,A),kn=!1;var P=t.memoizedState;h.state=P,mi(t,s,h,o),v=t.memoizedState,x!==s||P!==v||ct.current||kn?(typeof U=="function"&&(xl(t,r,U,s),v=t.memoizedState),(x=kn||gc(t,r,x,s,P,v,A))?(V||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=v),h.props=s,h.state=v,h.context=A,s=x):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Gu(e,t),x=t.memoizedProps,A=t.type===t.elementType?x:Ft(t.type,x),h.props=A,V=t.pendingProps,P=h.context,v=r.contextType,typeof v=="object"&&v!==null?v=St(v):(v=ft(r)?Xn:et.current,v=Rr(t,v));var q=r.getDerivedStateFromProps;(U=typeof q=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x!==V||P!==v)&&xc(t,h,s,v),kn=!1,P=t.memoizedState,h.state=P,mi(t,s,h,o);var ne=t.memoizedState;x!==V||P!==ne||ct.current||kn?(typeof q=="function"&&(xl(t,r,q,s),ne=t.memoizedState),(A=kn||gc(t,r,A,s,P,ne,v)||!1)?(U||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,ne,v),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,ne,v)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ne),h.props=s,h.state=ne,h.context=v,s=A):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),s=!1)}return wl(e,t,r,s,u,o)}function wl(e,t,r,s,o,u){_c(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return o&&Du(t,r,!1),tn(e,t,u);s=t.stateNode,qp.current=t;var x=h&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=Cr(t,e.child,null,u),t.child=Cr(t,null,x,u)):it(e,t,x,u),t.memoizedState=s.state,o&&Du(t,r,!0),t.child}function Ac(e){var t=e.stateNode;t.pendingContext?ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ku(e,t.context,!1),il(e,t.containerInfo)}function Mc(e,t,r,s,o){return _r(),Jo(o),t.flags|=256,it(e,t,r,s),t.child}var Sl={dehydrated:null,treeContext:null,retryLane:0};function Rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function kc(e,t,r){var s=t.pendingProps,o=Le.current,u=!1,h=(t.flags&128)!==0,x;if((x=h)||(x=e!==null&&e.memoizedState===null?!1:(o&2)!==0),x?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ae(Le,o&1),e===null)return qo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,u?(s=t.mode,u=t.child,h={mode:"hidden",children:h},(s&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=h):u=Pi(h,s,0,null),e=sr(e,s,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Rl(r),t.memoizedState=Sl,e):Nl(t,h));if(o=e.memoizedState,o!==null&&(x=o.dehydrated,x!==null))return Jp(e,t,h,s,x,o,r);if(u){u=s.fallback,h=t.mode,o=e.child,x=o.sibling;var v={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=v,t.deletions=null):(s=Un(o,v),s.subtreeFlags=o.subtreeFlags&14680064),x!==null?u=Un(x,u):(u=sr(u,h,r,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,h=e.child.memoizedState,h=h===null?Rl(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~r,t.memoizedState=Sl,s}return u=e.child,e=u.sibling,s=Un(u,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Nl(e,t){return t=Pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ri(e,t,r,s){return s!==null&&Jo(s),Cr(t,e.child,null,r),e=Nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jp(e,t,r,s,o,u,h){if(r)return t.flags&256?(t.flags&=-257,s=vl(Error(i(422))),Ri(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,o=t.mode,s=Pi({mode:"visible",children:s.children},o,0,null),u=sr(u,o,h,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,(t.mode&1)!==0&&Cr(t,e.child,null,h),t.child.memoizedState=Rl(h),t.memoizedState=Sl,u);if((t.mode&1)===0)return Ri(e,t,h,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var x=s.dgst;return s=x,u=Error(i(419)),s=vl(u,s,void 0),Ri(e,t,h,s)}if(x=(h&e.childLanes)!==0,dt||x){if(s=Ye,s!==null){switch(h&-h){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(s.suspendedLanes|h))!==0?0:o,o!==0&&o!==u.retryLane&&(u.retryLane=o,Zt(e,o),Bt(s,e,o,-1))}return Vl(),s=vl(Error(i(421))),Ri(e,t,h,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=fh.bind(null,e),o._reactRetry=t,null):(e=u.treeContext,yt=_n(o.nextSibling),xt=t,je=!0,Lt=null,e!==null&&(Et[wt++]=qt,Et[wt++]=Jt,Et[wt++]=Yn,qt=e.id,Jt=e.overflow,Yn=t),t=Nl(t,s.children),t.flags|=4096,t)}function Oc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),nl(e.return,t,r)}function Il(e,t,r,s,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=r,u.tailMode=o)}function Dc(e,t,r){var s=t.pendingProps,o=s.revealOrder,u=s.tail;if(it(e,t,s.children,r),s=Le.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oc(e,r,t);else if(e.tag===19)Oc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ae(Le,s),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&xi(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Il(t,!1,o,r,u);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xi(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Il(t,!0,r,null,u);break;case"together":Il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ni(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),er|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Un(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Un(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Zp(e,t,r){switch(t.tag){case 3:Ac(t),_r();break;case 5:Ku(t);break;case 1:ft(t.type)&&li(t);break;case 4:il(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;Ae(pi,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ae(Le,Le.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?kc(e,t,r):(Ae(Le,Le.current&1),e=tn(e,t,r),e!==null?e.sibling:null);Ae(Le,Le.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Dc(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ae(Le,Le.current),s)break;return null;case 22:case 23:return t.lanes=0,Ic(e,t,r)}return tn(e,t,r)}var jc,_l,Lc,Fc;jc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},_l=function(){},Lc=function(e,t,r,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,Jn(Gt.current);var u=null;switch(r){case"input":o=fr(e,o),s=fr(e,s),u=[];break;case"select":o=J({},o,{value:void 0}),s=J({},s,{value:void 0}),u=[];break;case"textarea":o=so(e,o),s=so(e,s),u=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=si)}oo(r,s);var h;r=null;for(A in o)if(!s.hasOwnProperty(A)&&o.hasOwnProperty(A)&&o[A]!=null)if(A==="style"){var x=o[A];for(h in x)x.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(l.hasOwnProperty(A)?u||(u=[]):(u=u||[]).push(A,null));for(A in s){var v=s[A];if(x=o?.[A],s.hasOwnProperty(A)&&v!==x&&(v!=null||x!=null))if(A==="style")if(x){for(h in x)!x.hasOwnProperty(h)||v&&v.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in v)v.hasOwnProperty(h)&&x[h]!==v[h]&&(r||(r={}),r[h]=v[h])}else r||(u||(u=[]),u.push(A,r)),r=v;else A==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,x=x?x.__html:void 0,v!=null&&x!==v&&(u=u||[]).push(A,v)):A==="children"?typeof v!="string"&&typeof v!="number"||(u=u||[]).push(A,""+v):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(l.hasOwnProperty(A)?(v!=null&&A==="onScroll"&&ke("scroll",e),u||x===v||(u=[])):(u=u||[]).push(A,v))}r&&(u=u||[]).push("style",r);var A=u;(t.updateQueue=A)&&(t.flags|=4)}},Fc=function(e,t,r,s){r!==s&&(t.flags|=4)};function Es(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function eh(e,t,r){var s=t.pendingProps;switch(Yo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return ft(t.type)&&oi(),nt(t),null;case 3:return s=t.stateNode,kr(),Oe(ct),Oe(et),al(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lt!==null&&(Ul(Lt),Lt=null))),_l(e,t),nt(t),null;case 5:ol(t);var o=Jn(ms.current);if(r=t.type,e!==null&&t.stateNode!=null)Lc(e,t,r,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return nt(t),null}if(e=Jn(Gt.current),fi(t)){s=t.stateNode,r=t.type;var u=t.memoizedProps;switch(s[Ht]=t,s[fs]=u,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(o=0;o<as.length;o++)ke(as[o],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ma(s,u),ke("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},ke("invalid",s);break;case"textarea":va(s,u),ke("invalid",s)}oo(r,u),o=null;for(var h in u)if(u.hasOwnProperty(h)){var x=u[h];h==="children"?typeof x=="string"?s.textContent!==x&&(u.suppressHydrationWarning!==!0&&ri(s.textContent,x,e),o=["children",x]):typeof x=="number"&&s.textContent!==""+x&&(u.suppressHydrationWarning!==!0&&ri(s.textContent,x,e),o=["children",""+x]):l.hasOwnProperty(h)&&x!=null&&h==="onScroll"&&ke("scroll",s)}switch(r){case"input":Ke(s),ya(s,u,!0);break;case"textarea":Ke(s),Ea(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=si)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wa(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(r,{is:s.is}):(e=h.createElement(r),r==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,r),e[Ht]=t,e[fs]=s,jc(e,t,!1,!1),t.stateNode=e;e:{switch(h=lo(r,s),r){case"dialog":ke("cancel",e),ke("close",e),o=s;break;case"iframe":case"object":case"embed":ke("load",e),o=s;break;case"video":case"audio":for(o=0;o<as.length;o++)ke(as[o],e);o=s;break;case"source":ke("error",e),o=s;break;case"img":case"image":case"link":ke("error",e),ke("load",e),o=s;break;case"details":ke("toggle",e),o=s;break;case"input":ma(e,s),o=fr(e,s),ke("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=J({},s,{value:void 0}),ke("invalid",e);break;case"textarea":va(e,s),o=so(e,s),ke("invalid",e);break;default:o=s}oo(r,o),x=o;for(u in x)if(x.hasOwnProperty(u)){var v=x[u];u==="style"?Na(e,v):u==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Sa(e,v)):u==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&Hr(e,v):typeof v=="number"&&Hr(e,""+v):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(l.hasOwnProperty(u)?v!=null&&u==="onScroll"&&ke("scroll",e):v!=null&&O(e,u,v,h))}switch(r){case"input":Ke(e),ya(e,s,!1);break;case"textarea":Ke(e),Ea(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ee(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?dr(e,!!s.multiple,u,!1):s.defaultValue!=null&&dr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=si)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)Fc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=Jn(ms.current),Jn(Gt.current),fi(t)){if(s=t.stateNode,r=t.memoizedProps,s[Ht]=t,(u=s.nodeValue!==r)&&(e=xt,e!==null))switch(e.tag){case 3:ri(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ri(s.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ht]=t,t.stateNode=s}return nt(t),null;case 13:if(Oe(Le),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&yt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Bu(),_r(),t.flags|=98560,u=!1;else if(u=fi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Ht]=t}else _r(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),u=!1}else Lt!==null&&(Ul(Lt),Lt=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Le.current&1)!==0?$e===0&&($e=3):Vl())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return kr(),_l(e,t),e===null&&us(t.stateNode.containerInfo),nt(t),null;case 10:return tl(t.type._context),nt(t),null;case 17:return ft(t.type)&&oi(),nt(t),null;case 19:if(Oe(Le),u=t.memoizedState,u===null)return nt(t),null;if(s=(t.flags&128)!==0,h=u.rendering,h===null)if(s)Es(u,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=xi(e),h!==null){for(t.flags|=128,Es(u,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)u=r,e=s,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ae(Le,Le.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ve()>Lr&&(t.flags|=128,s=!0,Es(u,!1),t.lanes=4194304)}else{if(!s)if(e=xi(h),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Es(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!je)return nt(t),null}else 2*Ve()-u.renderingStartTime>Lr&&r!==1073741824&&(t.flags|=128,s=!0,Es(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(r=u.last,r!==null?r.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ve(),t.sibling=null,r=Le.current,Ae(Le,s?r&1|2:r&1),t):(nt(t),null);case 22:case 23:return zl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(vt&1073741824)!==0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function th(e,t){switch(Yo(t),t.tag){case 1:return ft(t.type)&&oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kr(),Oe(ct),Oe(et),al(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ol(t),null;case 13:if(Oe(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));_r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Le),null;case 4:return kr(),null;case 10:return tl(t.type._context),null;case 22:case 23:return zl(),null;case 24:return null;default:return null}}var Ii=!1,rt=!1,nh=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Dr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ue(e,t,s)}else r.current=null}function Cl(e,t,r){try{r()}catch(s){Ue(e,t,s)}}var Pc=!1;function rh(e,t){if(zo=Ws,e=gu(),Oo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var h=0,x=-1,v=-1,A=0,U=0,V=e,P=null;t:for(;;){for(var q;V!==r||o!==0&&V.nodeType!==3||(x=h+o),V!==u||s!==0&&V.nodeType!==3||(v=h+s),V.nodeType===3&&(h+=V.nodeValue.length),(q=V.firstChild)!==null;)P=V,V=q;for(;;){if(V===e)break t;if(P===r&&++A===o&&(x=h),P===u&&++U===s&&(v=h),(q=V.nextSibling)!==null)break;V=P,P=V.parentNode}V=q}r=x===-1||v===-1?null:{start:x,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vo={focusedElem:e,selectionRange:r},Ws=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var ne=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var se=ne.memoizedProps,be=ne.memoizedState,I=t.stateNode,w=I.getSnapshotBeforeUpdate(t.elementType===t.type?se:Ft(t.type,se),be);I.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(W){Ue(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return ne=Pc,Pc=!1,ne}function ws(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&Cl(t,r,u)}o=o.next}while(o!==s)}}function _i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Al(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Uc(e){var t=e.alternate;t!==null&&(e.alternate=null,Uc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[fs],delete t[$o],delete t[Bp],delete t[zp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bc(e){return e.tag===5||e.tag===3||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ml(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=si));else if(s!==4&&(e=e.child,e!==null))for(Ml(e,t,r),e=e.sibling;e!==null;)Ml(e,t,r),e=e.sibling}function kl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(kl(e,t,r),e=e.sibling;e!==null;)kl(e,t,r),e=e.sibling}var qe=null,Pt=!1;function Dn(e,t,r){for(r=r.child;r!==null;)Vc(e,t,r),r=r.sibling}function Vc(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(zs,r)}catch{}switch(r.tag){case 5:rt||Dr(r,t);case 6:var s=qe,o=Pt;qe=null,Dn(e,t,r),qe=s,Pt=o,qe!==null&&(Pt?(e=qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qe.removeChild(r.stateNode));break;case 18:qe!==null&&(Pt?(e=qe,r=r.stateNode,e.nodeType===8?Go(e.parentNode,r):e.nodeType===1&&Go(e,r),es(e)):Go(qe,r.stateNode));break;case 4:s=qe,o=Pt,qe=r.stateNode.containerInfo,Pt=!0,Dn(e,t,r),qe=s,Pt=o;break;case 0:case 11:case 14:case 15:if(!rt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var u=o,h=u.destroy;u=u.tag,h!==void 0&&((u&2)!==0||(u&4)!==0)&&Cl(r,t,h),o=o.next}while(o!==s)}Dn(e,t,r);break;case 1:if(!rt&&(Dr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(x){Ue(r,t,x)}Dn(e,t,r);break;case 21:Dn(e,t,r);break;case 22:r.mode&1?(rt=(s=rt)||r.memoizedState!==null,Dn(e,t,r),rt=s):Dn(e,t,r);break;default:Dn(e,t,r)}}function bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nh),t.forEach(function(s){var o=dh.bind(null,e,s);r.has(s)||(r.add(s),s.then(o,o))})}}function Ut(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];try{var u=e,h=t,x=h;e:for(;x!==null;){switch(x.tag){case 5:qe=x.stateNode,Pt=!1;break e;case 3:qe=x.stateNode.containerInfo,Pt=!0;break e;case 4:qe=x.stateNode.containerInfo,Pt=!0;break e}x=x.return}if(qe===null)throw Error(i(160));Vc(u,h,o),qe=null,Pt=!1;var v=o.alternate;v!==null&&(v.return=null),o.return=null}catch(A){Ue(o,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hc(t,e),t=t.sibling}function Hc(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Wt(e),s&4){try{ws(3,e,e.return),_i(3,e)}catch(se){Ue(e,e.return,se)}try{ws(5,e,e.return)}catch(se){Ue(e,e.return,se)}}break;case 1:Ut(t,e),Wt(e),s&512&&r!==null&&Dr(r,r.return);break;case 5:if(Ut(t,e),Wt(e),s&512&&r!==null&&Dr(r,r.return),e.flags&32){var o=e.stateNode;try{Hr(o,"")}catch(se){Ue(e,e.return,se)}}if(s&4&&(o=e.stateNode,o!=null)){var u=e.memoizedProps,h=r!==null?r.memoizedProps:u,x=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{x==="input"&&u.type==="radio"&&u.name!=null&&xa(o,u),lo(x,h);var A=lo(x,u);for(h=0;h<v.length;h+=2){var U=v[h],V=v[h+1];U==="style"?Na(o,V):U==="dangerouslySetInnerHTML"?Sa(o,V):U==="children"?Hr(o,V):O(o,U,V,A)}switch(x){case"input":no(o,u);break;case"textarea":Ta(o,u);break;case"select":var P=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!u.multiple;var q=u.value;q!=null?dr(o,!!u.multiple,q,!1):P!==!!u.multiple&&(u.defaultValue!=null?dr(o,!!u.multiple,u.defaultValue,!0):dr(o,!!u.multiple,u.multiple?[]:"",!1))}o[fs]=u}catch(se){Ue(e,e.return,se)}}break;case 6:if(Ut(t,e),Wt(e),s&4){if(e.stateNode===null)throw Error(i(162));o=e.stateNode,u=e.memoizedProps;try{o.nodeValue=u}catch(se){Ue(e,e.return,se)}}break;case 3:if(Ut(t,e),Wt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(se){Ue(e,e.return,se)}break;case 4:Ut(t,e),Wt(e);break;case 13:Ut(t,e),Wt(e),o=e.child,o.flags&8192&&(u=o.memoizedState!==null,o.stateNode.isHidden=u,!u||o.alternate!==null&&o.alternate.memoizedState!==null||(jl=Ve())),s&4&&bc(e);break;case 22:if(U=r!==null&&r.memoizedState!==null,e.mode&1?(rt=(A=rt)||U,Ut(t,e),rt=A):Ut(t,e),Wt(e),s&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!U&&(e.mode&1)!==0)for(ee=e,U=e.child;U!==null;){for(V=ee=U;ee!==null;){switch(P=ee,q=P.child,P.tag){case 0:case 11:case 14:case 15:ws(4,P,P.return);break;case 1:Dr(P,P.return);var ne=P.stateNode;if(typeof ne.componentWillUnmount=="function"){s=P,r=P.return;try{t=s,ne.props=t.memoizedProps,ne.state=t.memoizedState,ne.componentWillUnmount()}catch(se){Ue(s,r,se)}}break;case 5:Dr(P,P.return);break;case 22:if(P.memoizedState!==null){Wc(V);continue}}q!==null?(q.return=P,ee=q):Wc(V)}U=U.sibling}e:for(U=null,V=e;;){if(V.tag===5){if(U===null){U=V;try{o=V.stateNode,A?(u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(x=V.stateNode,v=V.memoizedProps.style,h=v!=null&&v.hasOwnProperty("display")?v.display:null,x.style.display=Ra("display",h))}catch(se){Ue(e,e.return,se)}}}else if(V.tag===6){if(U===null)try{V.stateNode.nodeValue=A?"":V.memoizedProps}catch(se){Ue(e,e.return,se)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;U===V&&(U=null),V=V.return}U===V&&(U=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Ut(t,e),Wt(e),s&4&&bc(e);break;case 21:break;default:Ut(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bc(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(Hr(o,""),s.flags&=-33);var u=zc(e);kl(e,u,o);break;case 3:case 4:var h=s.stateNode.containerInfo,x=zc(e);Ml(e,x,h);break;default:throw Error(i(161))}}catch(v){Ue(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sh(e,t,r){ee=e,Gc(e)}function Gc(e,t,r){for(var s=(e.mode&1)!==0;ee!==null;){var o=ee,u=o.child;if(o.tag===22&&s){var h=o.memoizedState!==null||Ii;if(!h){var x=o.alternate,v=x!==null&&x.memoizedState!==null||rt;x=Ii;var A=rt;if(Ii=h,(rt=v)&&!A)for(ee=o;ee!==null;)h=ee,v=h.child,h.tag===22&&h.memoizedState!==null?Kc(o):v!==null?(v.return=h,ee=v):Kc(o);for(;u!==null;)ee=u,Gc(u),u=u.sibling;ee=o,Ii=x,rt=A}$c(e)}else(o.subtreeFlags&8772)!==0&&u!==null?(u.return=o,ee=u):$c(e)}}function $c(e){for(;ee!==null;){var t=ee;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rt||_i(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!rt)if(r===null)s.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Ft(t.type,r.memoizedProps);s.componentDidUpdate(o,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Wu(t,u,s);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wu(t,h,r)}break;case 5:var x=t.stateNode;if(r===null&&t.flags&4){r=x;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var U=A.memoizedState;if(U!==null){var V=U.dehydrated;V!==null&&es(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}rt||t.flags&512&&Al(t)}catch(P){Ue(t,t.return,P)}}if(t===e){ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,ee=r;break}ee=t.return}}function Wc(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ee=r;break}ee=t.return}}function Kc(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_i(4,t)}catch(v){Ue(t,r,v)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(v){Ue(t,o,v)}}var u=t.return;try{Al(t)}catch(v){Ue(t,u,v)}break;case 5:var h=t.return;try{Al(t)}catch(v){Ue(t,h,v)}}}catch(v){Ue(t,t.return,v)}if(t===e){ee=null;break}var x=t.sibling;if(x!==null){x.return=t.return,ee=x;break}ee=t.return}}var ih=Math.ceil,Ci=B.ReactCurrentDispatcher,Ol=B.ReactCurrentOwner,Nt=B.ReactCurrentBatchConfig,ve=0,Ye=null,He=null,Je=0,vt=0,jr=Cn(0),$e=0,Ss=null,er=0,Ai=0,Dl=0,Rs=null,pt=null,jl=0,Lr=1/0,nn=null,Mi=!1,Ll=null,jn=null,ki=!1,Ln=null,Oi=0,Ns=0,Fl=null,Di=-1,ji=0;function ot(){return(ve&6)!==0?Ve():Di!==-1?Di:Di=Ve()}function Fn(e){return(e.mode&1)===0?1:(ve&2)!==0&&Je!==0?Je&-Je:bp.transition!==null?(ji===0&&(ji=za()),ji):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Ya(e.type)),e)}function Bt(e,t,r,s){if(50<Ns)throw Ns=0,Fl=null,Error(i(185));Yr(e,r,s),((ve&2)===0||e!==Ye)&&(e===Ye&&((ve&2)===0&&(Ai|=r),$e===4&&Pn(e,Je)),ht(e,s),r===1&&ve===0&&(t.mode&1)===0&&(Lr=Ve()+500,ai&&Mn()))}function ht(e,t){var r=e.callbackNode;bd(e,t);var s=Hs(e,e===Ye?Je:0);if(s===0)r!==null&&Pa(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Pa(r),t===1)e.tag===0?Vp(Yc.bind(null,e)):ju(Yc.bind(null,e)),Pp(function(){(ve&6)===0&&Mn()}),r=null;else{switch(Va(s)){case 1:r=go;break;case 4:r=Ua;break;case 16:r=Bs;break;case 536870912:r=Ba;break;default:r=Bs}r=rf(r,Xc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Xc(e,t){if(Di=-1,ji=0,(ve&6)!==0)throw Error(i(327));var r=e.callbackNode;if(Fr()&&e.callbackNode!==r)return null;var s=Hs(e,e===Ye?Je:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Li(e,s);else{t=s;var o=ve;ve|=2;var u=qc();(Ye!==e||Je!==t)&&(nn=null,Lr=Ve()+500,nr(e,t));do try{ah();break}catch(x){Qc(e,x)}while(!0);el(),Ci.current=u,ve=o,He!==null?t=0:(Ye=null,Je=0,t=$e)}if(t!==0){if(t===2&&(o=mo(e),o!==0&&(s=o,t=Pl(e,o))),t===1)throw r=Ss,nr(e,0),Pn(e,s),ht(e,Ve()),r;if(t===6)Pn(e,s);else{if(o=e.current.alternate,(s&30)===0&&!oh(o)&&(t=Li(e,s),t===2&&(u=mo(e),u!==0&&(s=u,t=Pl(e,u))),t===1))throw r=Ss,nr(e,0),Pn(e,s),ht(e,Ve()),r;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:rr(e,pt,nn);break;case 3:if(Pn(e,s),(s&130023424)===s&&(t=jl+500-Ve(),10<t)){if(Hs(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){ot(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ho(rr.bind(null,e,pt,nn),t);break}rr(e,pt,nn);break;case 4:if(Pn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var h=31-Dt(s);u=1<<h,h=t[h],h>o&&(o=h),s&=~u}if(s=o,s=Ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ih(s/1960))-s,10<s){e.timeoutHandle=Ho(rr.bind(null,e,pt,nn),s);break}rr(e,pt,nn);break;case 5:rr(e,pt,nn);break;default:throw Error(i(329))}}}return ht(e,Ve()),e.callbackNode===r?Xc.bind(null,e):null}function Pl(e,t){var r=Rs;return e.current.memoizedState.isDehydrated&&(nr(e,t).flags|=256),e=Li(e,t),e!==2&&(t=pt,pt=r,t!==null&&Ul(t)),e}function Ul(e){pt===null?pt=e:pt.push.apply(pt,e)}function oh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var o=r[s],u=o.getSnapshot;o=o.value;try{if(!jt(u(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Dl,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dt(t),s=1<<r;e[r]=-1,t&=~s}}function Yc(e){if((ve&6)!==0)throw Error(i(327));Fr();var t=Hs(e,0);if((t&1)===0)return ht(e,Ve()),null;var r=Li(e,t);if(e.tag!==0&&r===2){var s=mo(e);s!==0&&(t=s,r=Pl(e,s))}if(r===1)throw r=Ss,nr(e,0),Pn(e,t),ht(e,Ve()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,pt,nn),ht(e,Ve()),null}function Bl(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(Lr=Ve()+500,ai&&Mn())}}function tr(e){Ln!==null&&Ln.tag===0&&(ve&6)===0&&Fr();var t=ve;ve|=1;var r=Nt.transition,s=Se;try{if(Nt.transition=null,Se=1,e)return e()}finally{Se=s,Nt.transition=r,ve=t,(ve&6)===0&&Mn()}}function zl(){vt=jr.current,Oe(jr)}function nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fp(r)),He!==null)for(r=He.return;r!==null;){var s=r;switch(Yo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&oi();break;case 3:kr(),Oe(ct),Oe(et),al();break;case 5:ol(s);break;case 4:kr();break;case 13:Oe(Le);break;case 19:Oe(Le);break;case 10:tl(s.type._context);break;case 22:case 23:zl()}r=r.return}if(Ye=e,He=e=Un(e.current,null),Je=vt=t,$e=0,Ss=null,Dl=Ai=er=0,pt=Rs=null,qn!==null){for(t=0;t<qn.length;t++)if(r=qn[t],s=r.interleaved,s!==null){r.interleaved=null;var o=s.next,u=r.pending;if(u!==null){var h=u.next;u.next=o,s.next=h}r.pending=s}qn=null}return e}function Qc(e,t){do{var r=He;try{if(el(),yi.current=wi,vi){for(var s=Fe.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}vi=!1}if(Zn=0,Xe=Ge=Fe=null,xs=!1,ys=0,Ol.current=null,r===null||r.return===null){$e=1,Ss=t,He=null;break}e:{var u=e,h=r.return,x=r,v=t;if(t=Je,x.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var A=v,U=x,V=U.tag;if((U.mode&1)===0&&(V===0||V===11||V===15)){var P=U.alternate;P?(U.updateQueue=P.updateQueue,U.memoizedState=P.memoizedState,U.lanes=P.lanes):(U.updateQueue=null,U.memoizedState=null)}var q=Ec(h);if(q!==null){q.flags&=-257,wc(q,h,x,u,t),q.mode&1&&Tc(u,A,t),t=q,v=A;var ne=t.updateQueue;if(ne===null){var se=new Set;se.add(v),t.updateQueue=se}else ne.add(v);break e}else{if((t&1)===0){Tc(u,A,t),Vl();break e}v=Error(i(426))}}else if(je&&x.mode&1){var be=Ec(h);if(be!==null){(be.flags&65536)===0&&(be.flags|=256),wc(be,h,x,u,t),Jo(Or(v,x));break e}}u=v=Or(v,x),$e!==4&&($e=2),Rs===null?Rs=[u]:Rs.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var I=yc(u,v,t);$u(u,I);break e;case 1:x=v;var w=u.type,C=u.stateNode;if((u.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(jn===null||!jn.has(C)))){u.flags|=65536,t&=-t,u.lanes|=t;var W=vc(u,x,t);$u(u,W);break e}}u=u.return}while(u!==null)}Zc(r)}catch(ie){t=ie,He===r&&r!==null&&(He=r=r.return);continue}break}while(!0)}function qc(){var e=Ci.current;return Ci.current=wi,e===null?wi:e}function Vl(){($e===0||$e===3||$e===2)&&($e=4),Ye===null||(er&268435455)===0&&(Ai&268435455)===0||Pn(Ye,Je)}function Li(e,t){var r=ve;ve|=2;var s=qc();(Ye!==e||Je!==t)&&(nn=null,nr(e,t));do try{lh();break}catch(o){Qc(e,o)}while(!0);if(el(),ve=r,Ci.current=s,He!==null)throw Error(i(261));return Ye=null,Je=0,$e}function lh(){for(;He!==null;)Jc(He)}function ah(){for(;He!==null&&!Dd();)Jc(He)}function Jc(e){var t=nf(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Zc(e):He=t,Ol.current=null}function Zc(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=eh(r,t,vt),r!==null){He=r;return}}else{if(r=th(r,t),r!==null){r.flags&=32767,He=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,He=null;return}}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);$e===0&&($e=5)}function rr(e,t,r){var s=Se,o=Nt.transition;try{Nt.transition=null,Se=1,uh(e,t,r,s)}finally{Nt.transition=o,Se=s}return null}function uh(e,t,r,s){do Fr();while(Ln!==null);if((ve&6)!==0)throw Error(i(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(Hd(e,u),e===Ye&&(He=Ye=null,Je=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ki||(ki=!0,rf(Bs,function(){return Fr(),null})),u=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||u){u=Nt.transition,Nt.transition=null;var h=Se;Se=1;var x=ve;ve|=4,Ol.current=null,rh(e,r),Hc(r,e),Ap(Vo),Ws=!!zo,Vo=zo=null,e.current=r,sh(r),jd(),ve=x,Se=h,Nt.transition=u}else e.current=r;if(ki&&(ki=!1,Ln=e,Oi=o),u=e.pendingLanes,u===0&&(jn=null),Pd(r.stateNode),ht(e,Ve()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],s(o.value,{componentStack:o.stack,digest:o.digest});if(Mi)throw Mi=!1,e=Ll,Ll=null,e;return(Oi&1)!==0&&e.tag!==0&&Fr(),u=e.pendingLanes,(u&1)!==0?e===Fl?Ns++:(Ns=0,Fl=e):Ns=0,Mn(),null}function Fr(){if(Ln!==null){var e=Va(Oi),t=Nt.transition,r=Se;try{if(Nt.transition=null,Se=16>e?16:e,Ln===null)var s=!1;else{if(e=Ln,Ln=null,Oi=0,(ve&6)!==0)throw Error(i(331));var o=ve;for(ve|=4,ee=e.current;ee!==null;){var u=ee,h=u.child;if((ee.flags&16)!==0){var x=u.deletions;if(x!==null){for(var v=0;v<x.length;v++){var A=x[v];for(ee=A;ee!==null;){var U=ee;switch(U.tag){case 0:case 11:case 15:ws(8,U,u)}var V=U.child;if(V!==null)V.return=U,ee=V;else for(;ee!==null;){U=ee;var P=U.sibling,q=U.return;if(Uc(U),U===A){ee=null;break}if(P!==null){P.return=q,ee=P;break}ee=q}}}var ne=u.alternate;if(ne!==null){var se=ne.child;if(se!==null){ne.child=null;do{var be=se.sibling;se.sibling=null,se=be}while(se!==null)}}ee=u}}if((u.subtreeFlags&2064)!==0&&h!==null)h.return=u,ee=h;else e:for(;ee!==null;){if(u=ee,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:ws(9,u,u.return)}var I=u.sibling;if(I!==null){I.return=u.return,ee=I;break e}ee=u.return}}var w=e.current;for(ee=w;ee!==null;){h=ee;var C=h.child;if((h.subtreeFlags&2064)!==0&&C!==null)C.return=h,ee=C;else e:for(h=w;ee!==null;){if(x=ee,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:_i(9,x)}}catch(ie){Ue(x,x.return,ie)}if(x===h){ee=null;break e}var W=x.sibling;if(W!==null){W.return=x.return,ee=W;break e}ee=x.return}}if(ve=o,Mn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(zs,e)}catch{}s=!0}return s}finally{Se=r,Nt.transition=t}}return!1}function ef(e,t,r){t=Or(r,t),t=yc(e,t,1),e=On(e,t,1),t=ot(),e!==null&&(Yr(e,1,t),ht(e,t))}function Ue(e,t,r){if(e.tag===3)ef(e,e,r);else for(;t!==null;){if(t.tag===3){ef(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(jn===null||!jn.has(s))){e=Or(r,e),e=vc(t,e,1),t=On(t,e,1),e=ot(),t!==null&&(Yr(t,1,e),ht(t,e));break}}t=t.return}}function ch(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&r,Ye===e&&(Je&r)===r&&($e===4||$e===3&&(Je&130023424)===Je&&500>Ve()-jl?nr(e,0):Dl|=r),ht(e,t)}function tf(e,t){t===0&&((e.mode&1)===0?t=1:(t=bs,bs<<=1,(bs&130023424)===0&&(bs=4194304)));var r=ot();e=Zt(e,t),e!==null&&(Yr(e,t,r),ht(e,r))}function fh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tf(e,r)}function dh(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),tf(e,r)}var nf;nf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)dt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return dt=!1,Zp(e,t,r);dt=(e.flags&131072)!==0}else dt=!1,je&&(t.flags&1048576)!==0&&Lu(t,ci,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ni(e,t),e=t.pendingProps;var o=Rr(t,et.current);Mr(t,r),o=fl(null,t,s,e,o,r);var u=dl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(s)?(u=!0,li(t)):u=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,sl(t),o.updater=Si,t.stateNode=o,o._reactInternals=t,yl(t,s,e,r),t=wl(null,t,s,!0,u,r)):(t.tag=0,je&&u&&Xo(t),it(null,t,o,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Ni(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=hh(s),e=Ft(s,e),o){case 0:t=El(null,t,s,e,r);break e;case 1:t=Cc(null,t,s,e,r);break e;case 11:t=Sc(null,t,s,e,r);break e;case 14:t=Rc(null,t,s,Ft(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ft(s,o),El(e,t,s,o,r);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ft(s,o),Cc(e,t,s,o,r);case 3:e:{if(Ac(t),e===null)throw Error(i(387));s=t.pendingProps,u=t.memoizedState,o=u.element,Gu(e,t),mi(t,s,null,r);var h=t.memoizedState;if(s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){o=Or(Error(i(423)),t),t=Mc(e,t,s,r,o);break e}else if(s!==o){o=Or(Error(i(424)),t),t=Mc(e,t,s,r,o);break e}else for(yt=_n(t.stateNode.containerInfo.firstChild),xt=t,je=!0,Lt=null,r=bu(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_r(),s===o){t=tn(e,t,r);break e}it(e,t,s,r)}t=t.child}return t;case 5:return Ku(t),e===null&&qo(t),s=t.type,o=t.pendingProps,u=e!==null?e.memoizedProps:null,h=o.children,bo(s,o)?h=null:u!==null&&bo(s,u)&&(t.flags|=32),_c(e,t),it(e,t,h,r),t.child;case 6:return e===null&&qo(t),null;case 13:return kc(e,t,r);case 4:return il(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Cr(t,null,s,r):it(e,t,s,r),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ft(s,o),Sc(e,t,s,o,r);case 7:return it(e,t,t.pendingProps,r),t.child;case 8:return it(e,t,t.pendingProps.children,r),t.child;case 12:return it(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,u=t.memoizedProps,h=o.value,Ae(pi,s._currentValue),s._currentValue=h,u!==null)if(jt(u.value,h)){if(u.children===o.children&&!ct.current){t=tn(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var x=u.dependencies;if(x!==null){h=u.child;for(var v=x.firstContext;v!==null;){if(v.context===s){if(u.tag===1){v=en(-1,r&-r),v.tag=2;var A=u.updateQueue;if(A!==null){A=A.shared;var U=A.pending;U===null?v.next=v:(v.next=U.next,U.next=v),A.pending=v}}u.lanes|=r,v=u.alternate,v!==null&&(v.lanes|=r),nl(u.return,r,t),x.lanes|=r;break}v=v.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(i(341));h.lanes|=r,x=h.alternate,x!==null&&(x.lanes|=r),nl(h,r,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}it(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Mr(t,r),o=St(o),s=s(o),t.flags|=1,it(e,t,s,r),t.child;case 14:return s=t.type,o=Ft(s,t.pendingProps),o=Ft(s.type,o),Rc(e,t,s,o,r);case 15:return Nc(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ft(s,o),Ni(e,t),t.tag=1,ft(s)?(e=!0,li(t)):e=!1,Mr(t,r),mc(t,s,o),yl(t,s,o,r),wl(null,t,s,!0,e,r);case 19:return Dc(e,t,r);case 22:return Ic(e,t,r)}throw Error(i(156,t.tag))};function rf(e,t){return Fa(e,t)}function ph(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,r,s){return new ph(e,t,r,s)}function bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hh(e){if(typeof e=="function")return bl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===te)return 11;if(e===oe)return 14}return 2}function Un(e,t){var r=e.alternate;return r===null?(r=It(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fi(e,t,r,s,o,u){var h=2;if(s=e,typeof e=="function")bl(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case y:return sr(r.children,o,u,t);case k:h=8,o|=8;break;case z:return e=It(12,r,t,o|2),e.elementType=z,e.lanes=u,e;case Q:return e=It(13,r,t,o),e.elementType=Q,e.lanes=u,e;case ce:return e=It(19,r,t,o),e.elementType=ce,e.lanes=u,e;case fe:return Pi(r,o,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:h=10;break e;case re:h=9;break e;case te:h=11;break e;case oe:h=14;break e;case ue:h=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=It(h,r,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function sr(e,t,r,s){return e=It(7,e,s,t),e.lanes=r,e}function Pi(e,t,r,s){return e=It(22,e,s,t),e.elementType=fe,e.lanes=r,e.stateNode={isHidden:!1},e}function Hl(e,t,r){return e=It(6,e,null,t),e.lanes=r,e}function Gl(e,t,r){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gh(e,t,r,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xo(0),this.expirationTimes=xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $l(e,t,r,s,o,u,h,x,v){return e=new gh(e,t,r,x,v),t===1?(t=1,u===!0&&(t|=8)):t=0,u=It(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sl(u),e}function mh(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function sf(e){if(!e)return An;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(ft(r))return Ou(e,r,t)}return t}function of(e,t,r,s,o,u,h,x,v){return e=$l(r,s,!0,e,o,u,h,x,v),e.context=sf(null),r=e.current,s=ot(),o=Fn(r),u=en(s,o),u.callback=t??null,On(r,u,o),e.current.lanes=o,Yr(e,o,s),ht(e,s),e}function Ui(e,t,r,s){var o=t.current,u=ot(),h=Fn(o);return r=sf(r),t.context===null?t.context=r:t.pendingContext=r,t=en(u,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=On(o,t,h),e!==null&&(Bt(e,o,h,u),gi(e,o,h)),h}function Bi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wl(e,t){lf(e,t),(e=e.alternate)&&lf(e,t)}function xh(){return null}var af=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}zi.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Ui(e,t,null,null)},zi.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tr(function(){Ui(null,e,null,null)}),t[Yt]=null}};function zi(e){this._internalRoot=e}zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ga();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rn.length&&t!==0&&t<Rn[r].priority;r++);Rn.splice(r,0,e),r===0&&Ka(e)}};function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uf(){}function yh(e,t,r,s,o){if(o){if(typeof s=="function"){var u=s;s=function(){var A=Bi(h);u.call(A)}}var h=of(t,s,e,0,null,!1,!1,"",uf);return e._reactRootContainer=h,e[Yt]=h.current,us(e.nodeType===8?e.parentNode:e),tr(),h}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var x=s;s=function(){var A=Bi(v);x.call(A)}}var v=$l(e,0,!1,null,null,!1,!1,"",uf);return e._reactRootContainer=v,e[Yt]=v.current,us(e.nodeType===8?e.parentNode:e),tr(function(){Ui(t,v,r,s)}),v}function bi(e,t,r,s,o){var u=r._reactRootContainer;if(u){var h=u;if(typeof o=="function"){var x=o;o=function(){var v=Bi(h);x.call(v)}}Ui(t,h,e,o)}else h=yh(r,t,e,o,s);return Bi(h)}ba=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xr(t.pendingLanes);r!==0&&(yo(t,r|1),ht(t,Ve()),(ve&6)===0&&(Lr=Ve()+500,Mn()))}break;case 13:tr(function(){var s=Zt(e,1);if(s!==null){var o=ot();Bt(s,e,1,o)}}),Wl(e,1)}},vo=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var r=ot();Bt(t,e,134217728,r)}Wl(e,134217728)}},Ha=function(e){if(e.tag===13){var t=Fn(e),r=Zt(e,t);if(r!==null){var s=ot();Bt(r,e,t,s)}Wl(e,t)}},Ga=function(){return Se},$a=function(e,t){var r=Se;try{return Se=e,t()}finally{Se=r}},co=function(e,t,r){switch(t){case"input":if(no(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var o=ii(s);if(!o)throw Error(i(90));$n(s),no(s,o)}}}break;case"textarea":Ta(e,r);break;case"select":t=r.value,t!=null&&dr(e,!!r.multiple,t,!1)}},Aa=Bl,Ma=tr;var vh={usingClientEntryPoint:!1,Events:[ds,wr,ii,_a,Ca,Bl]},Is={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Th={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ja(e),e===null?null:e.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||xh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hi.isDisabled&&Hi.supportsFiber)try{zs=Hi.inject(Th),bt=Hi}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vh,gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xl(t))throw Error(i(200));return mh(e,t,null,r)},gt.createRoot=function(e,t){if(!Xl(e))throw Error(i(299));var r=!1,s="",o=af;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=$l(e,1,!1,null,null,r,!1,s,o),e[Yt]=t.current,us(e.nodeType===8?e.parentNode:e),new Kl(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=ja(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return tr(e)},gt.hydrate=function(e,t,r){if(!Vi(t))throw Error(i(200));return bi(null,e,t,!0,r)},gt.hydrateRoot=function(e,t,r){if(!Xl(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,o=!1,u="",h=af;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=of(t,null,e,1,r??null,o,!1,u,h),e[Yt]=t.current,us(e),s)for(e=0;e<s.length;e++)r=s[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new zi(t)},gt.render=function(e,t,r){if(!Vi(t))throw Error(i(200));return bi(null,e,t,!1,r)},gt.unmountComponentAtNode=function(e){if(!Vi(e))throw Error(i(40));return e._reactRootContainer?(tr(function(){bi(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},gt.unstable_batchedUpdates=Bl,gt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Vi(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return bi(e,t,r,!1,s)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var xf;function Ch(){if(xf)return ql.exports;xf=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(n){console.error(n)}}return f(),ql.exports=_h(),ql.exports}var yf;function Ah(){if(yf)return Gi;yf=1;var f=Ch();return Gi.createRoot=f.createRoot,Gi.hydrateRoot=f.hydrateRoot,Gi}var Mh=Ah();const Zi={p1056bc00:"M5.07692 8C5.07692 7.52431 5.10338 7.06092 5.152 6.61538H3.11569C2.85908 7.52063 2.85908 8.47937 3.11569 9.38462H5.15262C5.10262 8.92476 5.07736 8.46256 5.07692 8ZM6.23323 10.3077C6.34769 10.8431 6.50031 11.3231 6.68062 11.7292C6.888 12.1951 7.12308 12.5428 7.36 12.7686C7.59446 12.992 7.81046 13.0769 8 13.0769C8.18954 13.0769 8.40554 12.992 8.64 12.7686C8.87692 12.5428 9.112 12.1951 9.31938 11.7286C9.49969 11.3225 9.65169 10.8425 9.76677 10.3077H6.23323ZM3.47815 10.3077C4.04681 11.419 5.00413 12.2826 6.168 12.7342C6.04445 12.5314 5.93407 12.3209 5.83754 12.104C5.60677 11.584 5.42154 10.976 5.29169 10.3077H3.47815ZM10.7089 10.3077C10.5785 10.976 10.3932 11.584 10.1625 12.104C10.0657 12.3209 9.95514 12.5314 9.83138 12.7342C10.9955 12.2827 11.953 11.4192 12.5218 10.3077H10.7089ZM9.83077 3.26523C9.95097 3.46051 10.0613 3.67077 10.1618 3.896C10.3926 4.416 10.5778 5.024 10.7077 5.69231H12.5212C11.9521 4.58096 10.9947 3.71729 9.83077 3.26523ZM8 2.92308C7.81046 2.92308 7.59446 3.008 7.36 3.23138C7.12308 3.45723 6.888 3.80554 6.68062 4.27138C6.50031 4.67754 6.34831 5.15754 6.23323 5.69231H9.76677C9.66596 5.20459 9.51607 4.72832 9.31938 4.27077C9.112 3.80554 8.87692 3.45723 8.64 3.23138C8.40554 3.008 8.18954 2.92308 8 2.92308ZM6.168 3.26523C5.00456 3.71754 4.04762 4.58119 3.47877 5.69231H5.29169C5.42092 5.024 5.60677 4.416 5.83754 3.896C5.93805 3.67036 6.04821 3.4601 6.168 3.26523ZM6 8C6 8.48123 6.02892 8.94523 6.08123 9.38462H9.91877C9.97108 8.94523 10 8.48123 10 8C10 7.51877 9.97108 7.05477 9.91877 6.61538H6.08123C6.02678 7.07491 5.99965 7.53726 6 8ZM10.9231 8C10.9231 8.47569 10.8966 8.93908 10.848 9.38462H12.8837C13.1403 8.47937 13.1403 7.52063 12.8837 6.61538H10.848C10.8972 7.06092 10.9231 7.52431 10.9231 8ZM14 8C14 11.3138 11.3138 14 8 14C4.68615 14 2 11.3138 2 8C2 4.68615 4.68615 2 8 2C11.3138 2 14 4.68615 14 8Z",p15722080:"M4.00029 4.08525L4 10.5C4 11.8255 5.03154 12.91 6.33562 12.9947L6.5 13L10.9144 13.0007C10.7083 13.5829 10.1528 14 9.5 14H6C4.34315 14 3 12.6569 3 11V5.5C3 4.84678 3.41754 4.29109 4.00029 4.08525ZM11.5 2C12.3284 2 13 2.67157 13 3.5V10.5C13 11.3284 12.3284 12 11.5 12H6.5C5.67157 12 5 11.3284 5 10.5V3.5C5 2.67157 5.67157 2 6.5 2H11.5ZM11.5 3H6.5C6.22386 3 6 3.22386 6 3.5V10.5C6 10.7761 6.22386 11 6.5 11H11.5C11.7761 11 12 10.7761 12 10.5V3.5C12 3.22386 11.7761 3 11.5 3Z",p19a8d500:"M8 3C6.34315 3 5 4.34315 5 6C5 6.27614 4.77614 6.5 4.5 6.5H4.25C3.00736 6.5 2 7.50736 2 8.75C2 9.99264 3.00736 11 4.25 11H11.75C12.9926 11 14 9.99264 14 8.75C14 7.50736 12.9926 6.5 11.75 6.5H11.5C11.2239 6.5 11 6.27614 11 6C11 4.34315 9.65685 3 8 3ZM4.03004 5.50733C4.27283 3.53062 5.95767 2 8 2C10.0423 2 11.7272 3.53063 11.97 5.50733C13.6623 5.62043 15 7.029 15 8.75C15 10.5449 13.5449 12 11.75 12H4.25C2.45507 12 1 10.5449 1 8.75C1 7.029 2.33769 5.62043 4.03004 5.50733Z",pc3d4a00:"M8.79025 13.2299V4.62795L12.6467 8.38601C12.9549 8.68635 13.4607 8.68635 13.7689 8.38601C14.077 8.08567 14.077 7.60051 13.7689 7.30018L8.56108 2.22525C8.25288 1.92492 7.75502 1.92492 7.44682 2.22525L2.23115 7.29248C1.92295 7.59281 1.92295 8.07797 2.23115 8.37831C2.53935 8.67865 3.03721 8.67865 3.34541 8.37831L7.20975 4.62795V13.2299C7.20975 13.6535 7.56536 14 8 14C8.43464 14 8.79025 13.6535 8.79025 13.2299Z"},kh="/assets/f34f4e53c1ee197ce2bdf05234bc70a842167409-DHMzmEAx.png";var rn=da();function Oh(f){let n;const i=new Promise((a,l)=>{n=f(a,l)});return Object.assign(i,{kill:n})}function Dh(f,n){let i;function a(){i&&(i.terminate(),i=null)}return Oh((l,c)=>(i=new Worker(new URL("/assets/openscad-worker-SNLCdDEr.js",import.meta.url),{type:"module"}),i.onmessage=d=>{"result"in d.data?(l(d.data.result),a()):n(d.data)},i.postMessage(f),()=>{a()}))}const Vf=[249/255,215/255,44/255,1];function jh(f){const n=f.split(`
`).map(S=>S.trim()).filter(S=>S.length>0&&!S.startsWith("#"));if(n.length===0)throw new Error("Empty OFF file");let i,a=0;if(n[0].match(/^OFF(\s|$)/))i=n[0].substring(3).trim(),a=1;else if(n[a]==="OFF"&&n.length>1)i=n[1],a=2;else throw new Error("Invalid OFF file: missing OFF header");const[l,c]=i.split(/\s+/).map(Number);if(isNaN(l)||isNaN(c))throw new Error("Invalid OFF file: invalid vertex or face counts");if(a+l+c>n.length)throw new Error("Invalid OFF file: not enough lines");const d=[];for(let S=0;S<l;S++){const R=n[a+S].split(/\s+/).map(Number);if(R.length<3||R.some(isNaN))throw new Error(`Invalid OFF file: invalid vertex at line ${a+S+1}`);d.push({x:R[0],y:R[1],z:R[2]})}a+=l;const p=[],g=new Map,m=[];for(let S=0;S<c;S++){const R=n[a+S].split(/\s+/).map(Number),_=R[0],M=R.slice(1,_+1),G=R.length>=_+4?R.slice(_+1,_+5).map(T=>T/255):Vf;if(M.length<3)throw new Error(`Invalid OFF file: face at line ${a+S+1} must have at least 3 vertices`);const H=G?G.join(","):"";let j=g.get(H);if(j==null){j=p.length;const[T,X,O,B]=G;p.push([T,X,O,B??1]),g.set(H,j)}if(M.length==3)m.push({vertices:M,colorIndex:j});else for(let T=1;T<M.length-1;T++)m.push({vertices:[M[0],M[T],M[T+1]],colorIndex:j})}return{vertices:d,faces:m,colors:p}}const Lh="modulepreload",Fh=function(f){return"/"+f},vf={},Tf=function(n,i,a){let l=Promise.resolve();if(i&&i.length>0){let d=function(m){return Promise.all(m.map(S=>Promise.resolve(S).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=d(i.map(m=>{if(m=Fh(m),m in vf)return;vf[m]=!0;const S=m.endsWith(".css"),R=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${R}`))return;const _=document.createElement("link");if(_.rel=S?"stylesheet":Lh,S||(_.as="script"),_.crossOrigin="",_.href=m,g&&_.setAttribute("nonce",g),document.head.appendChild(_),S)return new Promise((M,G)=>{_.addEventListener("load",M),_.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return n().catch(c)})};class bf{constructor(){this._listeners={}}addEventListener(n,i){const a=this._listeners;return a[n]===void 0&&(a[n]=[]),a[n].indexOf(i)===-1&&a[n].push(i),this}removeEventListener(n,i){const l=this._listeners[n];if(l!==void 0){const c=l.indexOf(i);c!==-1&&l.splice(c,1)}return this}dispatchEvent(n){const a=this._listeners[n.type];if(a!==void 0){const l=a.slice(0);for(let c=0,d=l.length;c<d;c++)l[c].call(this,n)}return this}dispose(){for(const n in this._listeners)delete this._listeners[n]}}class Pr{constructor(n,i,a,l={}){if(this._name=void 0,this._parent=void 0,this._child=void 0,this._attributes=void 0,this._disposed=!1,this._name=n,this._parent=i,this._child=a,this._attributes=l,!i.isOnGraph(a))throw new Error("Cannot connect disconnected graphs.")}getName(){return this._name}getParent(){return this._parent}getChild(){return this._child}setChild(n){return this._child=n,this}getAttributes(){return this._attributes}dispose(){this._disposed||(this._parent._destroyRef(this),this._disposed=!0)}isDisposed(){return this._disposed}}class Ph extends bf{constructor(...n){super(...n),this._emptySet=new Set,this._edges=new Set,this._parentEdges=new Map,this._childEdges=new Map}listEdges(){return Array.from(this._edges)}listParentEdges(n){return Array.from(this._childEdges.get(n)||this._emptySet)}listParents(n){const i=new Set;for(const a of this.listParentEdges(n))i.add(a.getParent());return Array.from(i)}listChildEdges(n){return Array.from(this._parentEdges.get(n)||this._emptySet)}listChildren(n){const i=new Set;for(const a of this.listChildEdges(n))i.add(a.getChild());return Array.from(i)}disconnectParents(n,i){for(const a of this.listParentEdges(n))(!i||i(a.getParent()))&&a.dispose();return this}_createEdge(n,i,a,l){const c=new Pr(n,i,a,l);this._edges.add(c);const d=c.getParent();this._parentEdges.has(d)||this._parentEdges.set(d,new Set),this._parentEdges.get(d).add(c);const p=c.getChild();return this._childEdges.has(p)||this._childEdges.set(p,new Set),this._childEdges.get(p).add(c),c}_destroyEdge(n){return this._edges.delete(n),this._parentEdges.get(n.getParent()).delete(n),this._childEdges.get(n.getChild()).delete(n),this}}function Os(){return Os=Object.assign||function(f){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(f[a]=i[a])}return f},Os.apply(this,arguments)}class Vn{constructor(n){if(this.list=[],n)for(const i of n)this.list.push(i)}add(n){this.list.push(n)}remove(n){const i=this.list.indexOf(n);i>=0&&this.list.splice(i,1)}removeChild(n){const i=[];for(const a of this.list)a.getChild()===n&&i.push(a);for(const a of i)this.remove(a);return i}listRefsByChild(n){const i=[];for(const a of this.list)a.getChild()===n&&i.push(a);return i}values(){return this.list}}class Me{constructor(n){if(this.set=new Set,this.map=new Map,n)for(const i of n)this.add(i)}add(n){const i=n.getChild();this.removeChild(i),this.set.add(n),this.map.set(i,n)}remove(n){this.set.delete(n),this.map.delete(n.getChild())}removeChild(n){const i=this.map.get(n)||null;return i&&this.remove(i),i}getRefByChild(n){return this.map.get(n)||null}values(){return Array.from(this.set)}}class Vt{constructor(n){this.map={},n&&Object.assign(this.map,n)}set(n,i){this.map[n]=i}delete(n){delete this.map[n]}get(n){return this.map[n]||null}keys(){return Object.keys(this.map)}values(){return Object.values(this.map)}}const we=Symbol("attributes"),ir=Symbol("immutableKeys");class pa extends bf{constructor(n){super(),this._disposed=!1,this.graph=void 0,this[we]=void 0,this[ir]=void 0,this.graph=n,this[ir]=new Set,this[we]=this._createAttributes()}getDefaults(){return{}}_createAttributes(){const n=this.getDefaults(),i={};for(const a in n){const l=n[a];if(l instanceof pa){const c=this.graph._createEdge(a,this,l);this[ir].add(a),i[a]=c}else i[a]=l}return i}isOnGraph(n){return this.graph===n.graph}isDisposed(){return this._disposed}dispose(){this._disposed||(this.graph.listChildEdges(this).forEach(n=>n.dispose()),this.graph.disconnectParents(this),this._disposed=!0,this.dispatchEvent({type:"dispose"}))}detach(){return this.graph.disconnectParents(this),this}swap(n,i){for(const a in this[we]){const l=this[we][a];if(l instanceof Pr){const c=l;c.getChild()===n&&this.setRef(a,i,c.getAttributes())}else if(l instanceof Vn)for(const c of l.listRefsByChild(n)){const d=c.getAttributes();this.removeRef(a,n),this.addRef(a,i,d)}else if(l instanceof Me){const c=l.getRefByChild(n);if(c){const d=c.getAttributes();this.removeRef(a,n),this.addRef(a,i,d)}}else if(l instanceof Vt)for(const c of l.keys()){const d=l.get(c);d.getChild()===n&&this.setRefMap(a,c,i,d.getAttributes())}}return this}get(n){return this[we][n]}set(n,i){return this[we][n]=i,this.dispatchEvent({type:"change",attribute:n})}getRef(n){const i=this[we][n];return i?i.getChild():null}setRef(n,i,a){if(this[ir].has(n))throw new Error(`Cannot overwrite immutable attribute, "${n}".`);const l=this[we][n];if(l&&l.dispose(),!i)return this;const c=this.graph._createEdge(n,this,i,a);return this[we][n]=c,this.dispatchEvent({type:"change",attribute:n})}listRefs(n){return this.assertRefList(n).values().map(a=>a.getChild())}addRef(n,i,a){const l=this.graph._createEdge(n,this,i,a);return this.assertRefList(n).add(l),this.dispatchEvent({type:"change",attribute:n})}removeRef(n,i){const a=this.assertRefList(n);if(a instanceof Vn)for(const l of a.listRefsByChild(i))l.dispose();else{const l=a.getRefByChild(i);l&&l.dispose()}return this}assertRefList(n){const i=this[we][n];if(i instanceof Vn||i instanceof Me)return i;throw new Error(`Expected RefList or RefSet for attribute "${n}"`)}listRefMapKeys(n){return this.assertRefMap(n).keys()}listRefMapValues(n){return this.assertRefMap(n).values().map(i=>i.getChild())}getRefMap(n,i){const l=this.assertRefMap(n).get(i);return l?l.getChild():null}setRefMap(n,i,a,l){const c=this.assertRefMap(n),d=c.get(i);if(d&&d.dispose(),!a)return this;l=Object.assign(l||{},{key:i});const p=this.graph._createEdge(n,this,a,Os({},l,{key:i}));return c.set(i,p),this.dispatchEvent({type:"change",attribute:n,key:i})}assertRefMap(n){const i=this[we][n];if(i instanceof Vt)return i;throw new Error(`Expected RefMap for attribute "${n}"`)}dispatchEvent(n){return super.dispatchEvent(Os({},n,{target:this})),this.graph.dispatchEvent(Os({},n,{target:this,type:`node:${n.type}`})),this}_destroyRef(n){const i=n.getName();if(this[we][i]===n)this[we][i]=null,this[ir].has(i)&&n.getChild().dispose();else if(this[we][i]instanceof Vn)this[we][i].remove(n);else if(this[we][i]instanceof Me)this[we][i].remove(n);else if(this[we][i]instanceof Vt){const a=this[we][i];for(const l of a.keys())a.get(l)===n&&a.delete(l)}else return;this.graph._destroyEdge(n),this.dispatchEvent({type:"change",attribute:i})}}const Hf="v4.2.1",Br="@glb.bin";var D;(function(f){f.ACCESSOR="Accessor",f.ANIMATION="Animation",f.ANIMATION_CHANNEL="AnimationChannel",f.ANIMATION_SAMPLER="AnimationSampler",f.BUFFER="Buffer",f.CAMERA="Camera",f.MATERIAL="Material",f.MESH="Mesh",f.PRIMITIVE="Primitive",f.PRIMITIVE_TARGET="PrimitiveTarget",f.NODE="Node",f.ROOT="Root",f.SCENE="Scene",f.SKIN="Skin",f.TEXTURE="Texture",f.TEXTURE_INFO="TextureInfo"})(D||(D={}));var Qi;(function(f){f.INTERLEAVED="interleaved",f.SEPARATE="separate"})(Qi||(Qi={}));var Tt;(function(f){f.ARRAY_BUFFER="ARRAY_BUFFER",f.ELEMENT_ARRAY_BUFFER="ELEMENT_ARRAY_BUFFER",f.INVERSE_BIND_MATRICES="INVERSE_BIND_MATRICES",f.OTHER="OTHER",f.SPARSE="SPARSE"})(Tt||(Tt={}));var Ot;(function(f){f[f.R=4096]="R",f[f.G=256]="G",f[f.B=16]="B",f[f.A=1]="A"})(Ot||(Ot={}));var vn;(function(f){f.GLTF="GLTF",f.GLB="GLB"})(vn||(vn={}));const eo={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};class ge{static createBufferFromDataURI(n){if(typeof Buffer>"u"){const i=atob(n.split(",")[1]),a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}else{const i=n.split(",")[1],a=n.indexOf("base64")>=0;return Buffer.from(i,a?"base64":"utf8")}}static encodeText(n){return new TextEncoder().encode(n)}static decodeText(n){return new TextDecoder().decode(n)}static concat(n){let i=0;for(const c of n)i+=c.byteLength;const a=new Uint8Array(i);let l=0;for(const c of n)a.set(c,l),l+=c.byteLength;return a}static pad(n,i=0){const a=this.padNumber(n.byteLength);if(a===n.byteLength)return n;const l=new Uint8Array(a);if(l.set(n),i!==0)for(let c=n.byteLength;c<a;c++)l[c]=i;return l}static padNumber(n){return Math.ceil(n/4)*4}static equals(n,i){if(n===i)return!0;if(n.byteLength!==i.byteLength)return!1;let a=n.byteLength;for(;a--;)if(n[a]!==i[a])return!1;return!0}static toView(n,i=0,a=1/0){return new Uint8Array(n.buffer,n.byteOffset+i,Math.min(n.byteLength,a))}static assertView(n){if(n&&!ArrayBuffer.isView(n))throw new Error(`Method requires Uint8Array parameter; received "${typeof n}".`);return n}}class Uh{match(n){return n.length>=3&&n[0]===255&&n[1]===216&&n[2]===255}getSize(n){let i=new DataView(n.buffer,n.byteOffset+4),a,l;for(;i.byteLength;){if(a=i.getUint16(0,!1),Bh(i,a),l=i.getUint8(a+1),l===192||l===193||l===194)return[i.getUint16(a+7,!1),i.getUint16(a+5,!1)];i=new DataView(n.buffer,i.byteOffset+a+2)}throw new TypeError("Invalid JPG, no size found")}getChannels(n){return 3}}class to{match(n){return n.length>=8&&n[0]===137&&n[1]===80&&n[2]===78&&n[3]===71&&n[4]===13&&n[5]===10&&n[6]===26&&n[7]===10}getSize(n){const i=new DataView(n.buffer,n.byteOffset);return ge.decodeText(n.slice(12,16))===to.PNG_FRIED_CHUNK_NAME?[i.getUint32(32,!1),i.getUint32(36,!1)]:[i.getUint32(16,!1),i.getUint32(20,!1)]}getChannels(n){return 4}}to.PNG_FRIED_CHUNK_NAME="CgBI";class Kt{static registerFormat(n,i){this.impls[n]=i}static getMimeType(n){for(const i in this.impls)if(this.impls[i].match(n))return i;return null}static getSize(n,i){return this.impls[i]?this.impls[i].getSize(n):null}static getChannels(n,i){return this.impls[i]?this.impls[i].getChannels(n):null}static getVRAMByteLength(n,i){if(!this.impls[i])return null;if(this.impls[i].getVRAMByteLength)return this.impls[i].getVRAMByteLength(n);let a=0;const l=4,c=this.getSize(n,i);if(!c)return null;for(;c[0]>1||c[1]>1;)a+=c[0]*c[1]*l,c[0]=Math.max(Math.floor(c[0]/2),1),c[1]=Math.max(Math.floor(c[1]/2),1);return a+=1*l,a}static mimeTypeToExtension(n){return n==="image/jpeg"?"jpg":n.split("/").pop()}static extensionToMimeType(n){return n==="jpg"?"image/jpeg":n?`image/${n}`:""}}Kt.impls={"image/jpeg":new Uh,"image/png":new to};function Bh(f,n){if(n>f.byteLength)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(f.getUint8(n)!==255)throw new TypeError("Invalid JPG, marker table corrupted");return f}class lr{static basename(n){const i=n.split(/[\\/]/).pop();return i.substring(0,i.lastIndexOf("."))}static extension(n){if(n.startsWith("data:image/")){const i=n.match(/data:(image\/\w+)/)[1];return Kt.mimeTypeToExtension(i)}else{if(n.startsWith("data:model/gltf+json"))return"gltf";if(n.startsWith("data:model/gltf-binary"))return"glb";if(n.startsWith("data:application/"))return"bin"}return n.split(/[\\/]/).pop().split(/[.]/).pop()}}var ra=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var f=0,n=arguments.length;n--;)f+=arguments[n]*arguments[n];return Math.sqrt(f)});function zh(){var f=new ra(3);return ra!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f}function ea(f){var n=f[0],i=f[1],a=f[2];return Math.hypot(n,i,a)}function Vh(f,n,i){var a=n[0],l=n[1],c=n[2],d=i[3]*a+i[7]*l+i[11]*c+i[15];return d=d||1,f[0]=(i[0]*a+i[4]*l+i[8]*c+i[12])/d,f[1]=(i[1]*a+i[5]*l+i[9]*c+i[13])/d,f[2]=(i[2]*a+i[6]*l+i[10]*c+i[14])/d,f}(function(){var f=zh();return function(n,i,a,l,c,d){var p,g;for(i||(i=3),a||(a=0),l?g=Math.min(l*i+a,n.length):g=n.length,p=a;p<g;p+=i)f[0]=n[p],f[1]=n[p+1],f[2]=n[p+2],c(f,f,d),n[p]=f[0],n[p+1]=f[1],n[p+2]=f[2];return n}})();function bh(f){const n=Gf(),i=f.propertyType===D.NODE?[f]:f.listChildren();for(const a of i)a.traverse(l=>{const c=l.getMesh();if(!c)return;const d=Hh(c,l.getWorldMatrix());d.min.every(isFinite)&&d.max.every(isFinite)&&(sa(d.min,n),sa(d.max,n))});return n}function Hh(f,n){const i=Gf();for(const a of f.listPrimitives()){const l=a.getAttribute("POSITION"),c=a.getIndices();if(!l)continue;let d=[0,0,0],p=[0,0,0];for(let g=0,m=c?c.getCount():l.getCount();g<m;g++){const S=c?c.getScalar(g):g;d=l.getElement(S,d),p=Vh(p,d,n),sa(p,i)}}return i}function sa(f,n){for(let i=0;i<3;i++)n.min[i]=Math.min(f[i],n.min[i]),n.max[i]=Math.max(f[i],n.max[i])}function Gf(){return{min:[1/0,1/0,1/0],max:[-1/0,-1/0,-1/0]}}const Ef="https://null.example";class zt{static dirname(n){const i=n.lastIndexOf("/");return i===-1?"./":n.substring(0,i+1)}static basename(n){return lr.basename(new URL(n,Ef).pathname)}static extension(n){return lr.extension(new URL(n,Ef).pathname)}static resolve(n,i){if(!this.isRelativePath(i))return i;const a=n.split("/"),l=i.split("/");a.pop();for(let c=0;c<l.length;c++)l[c]!=="."&&(l[c]===".."?a.pop():a.push(l[c]));return a.join("/")}static isAbsoluteURL(n){return this.PROTOCOL_REGEXP.test(n)}static isRelativePath(n){return!/^(?:[a-zA-Z]+:)?\//.test(n)}}zt.DEFAULT_INIT={};zt.PROTOCOL_REGEXP=/^[a-zA-Z]+:\/\//;function wf(f){return Object.prototype.toString.call(f)==="[object Object]"}function or(f){if(wf(f)===!1)return!1;const n=f.constructor;if(n===void 0)return!0;const i=n.prototype;return!(wf(i)===!1||Object.hasOwn(i,"isPrototypeOf")===!1)}var ia,oa;(function(f){f[f.SILENT=4]="SILENT",f[f.ERROR=3]="ERROR",f[f.WARN=2]="WARN",f[f.INFO=1]="INFO",f[f.DEBUG=0]="DEBUG"})(oa||(oa={}));class kt{constructor(n){this.verbosity=void 0,this.verbosity=n}debug(n){this.verbosity<=kt.Verbosity.DEBUG&&console.debug(n)}info(n){this.verbosity<=kt.Verbosity.INFO&&console.info(n)}warn(n){this.verbosity<=kt.Verbosity.WARN&&console.warn(n)}error(n){this.verbosity<=kt.Verbosity.ERROR&&console.error(n)}}ia=kt;kt.Verbosity=oa;kt.DEFAULT_INSTANCE=new ia(ia.Verbosity.INFO);function Gh(f){var n=f[0],i=f[1],a=f[2],l=f[3],c=f[4],d=f[5],p=f[6],g=f[7],m=f[8],S=f[9],R=f[10],_=f[11],M=f[12],G=f[13],H=f[14],j=f[15],T=n*d-i*c,X=n*p-a*c,O=n*g-l*c,B=i*p-a*d,F=i*g-l*d,b=a*g-l*p,y=m*G-S*M,k=m*H-R*M,z=m*j-_*M,$=S*H-R*G,re=S*j-_*G,te=R*j-_*H;return T*te-X*re+O*$+B*z-F*k+b*y}function $h(f,n,i){var a=n[0],l=n[1],c=n[2],d=n[3],p=n[4],g=n[5],m=n[6],S=n[7],R=n[8],_=n[9],M=n[10],G=n[11],H=n[12],j=n[13],T=n[14],X=n[15],O=i[0],B=i[1],F=i[2],b=i[3];return f[0]=O*a+B*p+F*R+b*H,f[1]=O*l+B*g+F*_+b*j,f[2]=O*c+B*m+F*M+b*T,f[3]=O*d+B*S+F*G+b*X,O=i[4],B=i[5],F=i[6],b=i[7],f[4]=O*a+B*p+F*R+b*H,f[5]=O*l+B*g+F*_+b*j,f[6]=O*c+B*m+F*M+b*T,f[7]=O*d+B*S+F*G+b*X,O=i[8],B=i[9],F=i[10],b=i[11],f[8]=O*a+B*p+F*R+b*H,f[9]=O*l+B*g+F*_+b*j,f[10]=O*c+B*m+F*M+b*T,f[11]=O*d+B*S+F*G+b*X,O=i[12],B=i[13],F=i[14],b=i[15],f[12]=O*a+B*p+F*R+b*H,f[13]=O*l+B*g+F*_+b*j,f[14]=O*c+B*m+F*M+b*T,f[15]=O*d+B*S+F*G+b*X,f}function Wh(f,n){var i=n[0],a=n[1],l=n[2],c=n[4],d=n[5],p=n[6],g=n[8],m=n[9],S=n[10];return f[0]=Math.hypot(i,a,l),f[1]=Math.hypot(c,d,p),f[2]=Math.hypot(g,m,S),f}function Kh(f,n){var i=new ra(3);Wh(i,n);var a=1/i[0],l=1/i[1],c=1/i[2],d=n[0]*a,p=n[1]*l,g=n[2]*c,m=n[4]*a,S=n[5]*l,R=n[6]*c,_=n[8]*a,M=n[9]*l,G=n[10]*c,H=d+S+G,j=0;return H>0?(j=Math.sqrt(H+1)*2,f[3]=.25*j,f[0]=(R-M)/j,f[1]=(_-g)/j,f[2]=(p-m)/j):d>S&&d>G?(j=Math.sqrt(1+d-S-G)*2,f[3]=(R-M)/j,f[0]=.25*j,f[1]=(p+m)/j,f[2]=(_+g)/j):S>G?(j=Math.sqrt(1+S-d-G)*2,f[3]=(_-g)/j,f[0]=(p+m)/j,f[1]=.25*j,f[2]=(R+M)/j):(j=Math.sqrt(1+G-d-S)*2,f[3]=(p-m)/j,f[0]=(_+g)/j,f[1]=(R+M)/j,f[2]=.25*j),f}class Ie{static identity(n){return n}static eq(n,i,a=1e-5){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(Math.abs(n[l]-i[l])>a)return!1;return!0}static clamp(n,i,a){return n<i?i:n>a?a:n}static decodeNormalizedInt(n,i){switch(i){case 5126:return n;case 5123:return n/65535;case 5121:return n/255;case 5122:return Math.max(n/32767,-1);case 5120:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}static encodeNormalizedInt(n,i){switch(i){case 5126:return n;case 5123:return Math.round(Ie.clamp(n,0,1)*65535);case 5121:return Math.round(Ie.clamp(n,0,1)*255);case 5122:return Math.round(Ie.clamp(n,-1,1)*32767);case 5120:return Math.round(Ie.clamp(n,-1,1)*127);default:throw new Error("Invalid component type.")}}static decompose(n,i,a,l){let c=ea([n[0],n[1],n[2]]);const d=ea([n[4],n[5],n[6]]),p=ea([n[8],n[9],n[10]]);Gh(n)<0&&(c=-c),i[0]=n[12],i[1]=n[13],i[2]=n[14];const m=n.slice(),S=1/c,R=1/d,_=1/p;m[0]*=S,m[1]*=S,m[2]*=S,m[4]*=R,m[5]*=R,m[6]*=R,m[8]*=_,m[9]*=_,m[10]*=_,Kh(a,m),l[0]=c,l[1]=d,l[2]=p}static compose(n,i,a,l){const c=l,d=i[0],p=i[1],g=i[2],m=i[3],S=d+d,R=p+p,_=g+g,M=d*S,G=d*R,H=d*_,j=p*R,T=p*_,X=g*_,O=m*S,B=m*R,F=m*_,b=a[0],y=a[1],k=a[2];return c[0]=(1-(j+X))*b,c[1]=(G+F)*b,c[2]=(H-B)*b,c[3]=0,c[4]=(G-F)*y,c[5]=(1-(M+X))*y,c[6]=(T+O)*y,c[7]=0,c[8]=(H+B)*k,c[9]=(T-O)*k,c[10]=(1-(M+j))*k,c[11]=0,c[12]=n[0],c[13]=n[1],c[14]=n[2],c[15]=1,c}}function Xh(f,n){if(!!f!=!!n)return!1;const i=f.getChild(),a=n.getChild();return i===a||i.equals(a)}function Yh(f,n){if(!!f!=!!n)return!1;const i=f.values(),a=n.values();if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++){const c=i[l],d=a[l];if(c.getChild()!==d.getChild()&&!c.getChild().equals(d.getChild()))return!1}return!0}function Qh(f,n){if(!!f!=!!n)return!1;const i=f.keys(),a=n.keys();if(i.length!==a.length)return!1;for(const l of i){const c=f.get(l),d=n.get(l);if(!!c!=!!d)return!1;const p=c.getChild(),g=d.getChild();if(p!==g&&!p.equals(g))return!1}return!0}function $f(f,n){if(f===n)return!0;if(!!f!=!!n||!f||!n||f.length!==n.length)return!1;for(let i=0;i<f.length;i++)if(f[i]!==n[i])return!1;return!0}function Wf(f,n){if(f===n)return!0;if(!!f!=!!n)return!1;if(!or(f)||!or(n))return f===n;const i=f,a=n;let l=0,c=0,d;for(d in i)l++;for(d in a)c++;if(l!==c)return!1;for(d in i){const p=i[d],g=a[d];if(qi(p)&&qi(g)){if(!$f(p,g))return!1}else if(or(p)&&or(g)){if(!Wf(p,g))return!1}else if(p!==g)return!1}return!0}function qi(f){return Array.isArray(f)||ArrayBuffer.isView(f)}const Sf="23456789abdegjkmnpqrvwxyzABDEGJKMNPQRVWXYZ",qh=999,Jh=6,Rf=new Set,Zh=function(){let n="";for(let i=0;i<Jh;i++)n+=Sf.charAt(Math.floor(Math.random()*Sf.length));return n},eg=function(){for(let n=0;n<qh;n++){const i=Zh();if(!Rf.has(i))return Rf.add(i),i}return""},bn=f=>f,tg=new Set;class ha extends pa{constructor(n,i=""){super(n),this[we].name=i,this.init(),this.dispatchEvent({type:"create"})}getGraph(){return this.graph}getDefaults(){return Object.assign(super.getDefaults(),{name:"",extras:{}})}set(n,i){return Array.isArray(i)&&(i=i.slice()),super.set(n,i)}getName(){return this.get("name")}setName(n){return this.set("name",n)}getExtras(){return this.get("extras")}setExtras(n){return this.set("extras",n)}clone(){const n=this.constructor;return new n(this.graph).copy(this,bn)}copy(n,i=bn){for(const a in this[we]){const l=this[we][a];if(l instanceof Pr)this[ir].has(a)||l.dispose();else if(l instanceof Vn||l instanceof Me)for(const c of l.values())c.dispose();else if(l instanceof Vt)for(const c of l.values())c.dispose()}for(const a in n[we]){const l=this[we][a],c=n[we][a];if(c instanceof Pr)this[ir].has(a)?l.getChild().copy(i(c.getChild()),i):this.setRef(a,i(c.getChild()),c.getAttributes());else if(c instanceof Me||c instanceof Vn)for(const d of c.values())this.addRef(a,i(d.getChild()),d.getAttributes());else if(c instanceof Vt)for(const d of c.keys()){const p=c.get(d);this.setRefMap(a,d,i(p.getChild()),p.getAttributes())}else or(c)?this[we][a]=JSON.parse(JSON.stringify(c)):Array.isArray(c)||c instanceof ArrayBuffer||ArrayBuffer.isView(c)?this[we][a]=c.slice():this[we][a]=c}return this}equals(n,i=tg){if(this===n)return!0;if(this.propertyType!==n.propertyType)return!1;for(const a in this[we]){if(i.has(a))continue;const l=this[we][a],c=n[we][a];if(l instanceof Pr||c instanceof Pr){if(!Xh(l,c))return!1}else if(l instanceof Me||c instanceof Me||l instanceof Vn||c instanceof Vn){if(!Yh(l,c))return!1}else if(l instanceof Vt||c instanceof Vt){if(!Qh(l,c))return!1}else if(or(l)||or(c)){if(!Wf(l,c))return!1}else if(qi(l)||qi(c)){if(!$f(l,c))return!1}else if(l!==c)return!1}return!0}detach(){return this.graph.disconnectParents(this,n=>n.propertyType!=="Root"),this}listParents(){return this.graph.listParents(this)}}class ut extends ha{getDefaults(){return Object.assign(super.getDefaults(),{extensions:new Vt})}getExtension(n){return this.getRefMap("extensions",n)}setExtension(n,i){return i&&i._validateParent(this),this.setRefMap("extensions",n,i)}listExtensions(){return this.listRefMapValues("extensions")}}class Y extends ut{init(){this.propertyType=D.ACCESSOR}getDefaults(){return Object.assign(super.getDefaults(),{array:null,type:Y.Type.SCALAR,componentType:Y.ComponentType.FLOAT,normalized:!1,sparse:!1,buffer:null})}static getElementSize(n){switch(n){case Y.Type.SCALAR:return 1;case Y.Type.VEC2:return 2;case Y.Type.VEC3:return 3;case Y.Type.VEC4:return 4;case Y.Type.MAT2:return 4;case Y.Type.MAT3:return 9;case Y.Type.MAT4:return 16;default:throw new Error("Unexpected type: "+n)}}static getComponentSize(n){switch(n){case Y.ComponentType.BYTE:return 1;case Y.ComponentType.UNSIGNED_BYTE:return 1;case Y.ComponentType.SHORT:return 2;case Y.ComponentType.UNSIGNED_SHORT:return 2;case Y.ComponentType.UNSIGNED_INT:return 4;case Y.ComponentType.FLOAT:return 4;default:throw new Error("Unexpected component type: "+n)}}getMinNormalized(n){const i=this.getNormalized(),a=this.getElementSize(),l=this.getComponentType();if(this.getMin(n),i)for(let c=0;c<a;c++)n[c]=Ie.decodeNormalizedInt(n[c],l);return n}getMin(n){const i=this.getArray(),a=this.getCount(),l=this.getElementSize();for(let c=0;c<l;c++)n[c]=1/0;for(let c=0;c<a*l;c+=l)for(let d=0;d<l;d++){const p=i[c+d];Number.isFinite(p)&&(n[d]=Math.min(n[d],p))}return n}getMaxNormalized(n){const i=this.getNormalized(),a=this.getElementSize(),l=this.getComponentType();if(this.getMax(n),i)for(let c=0;c<a;c++)n[c]=Ie.decodeNormalizedInt(n[c],l);return n}getMax(n){const i=this.get("array"),a=this.getCount(),l=this.getElementSize();for(let c=0;c<l;c++)n[c]=-1/0;for(let c=0;c<a*l;c+=l)for(let d=0;d<l;d++){const p=i[c+d];Number.isFinite(p)&&(n[d]=Math.max(n[d],p))}return n}getCount(){const n=this.get("array");return n?n.length/this.getElementSize():0}getType(){return this.get("type")}setType(n){return this.set("type",n)}getElementSize(){return Y.getElementSize(this.get("type"))}getComponentSize(){return this.get("array").BYTES_PER_ELEMENT}getComponentType(){return this.get("componentType")}getNormalized(){return this.get("normalized")}setNormalized(n){return this.set("normalized",n)}getScalar(n){const i=this.getElementSize(),a=this.getComponentType(),l=this.getArray();return this.getNormalized()?Ie.decodeNormalizedInt(l[n*i],a):l[n*i]}setScalar(n,i){const a=this.getElementSize(),l=this.getComponentType(),c=this.getArray();return this.getNormalized()?c[n*a]=Ie.encodeNormalizedInt(i,l):c[n*a]=i,this}getElement(n,i){const a=this.getNormalized(),l=this.getElementSize(),c=this.getComponentType(),d=this.getArray();for(let p=0;p<l;p++)a?i[p]=Ie.decodeNormalizedInt(d[n*l+p],c):i[p]=d[n*l+p];return i}setElement(n,i){const a=this.getNormalized(),l=this.getElementSize(),c=this.getComponentType(),d=this.getArray();for(let p=0;p<l;p++)a?d[n*l+p]=Ie.encodeNormalizedInt(i[p],c):d[n*l+p]=i[p];return this}getSparse(){return this.get("sparse")}setSparse(n){return this.set("sparse",n)}getBuffer(){return this.getRef("buffer")}setBuffer(n){return this.setRef("buffer",n)}getArray(){return this.get("array")}setArray(n){return this.set("componentType",n?ng(n):Y.ComponentType.FLOAT),this.set("array",n),this}getByteLength(){const n=this.get("array");return n?n.byteLength:0}}Y.Type={SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4"};Y.ComponentType={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function ng(f){switch(f.constructor){case Float32Array:return Y.ComponentType.FLOAT;case Uint32Array:return Y.ComponentType.UNSIGNED_INT;case Uint16Array:return Y.ComponentType.UNSIGNED_SHORT;case Uint8Array:return Y.ComponentType.UNSIGNED_BYTE;case Int16Array:return Y.ComponentType.SHORT;case Int8Array:return Y.ComponentType.BYTE;default:throw new Error("Unknown accessor componentType.")}}class Kf extends ut{init(){this.propertyType=D.ANIMATION}getDefaults(){return Object.assign(super.getDefaults(),{channels:new Me,samplers:new Me})}addChannel(n){return this.addRef("channels",n)}removeChannel(n){return this.removeRef("channels",n)}listChannels(){return this.listRefs("channels")}addSampler(n){return this.addRef("samplers",n)}removeSampler(n){return this.removeRef("samplers",n)}listSamplers(){return this.listRefs("samplers")}}class ga extends ut{init(){this.propertyType=D.ANIMATION_CHANNEL}getDefaults(){return Object.assign(super.getDefaults(),{targetPath:null,targetNode:null,sampler:null})}getTargetPath(){return this.get("targetPath")}setTargetPath(n){return this.set("targetPath",n)}getTargetNode(){return this.getRef("targetNode")}setTargetNode(n){return this.setRef("targetNode",n)}getSampler(){return this.getRef("sampler")}setSampler(n){return this.setRef("sampler",n)}}ga.TargetPath={TRANSLATION:"translation",ROTATION:"rotation",SCALE:"scale",WEIGHTS:"weights"};class Vr extends ut{init(){this.propertyType=D.ANIMATION_SAMPLER}getDefaultAttributes(){return Object.assign(super.getDefaults(),{interpolation:Vr.Interpolation.LINEAR,input:null,output:null})}getInterpolation(){return this.get("interpolation")}setInterpolation(n){return this.set("interpolation",n)}getInput(){return this.getRef("input")}setInput(n){return this.setRef("input",n,{usage:Tt.OTHER})}getOutput(){return this.getRef("output")}setOutput(n){return this.setRef("output",n,{usage:Tt.OTHER})}}Vr.Interpolation={LINEAR:"LINEAR",STEP:"STEP",CUBICSPLINE:"CUBICSPLINE"};class Xf extends ut{init(){this.propertyType=D.BUFFER}getDefaults(){return Object.assign(super.getDefaults(),{uri:""})}getURI(){return this.get("uri")}setURI(n){return this.set("uri",n)}}class ur extends ut{init(){this.propertyType=D.CAMERA}getDefaults(){return Object.assign(super.getDefaults(),{type:ur.Type.PERSPECTIVE,znear:.1,zfar:100,aspectRatio:null,yfov:Math.PI*2*50/360,xmag:1,ymag:1})}getType(){return this.get("type")}setType(n){return this.set("type",n)}getZNear(){return this.get("znear")}setZNear(n){return this.set("znear",n)}getZFar(){return this.get("zfar")}setZFar(n){return this.set("zfar",n)}getAspectRatio(){return this.get("aspectRatio")}setAspectRatio(n){return this.set("aspectRatio",n)}getYFov(){return this.get("yfov")}setYFov(n){return this.set("yfov",n)}getXMag(){return this.get("xmag")}setXMag(n){return this.set("xmag",n)}getYMag(){return this.get("ymag")}setYMag(n){return this.set("ymag",n)}}ur.Type={PERSPECTIVE:"perspective",ORTHOGRAPHIC:"orthographic"};class ze extends ha{_validateParent(n){if(!this.parentTypes.includes(n.propertyType))throw new Error(`Parent "${n.propertyType}" invalid for child "${this.propertyType}".`)}}ze.EXTENSION_NAME=void 0;class _e extends ut{init(){this.propertyType=D.TEXTURE_INFO}getDefaults(){return Object.assign(super.getDefaults(),{texCoord:0,magFilter:null,minFilter:null,wrapS:_e.WrapMode.REPEAT,wrapT:_e.WrapMode.REPEAT})}getTexCoord(){return this.get("texCoord")}setTexCoord(n){return this.set("texCoord",n)}getMagFilter(){return this.get("magFilter")}setMagFilter(n){return this.set("magFilter",n)}getMinFilter(){return this.get("minFilter")}setMinFilter(n){return this.set("minFilter",n)}getWrapS(){return this.get("wrapS")}setWrapS(n){return this.set("wrapS",n)}getWrapT(){return this.get("wrapT")}setWrapT(n){return this.set("wrapT",n)}}_e.WrapMode={CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497};_e.MagFilter={NEAREST:9728,LINEAR:9729};_e.MinFilter={NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987};const{R:$i,G:Wi,B:Ki,A:rg}=Ot;class ar extends ut{init(){this.propertyType=D.MATERIAL}getDefaults(){return Object.assign(super.getDefaults(),{alphaMode:ar.AlphaMode.OPAQUE,alphaCutoff:.5,doubleSided:!1,baseColorFactor:[1,1,1,1],baseColorTexture:null,baseColorTextureInfo:new _e(this.graph,"baseColorTextureInfo"),emissiveFactor:[0,0,0],emissiveTexture:null,emissiveTextureInfo:new _e(this.graph,"emissiveTextureInfo"),normalScale:1,normalTexture:null,normalTextureInfo:new _e(this.graph,"normalTextureInfo"),occlusionStrength:1,occlusionTexture:null,occlusionTextureInfo:new _e(this.graph,"occlusionTextureInfo"),roughnessFactor:1,metallicFactor:1,metallicRoughnessTexture:null,metallicRoughnessTextureInfo:new _e(this.graph,"metallicRoughnessTextureInfo")})}getDoubleSided(){return this.get("doubleSided")}setDoubleSided(n){return this.set("doubleSided",n)}getAlpha(){return this.get("baseColorFactor")[3]}setAlpha(n){const i=this.get("baseColorFactor").slice();return i[3]=n,this.set("baseColorFactor",i)}getAlphaMode(){return this.get("alphaMode")}setAlphaMode(n){return this.set("alphaMode",n)}getAlphaCutoff(){return this.get("alphaCutoff")}setAlphaCutoff(n){return this.set("alphaCutoff",n)}getBaseColorFactor(){return this.get("baseColorFactor")}setBaseColorFactor(n){return this.set("baseColorFactor",n)}getBaseColorTexture(){return this.getRef("baseColorTexture")}getBaseColorTextureInfo(){return this.getRef("baseColorTexture")?this.getRef("baseColorTextureInfo"):null}setBaseColorTexture(n){return this.setRef("baseColorTexture",n,{channels:$i|Wi|Ki|rg,isColor:!0})}getEmissiveFactor(){return this.get("emissiveFactor")}setEmissiveFactor(n){return this.set("emissiveFactor",n)}getEmissiveTexture(){return this.getRef("emissiveTexture")}getEmissiveTextureInfo(){return this.getRef("emissiveTexture")?this.getRef("emissiveTextureInfo"):null}setEmissiveTexture(n){return this.setRef("emissiveTexture",n,{channels:$i|Wi|Ki,isColor:!0})}getNormalScale(){return this.get("normalScale")}setNormalScale(n){return this.set("normalScale",n)}getNormalTexture(){return this.getRef("normalTexture")}getNormalTextureInfo(){return this.getRef("normalTexture")?this.getRef("normalTextureInfo"):null}setNormalTexture(n){return this.setRef("normalTexture",n,{channels:$i|Wi|Ki})}getOcclusionStrength(){return this.get("occlusionStrength")}setOcclusionStrength(n){return this.set("occlusionStrength",n)}getOcclusionTexture(){return this.getRef("occlusionTexture")}getOcclusionTextureInfo(){return this.getRef("occlusionTexture")?this.getRef("occlusionTextureInfo"):null}setOcclusionTexture(n){return this.setRef("occlusionTexture",n,{channels:$i})}getRoughnessFactor(){return this.get("roughnessFactor")}setRoughnessFactor(n){return this.set("roughnessFactor",n)}getMetallicFactor(){return this.get("metallicFactor")}setMetallicFactor(n){return this.set("metallicFactor",n)}getMetallicRoughnessTexture(){return this.getRef("metallicRoughnessTexture")}getMetallicRoughnessTextureInfo(){return this.getRef("metallicRoughnessTexture")?this.getRef("metallicRoughnessTextureInfo"):null}setMetallicRoughnessTexture(n){return this.setRef("metallicRoughnessTexture",n,{channels:Wi|Ki})}}ar.AlphaMode={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};class Yf extends ut{init(){this.propertyType=D.MESH}getDefaults(){return Object.assign(super.getDefaults(),{weights:[],primitives:new Me})}addPrimitive(n){return this.addRef("primitives",n)}removePrimitive(n){return this.removeRef("primitives",n)}listPrimitives(){return this.listRefs("primitives")}getWeights(){return this.get("weights")}setWeights(n){return this.set("weights",n)}}class Qf extends ut{init(){this.propertyType=D.NODE}getDefaults(){return Object.assign(super.getDefaults(),{translation:[0,0,0],rotation:[0,0,0,1],scale:[1,1,1],weights:[],camera:null,mesh:null,skin:null,children:new Me})}copy(n,i=bn){if(i===bn)throw new Error("Node cannot be copied.");return super.copy(n,i)}getTranslation(){return this.get("translation")}getRotation(){return this.get("rotation")}getScale(){return this.get("scale")}setTranslation(n){return this.set("translation",n)}setRotation(n){return this.set("rotation",n)}setScale(n){return this.set("scale",n)}getMatrix(){return Ie.compose(this.get("translation"),this.get("rotation"),this.get("scale"),[])}setMatrix(n){const i=this.get("translation").slice(),a=this.get("rotation").slice(),l=this.get("scale").slice();return Ie.decompose(n,i,a,l),this.set("translation",i).set("rotation",a).set("scale",l)}getWorldTranslation(){const n=[0,0,0];return Ie.decompose(this.getWorldMatrix(),n,[0,0,0,1],[1,1,1]),n}getWorldRotation(){const n=[0,0,0,1];return Ie.decompose(this.getWorldMatrix(),[0,0,0],n,[1,1,1]),n}getWorldScale(){const n=[1,1,1];return Ie.decompose(this.getWorldMatrix(),[0,0,0],[0,0,0,1],n),n}getWorldMatrix(){const n=[];for(let l=this;l!=null;l=l.getParentNode())n.push(l);let i;const a=n.pop().getMatrix();for(;i=n.pop();)$h(a,a,i.getMatrix());return a}addChild(n){const i=n.getParentNode();i&&i.removeChild(n);for(const a of n.listParents())a.propertyType===D.SCENE&&a.removeChild(n);return this.addRef("children",n)}removeChild(n){return this.removeRef("children",n)}listChildren(){return this.listRefs("children")}getParentNode(){for(const n of this.listParents())if(n.propertyType===D.NODE)return n;return null}getMesh(){return this.getRef("mesh")}setMesh(n){return this.setRef("mesh",n)}getCamera(){return this.getRef("camera")}setCamera(n){return this.setRef("camera",n)}getSkin(){return this.getRef("skin")}setSkin(n){return this.setRef("skin",n)}getWeights(){return this.get("weights")}setWeights(n){return this.set("weights",n)}traverse(n){n(this);for(const i of this.listChildren())i.traverse(n);return this}}class Hn extends ut{init(){this.propertyType=D.PRIMITIVE}getDefaults(){return Object.assign(super.getDefaults(),{mode:Hn.Mode.TRIANGLES,material:null,indices:null,attributes:new Vt,targets:new Me})}getIndices(){return this.getRef("indices")}setIndices(n){return this.setRef("indices",n,{usage:Tt.ELEMENT_ARRAY_BUFFER})}getAttribute(n){return this.getRefMap("attributes",n)}setAttribute(n,i){return this.setRefMap("attributes",n,i,{usage:Tt.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues("attributes")}listSemantics(){return this.listRefMapKeys("attributes")}getMaterial(){return this.getRef("material")}setMaterial(n){return this.setRef("material",n)}getMode(){return this.get("mode")}setMode(n){return this.set("mode",n)}listTargets(){return this.listRefs("targets")}addTarget(n){return this.addRef("targets",n)}removeTarget(n){return this.removeRef("targets",n)}}Hn.Mode={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class sg extends ha{init(){this.propertyType=D.PRIMITIVE_TARGET}getDefaults(){return Object.assign(super.getDefaults(),{attributes:new Vt})}getAttribute(n){return this.getRefMap("attributes",n)}setAttribute(n,i){return this.setRefMap("attributes",n,i,{usage:Tt.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues("attributes")}listSemantics(){return this.listRefMapKeys("attributes")}}function at(){return at=Object.assign?Object.assign.bind():function(f){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(f[a]=i[a])}return f},at.apply(null,arguments)}class qf extends ut{init(){this.propertyType=D.SCENE}getDefaults(){return Object.assign(super.getDefaults(),{children:new Me})}copy(n,i=bn){if(i===bn)throw new Error("Scene cannot be copied.");return super.copy(n,i)}addChild(n){const i=n.getParentNode();return i&&i.removeChild(n),this.addRef("children",n)}removeChild(n){return this.removeRef("children",n)}listChildren(){return this.listRefs("children")}traverse(n){for(const i of this.listChildren())i.traverse(n);return this}}class Jf extends ut{init(){this.propertyType=D.SKIN}getDefaults(){return Object.assign(super.getDefaults(),{skeleton:null,inverseBindMatrices:null,joints:new Me})}getSkeleton(){return this.getRef("skeleton")}setSkeleton(n){return this.setRef("skeleton",n)}getInverseBindMatrices(){return this.getRef("inverseBindMatrices")}setInverseBindMatrices(n){return this.setRef("inverseBindMatrices",n,{usage:Tt.INVERSE_BIND_MATRICES})}addJoint(n){return this.addRef("joints",n)}removeJoint(n){return this.removeRef("joints",n)}listJoints(){return this.listRefs("joints")}}class Zf extends ut{init(){this.propertyType=D.TEXTURE}getDefaults(){return Object.assign(super.getDefaults(),{image:null,mimeType:"",uri:""})}getMimeType(){return this.get("mimeType")||Kt.extensionToMimeType(lr.extension(this.get("uri")))}setMimeType(n){return this.set("mimeType",n)}getURI(){return this.get("uri")}setURI(n){this.set("uri",n);const i=Kt.extensionToMimeType(lr.extension(n));return i&&this.set("mimeType",i),this}getImage(){return this.get("image")}setImage(n){return this.set("image",ge.assertView(n))}getSize(){const n=this.get("image");return n?Kt.getSize(n,this.getMimeType()):null}}class ed extends ut{init(){this.propertyType=D.ROOT}getDefaults(){return Object.assign(super.getDefaults(),{asset:{generator:`glTF-Transform ${Hf}`,version:"2.0"},defaultScene:null,accessors:new Me,animations:new Me,buffers:new Me,cameras:new Me,materials:new Me,meshes:new Me,nodes:new Me,scenes:new Me,skins:new Me,textures:new Me})}constructor(n){super(n),this._extensions=new Set,n.addEventListener("node:create",i=>{this._addChildOfRoot(i.target)})}clone(){throw new Error("Root cannot be cloned.")}copy(n,i=bn){if(i===bn)throw new Error("Root cannot be copied.");this.set("asset",at({},n.get("asset"))),this.setName(n.getName()),this.setExtras(at({},n.getExtras())),this.setDefaultScene(n.getDefaultScene()?i(n.getDefaultScene()):null);for(const a of n.listRefMapKeys("extensions")){const l=n.getExtension(a);this.setExtension(a,i(l))}return this}_addChildOfRoot(n){return n instanceof qf?this.addRef("scenes",n):n instanceof Qf?this.addRef("nodes",n):n instanceof ur?this.addRef("cameras",n):n instanceof Jf?this.addRef("skins",n):n instanceof Yf?this.addRef("meshes",n):n instanceof ar?this.addRef("materials",n):n instanceof Zf?this.addRef("textures",n):n instanceof Kf?this.addRef("animations",n):n instanceof Y?this.addRef("accessors",n):n instanceof Xf&&this.addRef("buffers",n),this}getAsset(){return this.get("asset")}listExtensionsUsed(){return Array.from(this._extensions)}listExtensionsRequired(){return this.listExtensionsUsed().filter(n=>n.isRequired())}_enableExtension(n){return this._extensions.add(n),this}_disableExtension(n){return this._extensions.delete(n),this}listScenes(){return this.listRefs("scenes")}setDefaultScene(n){return this.setRef("defaultScene",n)}getDefaultScene(){return this.getRef("defaultScene")}listNodes(){return this.listRefs("nodes")}listCameras(){return this.listRefs("cameras")}listSkins(){return this.listRefs("skins")}listMeshes(){return this.listRefs("meshes")}listMaterials(){return this.listRefs("materials")}listTextures(){return this.listRefs("textures")}listAnimations(){return this.listRefs("animations")}listAccessors(){return this.listRefs("accessors")}listBuffers(){return this.listRefs("buffers")}}class zr{static fromGraph(n){return zr._GRAPH_DOCUMENTS.get(n)||null}constructor(){this._graph=new Ph,this._root=new ed(this._graph),this._logger=kt.DEFAULT_INSTANCE,zr._GRAPH_DOCUMENTS.set(this._graph,this)}getRoot(){return this._root}getGraph(){return this._graph}getLogger(){return this._logger}setLogger(n){return this._logger=n,this}clone(){throw new Error("Use 'cloneDocument(source)' from '@gltf-transform/functions'.")}merge(n){throw new Error("Use 'mergeDocuments(target, source)' from '@gltf-transform/functions'.")}async transform(...n){const i=n.map(a=>a.name);for(const a of n)await a(this,{stack:i});return this}createExtension(n){const i=n.EXTENSION_NAME;return this.getRoot().listExtensionsUsed().find(l=>l.extensionName===i)||new n(this)}createScene(n=""){return new qf(this._graph,n)}createNode(n=""){return new Qf(this._graph,n)}createCamera(n=""){return new ur(this._graph,n)}createSkin(n=""){return new Jf(this._graph,n)}createMesh(n=""){return new Yf(this._graph,n)}createPrimitive(){return new Hn(this._graph)}createPrimitiveTarget(n=""){return new sg(this._graph,n)}createMaterial(n=""){return new ar(this._graph,n)}createTexture(n=""){return new Zf(this._graph,n)}createAnimation(n=""){return new Kf(this._graph,n)}createAnimationChannel(n=""){return new ga(this._graph,n)}createAnimationSampler(n=""){return new Vr(this._graph,n)}createAccessor(n="",i=null){return i||(i=this.getRoot().listBuffers()[0]),new Y(this._graph,n).setBuffer(i)}createBuffer(n=""){return new Xf(this._graph,n)}}zr._GRAPH_DOCUMENTS=new WeakMap;class De{constructor(n){this.extensionName="",this.prereadTypes=[],this.prewriteTypes=[],this.readDependencies=[],this.writeDependencies=[],this.document=void 0,this.required=!1,this.properties=new Set,this._listener=void 0,this.document=n,n.getRoot()._enableExtension(this),this._listener=a=>{const l=a,c=l.target;c instanceof ze&&c.extensionName===this.extensionName&&(l.type==="node:create"&&this._addExtensionProperty(c),l.type==="node:dispose"&&this._removeExtensionProperty(c))};const i=n.getGraph();i.addEventListener("node:create",this._listener),i.addEventListener("node:dispose",this._listener)}dispose(){this.document.getRoot()._disableExtension(this);const n=this.document.getGraph();n.removeEventListener("node:create",this._listener),n.removeEventListener("node:dispose",this._listener);for(const i of this.properties)i.dispose()}static register(){}isRequired(){return this.required}setRequired(n){return this.required=n,this}listProperties(){return Array.from(this.properties)}_addExtensionProperty(n){return this.properties.add(n),this}_removeExtensionProperty(n){return this.properties.delete(n),this}install(n,i){return this}preread(n,i){return this}prewrite(n,i){return this}}De.EXTENSION_NAME=void 0;class ig{constructor(n){this.jsonDoc=void 0,this.buffers=[],this.bufferViews=[],this.bufferViewBuffers=[],this.accessors=[],this.textures=[],this.textureInfos=new Map,this.materials=[],this.meshes=[],this.cameras=[],this.nodes=[],this.skins=[],this.animations=[],this.scenes=[],this.jsonDoc=n}setTextureInfo(n,i){this.textureInfos.set(n,i),i.texCoord!==void 0&&n.setTexCoord(i.texCoord),i.extras!==void 0&&n.setExtras(i.extras);const a=this.jsonDoc.json.textures[i.index];if(a.sampler===void 0)return;const l=this.jsonDoc.json.samplers[a.sampler];l.magFilter!==void 0&&n.setMagFilter(l.magFilter),l.minFilter!==void 0&&n.setMinFilter(l.minFilter),l.wrapS!==void 0&&n.setWrapS(l.wrapS),l.wrapT!==void 0&&n.setWrapT(l.wrapT)}}const Nf={logger:kt.DEFAULT_INSTANCE,extensions:[],dependencies:{}},og=new Set([D.BUFFER,D.TEXTURE,D.MATERIAL,D.MESH,D.PRIMITIVE,D.NODE,D.SCENE]);class lg{static read(n,i=Nf){const a=at({},Nf,i),{json:l}=n,c=new zr().setLogger(a.logger);this.validate(n,a);const d=new ig(n),p=l.asset,g=c.getRoot().getAsset();p.copyright&&(g.copyright=p.copyright),p.extras&&(g.extras=p.extras),l.extras!==void 0&&c.getRoot().setExtras(at({},l.extras));const m=l.extensionsUsed||[],S=l.extensionsRequired||[];a.extensions.sort((y,k)=>y.EXTENSION_NAME>k.EXTENSION_NAME?1:-1);for(const y of a.extensions)if(m.includes(y.EXTENSION_NAME)){const k=c.createExtension(y).setRequired(S.includes(y.EXTENSION_NAME)),z=k.prereadTypes.filter($=>!og.has($));z.length&&a.logger.warn(`Preread hooks for some types (${z.join()}), requested by extension ${k.extensionName}, are unsupported. Please file an issue or a PR.`);for(const $ of k.readDependencies)k.install($,a.dependencies[$])}const R=l.buffers||[];c.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(D.BUFFER)).forEach(y=>y.preread(d,D.BUFFER)),d.buffers=R.map(y=>{const k=c.createBuffer(y.name);return y.extras&&k.setExtras(y.extras),y.uri&&y.uri.indexOf("__")!==0&&k.setURI(y.uri),k});const _=l.bufferViews||[];d.bufferViewBuffers=_.map((y,k)=>{if(!d.bufferViews[k]){const z=n.json.buffers[y.buffer],$=z.uri?n.resources[z.uri]:n.resources[Br],re=y.byteOffset||0;d.bufferViews[k]=ge.toView($,re,y.byteLength)}return d.buffers[y.buffer]});const M=l.accessors||[];d.accessors=M.map(y=>{const k=d.bufferViewBuffers[y.bufferView],z=c.createAccessor(y.name,k).setType(y.type);return y.extras&&z.setExtras(y.extras),y.normalized!==void 0&&z.setNormalized(y.normalized),y.bufferView===void 0||z.setArray(Yi(y,d)),z});const G=l.images||[],H=l.textures||[];c.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(D.TEXTURE)).forEach(y=>y.preread(d,D.TEXTURE)),d.textures=G.map(y=>{const k=c.createTexture(y.name);if(y.extras&&k.setExtras(y.extras),y.bufferView!==void 0){const z=l.bufferViews[y.bufferView],$=n.json.buffers[z.buffer],re=$.uri?n.resources[$.uri]:n.resources[Br],te=z.byteOffset||0,Q=z.byteLength,ce=re.slice(te,te+Q);k.setImage(ce)}else y.uri!==void 0&&(k.setImage(n.resources[y.uri]),y.uri.indexOf("__")!==0&&k.setURI(y.uri));if(y.mimeType!==void 0)k.setMimeType(y.mimeType);else if(y.uri){const z=lr.extension(y.uri);k.setMimeType(Kt.extensionToMimeType(z))}return k}),c.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(D.MATERIAL)).forEach(y=>y.preread(d,D.MATERIAL));const j=l.materials||[];d.materials=j.map(y=>{const k=c.createMaterial(y.name);y.extras&&k.setExtras(y.extras),y.alphaMode!==void 0&&k.setAlphaMode(y.alphaMode),y.alphaCutoff!==void 0&&k.setAlphaCutoff(y.alphaCutoff),y.doubleSided!==void 0&&k.setDoubleSided(y.doubleSided);const z=y.pbrMetallicRoughness||{};if(z.baseColorFactor!==void 0&&k.setBaseColorFactor(z.baseColorFactor),y.emissiveFactor!==void 0&&k.setEmissiveFactor(y.emissiveFactor),z.metallicFactor!==void 0&&k.setMetallicFactor(z.metallicFactor),z.roughnessFactor!==void 0&&k.setRoughnessFactor(z.roughnessFactor),z.baseColorTexture!==void 0){const $=z.baseColorTexture,re=d.textures[H[$.index].source];k.setBaseColorTexture(re),d.setTextureInfo(k.getBaseColorTextureInfo(),$)}if(y.emissiveTexture!==void 0){const $=y.emissiveTexture,re=d.textures[H[$.index].source];k.setEmissiveTexture(re),d.setTextureInfo(k.getEmissiveTextureInfo(),$)}if(y.normalTexture!==void 0){const $=y.normalTexture,re=d.textures[H[$.index].source];k.setNormalTexture(re),d.setTextureInfo(k.getNormalTextureInfo(),$),y.normalTexture.scale!==void 0&&k.setNormalScale(y.normalTexture.scale)}if(y.occlusionTexture!==void 0){const $=y.occlusionTexture,re=d.textures[H[$.index].source];k.setOcclusionTexture(re),d.setTextureInfo(k.getOcclusionTextureInfo(),$),y.occlusionTexture.strength!==void 0&&k.setOcclusionStrength(y.occlusionTexture.strength)}if(z.metallicRoughnessTexture!==void 0){const $=z.metallicRoughnessTexture,re=d.textures[H[$.index].source];k.setMetallicRoughnessTexture(re),d.setTextureInfo(k.getMetallicRoughnessTextureInfo(),$)}return k}),c.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(D.MESH)).forEach(y=>y.preread(d,D.MESH));const T=l.meshes||[];c.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(D.PRIMITIVE)).forEach(y=>y.preread(d,D.PRIMITIVE)),d.meshes=T.map(y=>{const k=c.createMesh(y.name);return y.extras&&k.setExtras(y.extras),y.weights!==void 0&&k.setWeights(y.weights),(y.primitives||[]).forEach($=>{const re=c.createPrimitive();$.extras&&re.setExtras($.extras),$.material!==void 0&&re.setMaterial(d.materials[$.material]),$.mode!==void 0&&re.setMode($.mode);for(const[ce,oe]of Object.entries($.attributes||{}))re.setAttribute(ce,d.accessors[oe]);$.indices!==void 0&&re.setIndices(d.accessors[$.indices]);const te=y.extras&&y.extras.targetNames||[];($.targets||[]).forEach((ce,oe)=>{const ue=te[oe]||oe.toString(),fe=c.createPrimitiveTarget(ue);for(const[K,Z]of Object.entries(ce))fe.setAttribute(K,d.accessors[Z]);re.addTarget(fe)}),k.addPrimitive(re)}),k});const X=l.cameras||[];d.cameras=X.map(y=>{const k=c.createCamera(y.name).setType(y.type);if(y.extras&&k.setExtras(y.extras),y.type===ur.Type.PERSPECTIVE){const z=y.perspective;k.setYFov(z.yfov),k.setZNear(z.znear),z.zfar!==void 0&&k.setZFar(z.zfar),z.aspectRatio!==void 0&&k.setAspectRatio(z.aspectRatio)}else{const z=y.orthographic;k.setZNear(z.znear).setZFar(z.zfar).setXMag(z.xmag).setYMag(z.ymag)}return k});const O=l.nodes||[];c.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(D.NODE)).forEach(y=>y.preread(d,D.NODE)),d.nodes=O.map(y=>{const k=c.createNode(y.name);if(y.extras&&k.setExtras(y.extras),y.translation!==void 0&&k.setTranslation(y.translation),y.rotation!==void 0&&k.setRotation(y.rotation),y.scale!==void 0&&k.setScale(y.scale),y.matrix!==void 0){const z=[0,0,0],$=[0,0,0,1],re=[1,1,1];Ie.decompose(y.matrix,z,$,re),k.setTranslation(z),k.setRotation($),k.setScale(re)}return y.weights!==void 0&&k.setWeights(y.weights),k});const B=l.skins||[];d.skins=B.map(y=>{const k=c.createSkin(y.name);y.extras&&k.setExtras(y.extras),y.inverseBindMatrices!==void 0&&k.setInverseBindMatrices(d.accessors[y.inverseBindMatrices]),y.skeleton!==void 0&&k.setSkeleton(d.nodes[y.skeleton]);for(const z of y.joints)k.addJoint(d.nodes[z]);return k}),O.map((y,k)=>{const z=d.nodes[k];(y.children||[]).forEach(re=>z.addChild(d.nodes[re])),y.mesh!==void 0&&z.setMesh(d.meshes[y.mesh]),y.camera!==void 0&&z.setCamera(d.cameras[y.camera]),y.skin!==void 0&&z.setSkin(d.skins[y.skin])});const F=l.animations||[];d.animations=F.map(y=>{const k=c.createAnimation(y.name);y.extras&&k.setExtras(y.extras);const $=(y.samplers||[]).map(te=>{const Q=c.createAnimationSampler().setInput(d.accessors[te.input]).setOutput(d.accessors[te.output]).setInterpolation(te.interpolation||Vr.Interpolation.LINEAR);return te.extras&&Q.setExtras(te.extras),k.addSampler(Q),Q});return(y.channels||[]).forEach(te=>{const Q=c.createAnimationChannel().setSampler($[te.sampler]).setTargetPath(te.target.path);te.target.node!==void 0&&Q.setTargetNode(d.nodes[te.target.node]),te.extras&&Q.setExtras(te.extras),k.addChannel(Q)}),k});const b=l.scenes||[];return c.getRoot().listExtensionsUsed().filter(y=>y.prereadTypes.includes(D.SCENE)).forEach(y=>y.preread(d,D.SCENE)),d.scenes=b.map(y=>{const k=c.createScene(y.name);return y.extras&&k.setExtras(y.extras),(y.nodes||[]).map($=>d.nodes[$]).forEach($=>k.addChild($)),k}),l.scene!==void 0&&c.getRoot().setDefaultScene(d.scenes[l.scene]),c.getRoot().listExtensionsUsed().forEach(y=>y.read(d)),M.forEach((y,k)=>{const z=d.accessors[k],$=!!y.sparse,re=!y.bufferView&&!z.getArray();($||re)&&z.setSparse(!0).setArray(ug(y,d))}),c}static validate(n,i){const a=n.json;if(a.asset.version!=="2.0")throw new Error(`Unsupported glTF version, "${a.asset.version}".`);if(a.extensionsRequired){for(const l of a.extensionsRequired)if(!i.extensions.find(c=>c.EXTENSION_NAME===l))throw new Error(`Missing required extension, "${l}".`)}if(a.extensionsUsed)for(const l of a.extensionsUsed)i.extensions.find(c=>c.EXTENSION_NAME===l)||i.logger.warn(`Missing optional extension, "${l}".`)}}function ag(f,n){const i=n.jsonDoc,a=n.bufferViews[f.bufferView],l=i.json.bufferViews[f.bufferView],c=eo[f.componentType],d=Y.getElementSize(f.type),p=c.BYTES_PER_ELEMENT,g=f.byteOffset||0,m=new c(f.count*d),S=new DataView(a.buffer,a.byteOffset,a.byteLength),R=l.byteStride;for(let _=0;_<f.count;_++)for(let M=0;M<d;M++){const G=g+_*R+M*p;let H;switch(f.componentType){case Y.ComponentType.FLOAT:H=S.getFloat32(G,!0);break;case Y.ComponentType.UNSIGNED_INT:H=S.getUint32(G,!0);break;case Y.ComponentType.UNSIGNED_SHORT:H=S.getUint16(G,!0);break;case Y.ComponentType.UNSIGNED_BYTE:H=S.getUint8(G);break;case Y.ComponentType.SHORT:H=S.getInt16(G,!0);break;case Y.ComponentType.BYTE:H=S.getInt8(G);break;default:throw new Error(`Unexpected componentType "${f.componentType}".`)}m[_*d+M]=H}return m}function Yi(f,n){const i=n.jsonDoc,a=n.bufferViews[f.bufferView],l=i.json.bufferViews[f.bufferView],c=eo[f.componentType],d=Y.getElementSize(f.type),p=c.BYTES_PER_ELEMENT,g=d*p;if(l.byteStride!==void 0&&l.byteStride!==g)return ag(f,n);const m=a.byteOffset+(f.byteOffset||0),S=f.count*d*p;return new c(a.buffer.slice(m,m+S))}function ug(f,n){const i=eo[f.componentType],a=Y.getElementSize(f.type);let l;f.bufferView!==void 0?l=Yi(f,n):l=new i(f.count*a);const c=f.sparse;if(!c)return l;const d=c.count,p=at({},f,c.indices,{count:d,type:"SCALAR"}),g=at({},f,c.values,{count:d}),m=Yi(p,n),S=Yi(g,n);for(let R=0;R<p.count;R++)for(let _=0;_<a;_++)l[m[R]*a+_]=S[R*a+_];return l}var Ds;(function(f){f[f.ARRAY_BUFFER=34962]="ARRAY_BUFFER",f[f.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"})(Ds||(Ds={}));class Xt{constructor(n,i,a){this._doc=void 0,this.jsonDoc=void 0,this.options=void 0,this.accessorIndexMap=new Map,this.animationIndexMap=new Map,this.bufferIndexMap=new Map,this.cameraIndexMap=new Map,this.skinIndexMap=new Map,this.materialIndexMap=new Map,this.meshIndexMap=new Map,this.nodeIndexMap=new Map,this.imageIndexMap=new Map,this.textureDefIndexMap=new Map,this.textureInfoDefMap=new Map,this.samplerDefIndexMap=new Map,this.sceneIndexMap=new Map,this.imageBufferViews=[],this.otherBufferViews=new Map,this.otherBufferViewsIndexMap=new Map,this.extensionData={},this.bufferURIGenerator=void 0,this.imageURIGenerator=void 0,this.logger=void 0,this._accessorUsageMap=new Map,this.accessorUsageGroupedByParent=new Set(["ARRAY_BUFFER"]),this.accessorParents=new Map,this._doc=n,this.jsonDoc=i,this.options=a;const l=n.getRoot(),c=l.listBuffers().length,d=l.listTextures().length;this.bufferURIGenerator=new If(c>1,()=>a.basename||"buffer"),this.imageURIGenerator=new If(d>1,p=>cg(n,p)||a.basename||"texture"),this.logger=n.getLogger()}createTextureInfoDef(n,i){const a={magFilter:i.getMagFilter()||void 0,minFilter:i.getMinFilter()||void 0,wrapS:i.getWrapS(),wrapT:i.getWrapT()},l=JSON.stringify(a);this.samplerDefIndexMap.has(l)||(this.samplerDefIndexMap.set(l,this.jsonDoc.json.samplers.length),this.jsonDoc.json.samplers.push(a));const c={source:this.imageIndexMap.get(n),sampler:this.samplerDefIndexMap.get(l)},d=JSON.stringify(c);this.textureDefIndexMap.has(d)||(this.textureDefIndexMap.set(d,this.jsonDoc.json.textures.length),this.jsonDoc.json.textures.push(c));const p={index:this.textureDefIndexMap.get(d)};return i.getTexCoord()!==0&&(p.texCoord=i.getTexCoord()),Object.keys(i.getExtras()).length>0&&(p.extras=i.getExtras()),this.textureInfoDefMap.set(i,p),p}createPropertyDef(n){const i={};return n.getName()&&(i.name=n.getName()),Object.keys(n.getExtras()).length>0&&(i.extras=n.getExtras()),i}createAccessorDef(n){const i=this.createPropertyDef(n);return i.type=n.getType(),i.componentType=n.getComponentType(),i.count=n.getCount(),this._doc.getGraph().listParentEdges(n).some(l=>l.getName()==="attributes"&&l.getAttributes().key==="POSITION"||l.getName()==="input")&&(i.max=n.getMax([]).map(Math.fround),i.min=n.getMin([]).map(Math.fround)),n.getNormalized()&&(i.normalized=n.getNormalized()),i}createImageData(n,i,a){if(this.options.format===vn.GLB)this.imageBufferViews.push(i),n.bufferView=this.jsonDoc.json.bufferViews.length,this.jsonDoc.json.bufferViews.push({buffer:0,byteOffset:-1,byteLength:i.byteLength});else{const l=Kt.mimeTypeToExtension(a.getMimeType());n.uri=this.imageURIGenerator.createURI(a,l),this.assignResourceURI(n.uri,i,!1)}}assignResourceURI(n,i,a){const l=this.jsonDoc.resources;if(!(n in l)){l[n]=i;return}if(i===l[n]){this.logger.warn(`Duplicate resource URI, "${n}".`);return}const c=`Resource URI "${n}" already assigned to different data.`;if(!a){this.logger.warn(c);return}throw new Error(c)}getAccessorUsage(n){const i=this._accessorUsageMap.get(n);if(i)return i;if(n.getSparse())return Tt.SPARSE;for(const a of this._doc.getGraph().listParentEdges(n)){const{usage:l}=a.getAttributes();if(l)return l;a.getParent().propertyType!==D.ROOT&&this.logger.warn(`Missing attribute ".usage" on edge, "${a.getName()}".`)}return Tt.OTHER}addAccessorToUsageGroup(n,i){const a=this._accessorUsageMap.get(n);if(a&&a!==i)throw new Error(`Accessor with usage "${a}" cannot be reused as "${i}".`);return this._accessorUsageMap.set(n,i),this}}Xt.BufferViewTarget=Ds;Xt.BufferViewUsage=Tt;Xt.USAGE_TO_TARGET={[Tt.ARRAY_BUFFER]:Ds.ARRAY_BUFFER,[Tt.ELEMENT_ARRAY_BUFFER]:Ds.ELEMENT_ARRAY_BUFFER};class If{constructor(n,i){this.multiple=void 0,this.basename=void 0,this.counter={},this.multiple=n,this.basename=i}createURI(n,i){if(n.getURI())return n.getURI();if(this.multiple){const a=this.basename(n);return this.counter[a]=this.counter[a]||1,`${a}_${this.counter[a]++}.${i}`}else return`${this.basename(n)}.${i}`}}function cg(f,n){const i=f.getGraph().listParentEdges(n).find(a=>a.getParent()!==f.getRoot());return i?i.getName().replace(/texture$/i,""):""}const{BufferViewUsage:Xi}=Xt,{UNSIGNED_INT:fg,UNSIGNED_SHORT:dg,UNSIGNED_BYTE:pg}=Y.ComponentType,hg=new Set([D.ACCESSOR,D.BUFFER,D.MATERIAL,D.MESH]);class gg{static write(n,i){const a=n.getGraph(),l=n.getRoot(),c={asset:at({generator:`glTF-Transform ${Hf}`},l.getAsset()),extras:at({},l.getExtras())},d={json:c,resources:{}},p=new Xt(n,d,i),g=i.logger||kt.DEFAULT_INSTANCE,m=new Set(i.extensions.map(T=>T.EXTENSION_NAME)),S=n.getRoot().listExtensionsUsed().filter(T=>m.has(T.extensionName)).sort((T,X)=>T.extensionName>X.extensionName?1:-1),R=n.getRoot().listExtensionsRequired().filter(T=>m.has(T.extensionName)).sort((T,X)=>T.extensionName>X.extensionName?1:-1);S.length<n.getRoot().listExtensionsUsed().length&&g.warn("Some extensions were not registered for I/O, and will not be written.");for(const T of S){const X=T.prewriteTypes.filter(O=>!hg.has(O));X.length&&g.warn(`Prewrite hooks for some types (${X.join()}), requested by extension ${T.extensionName}, are unsupported. Please file an issue or a PR.`);for(const O of T.writeDependencies)T.install(O,i.dependencies[O])}function _(T,X,O,B){const F=[];let b=0;for(const z of T){const $=p.createAccessorDef(z);$.bufferView=c.bufferViews.length;const re=z.getArray(),te=ge.pad(ge.toView(re));$.byteOffset=b,b+=te.byteLength,F.push(te),p.accessorIndexMap.set(z,c.accessors.length),c.accessors.push($)}const y=ge.concat(F),k={buffer:X,byteOffset:O,byteLength:y.byteLength};return B&&(k.target=B),c.bufferViews.push(k),{buffers:F,byteLength:b}}function M(T,X,O){const B=T[0].getCount();let F=0;for(const $ of T){const re=p.createAccessorDef($);re.bufferView=c.bufferViews.length,re.byteOffset=F;const te=$.getElementSize(),Q=$.getComponentSize();F+=ge.padNumber(te*Q),p.accessorIndexMap.set($,c.accessors.length),c.accessors.push(re)}const b=B*F,y=new ArrayBuffer(b),k=new DataView(y);for(let $=0;$<B;$++){let re=0;for(const te of T){const Q=te.getElementSize(),ce=te.getComponentSize(),oe=te.getComponentType(),ue=te.getArray();for(let fe=0;fe<Q;fe++){const K=$*F+re+fe*ce,Z=ue[$*Q+fe];switch(oe){case Y.ComponentType.FLOAT:k.setFloat32(K,Z,!0);break;case Y.ComponentType.BYTE:k.setInt8(K,Z);break;case Y.ComponentType.SHORT:k.setInt16(K,Z,!0);break;case Y.ComponentType.UNSIGNED_BYTE:k.setUint8(K,Z);break;case Y.ComponentType.UNSIGNED_SHORT:k.setUint16(K,Z,!0);break;case Y.ComponentType.UNSIGNED_INT:k.setUint32(K,Z,!0);break;default:throw new Error("Unexpected component type: "+oe)}}re+=ge.padNumber(Q*ce)}}const z={buffer:X,byteOffset:O,byteLength:b,byteStride:F,target:Xt.BufferViewTarget.ARRAY_BUFFER};return c.bufferViews.push(z),{byteLength:b,buffers:[new Uint8Array(y)]}}function G(T,X,O){const B=[];let F=0;const b=new Map;let y=-1/0,k=!1;for(const oe of T){const ue=p.createAccessorDef(oe);c.accessors.push(ue),p.accessorIndexMap.set(oe,c.accessors.length-1);const fe=[],K=[],Z=[],J=new Array(oe.getElementSize()).fill(0);for(let pe=0,ye=oe.getCount();pe<ye;pe++)if(oe.getElement(pe,Z),!Ie.eq(Z,J,0)){y=Math.max(pe,y),fe.push(pe);for(let me=0;me<Z.length;me++)K.push(Z[me])}const N=fe.length,L={accessorDef:ue,count:N};if(b.set(oe,L),N===0)continue;N>oe.getCount()/2&&(k=!0);const he=eo[oe.getComponentType()];L.indices=fe,L.values=new he(K)}if(!Number.isFinite(y))return{buffers:B,byteLength:F};k&&g.warn("Some sparse accessors have >50% non-zero elements, which may increase file size.");const z=y<255?Uint8Array:y<65535?Uint16Array:Uint32Array,$=y<255?pg:y<65535?dg:fg,re={buffer:X,byteOffset:O+F,byteLength:0};for(const oe of T){const ue=b.get(oe);if(ue.count===0)continue;ue.indicesByteOffset=re.byteLength;const fe=ge.pad(ge.toView(new z(ue.indices)));B.push(fe),F+=fe.byteLength,re.byteLength+=fe.byteLength}c.bufferViews.push(re);const te=c.bufferViews.length-1,Q={buffer:X,byteOffset:O+F,byteLength:0};for(const oe of T){const ue=b.get(oe);if(ue.count===0)continue;ue.valuesByteOffset=Q.byteLength;const fe=ge.pad(ge.toView(ue.values));B.push(fe),F+=fe.byteLength,Q.byteLength+=fe.byteLength}c.bufferViews.push(Q);const ce=c.bufferViews.length-1;for(const oe of T){const ue=b.get(oe);ue.count!==0&&(ue.accessorDef.sparse={count:ue.count,indices:{bufferView:te,byteOffset:ue.indicesByteOffset,componentType:$},values:{bufferView:ce,byteOffset:ue.valuesByteOffset}})}return{buffers:B,byteLength:F}}if(c.accessors=[],c.bufferViews=[],c.samplers=[],c.textures=[],c.images=l.listTextures().map((T,X)=>{const O=p.createPropertyDef(T);T.getMimeType()&&(O.mimeType=T.getMimeType());const B=T.getImage();return B&&p.createImageData(O,B,T),p.imageIndexMap.set(T,X),O}),S.filter(T=>T.prewriteTypes.includes(D.ACCESSOR)).forEach(T=>T.prewrite(p,D.ACCESSOR)),l.listAccessors().forEach(T=>{const X=p.accessorUsageGroupedByParent,O=p.accessorParents;if(p.accessorIndexMap.has(T))return;const B=p.getAccessorUsage(T);if(p.addAccessorToUsageGroup(T,B),X.has(B)){const F=a.listParents(T).find(b=>b.propertyType!==D.ROOT);O.set(T,F)}}),S.filter(T=>T.prewriteTypes.includes(D.BUFFER)).forEach(T=>T.prewrite(p,D.BUFFER)),(l.listAccessors().length>0||p.otherBufferViews.size>0||l.listTextures().length>0&&i.format===vn.GLB)&&l.listBuffers().length===0)throw new Error("Buffer required for Document resources, but none was found.");c.buffers=[],l.listBuffers().forEach((T,X)=>{const O=p.createPropertyDef(T),B=p.accessorUsageGroupedByParent,F=T.listParents().filter(Q=>Q instanceof Y),b=new Set(F.map(Q=>p.accessorParents.get(Q))),y=new Map(Array.from(b).map((Q,ce)=>[Q,ce])),k={};for(const Q of F){var z;if(p.accessorIndexMap.has(Q))continue;const ce=p.getAccessorUsage(Q);let oe=ce;if(B.has(ce)){const ue=p.accessorParents.get(Q);oe+=`:${y.get(ue)}`}k[z=oe]||(k[z]={usage:ce,accessors:[]}),k[oe].accessors.push(Q)}const $=[],re=c.buffers.length;let te=0;for(const{usage:Q,accessors:ce}of Object.values(k))if(Q===Xi.ARRAY_BUFFER&&i.vertexLayout===Qi.INTERLEAVED){const oe=M(ce,re,te);te+=oe.byteLength;for(const ue of oe.buffers)$.push(ue)}else if(Q===Xi.ARRAY_BUFFER)for(const oe of ce){const ue=M([oe],re,te);te+=ue.byteLength;for(const fe of ue.buffers)$.push(fe)}else if(Q===Xi.SPARSE){const oe=G(ce,re,te);te+=oe.byteLength;for(const ue of oe.buffers)$.push(ue)}else if(Q===Xi.ELEMENT_ARRAY_BUFFER){const oe=Xt.BufferViewTarget.ELEMENT_ARRAY_BUFFER,ue=_(ce,re,te,oe);te+=ue.byteLength;for(const fe of ue.buffers)$.push(fe)}else{const oe=_(ce,re,te);te+=oe.byteLength;for(const ue of oe.buffers)$.push(ue)}if(p.imageBufferViews.length&&X===0){for(let Q=0;Q<p.imageBufferViews.length;Q++)if(c.bufferViews[c.images[Q].bufferView].byteOffset=te,te+=p.imageBufferViews[Q].byteLength,$.push(p.imageBufferViews[Q]),te%8){const ce=8-te%8;te+=ce,$.push(new Uint8Array(ce))}}if(p.otherBufferViews.has(T))for(const Q of p.otherBufferViews.get(T))c.bufferViews.push({buffer:re,byteOffset:te,byteLength:Q.byteLength}),p.otherBufferViewsIndexMap.set(Q,c.bufferViews.length-1),te+=Q.byteLength,$.push(Q);if(te){let Q;i.format===vn.GLB?Q=Br:(Q=p.bufferURIGenerator.createURI(T,"bin"),O.uri=Q),O.byteLength=te,p.assignResourceURI(Q,ge.concat($),!0)}c.buffers.push(O),p.bufferIndexMap.set(T,X)}),l.listAccessors().find(T=>!T.getBuffer())&&g.warn("Skipped writing one or more Accessors: no Buffer assigned."),S.filter(T=>T.prewriteTypes.includes(D.MATERIAL)).forEach(T=>T.prewrite(p,D.MATERIAL)),c.materials=l.listMaterials().map((T,X)=>{const O=p.createPropertyDef(T);if(T.getAlphaMode()!==ar.AlphaMode.OPAQUE&&(O.alphaMode=T.getAlphaMode()),T.getAlphaMode()===ar.AlphaMode.MASK&&(O.alphaCutoff=T.getAlphaCutoff()),T.getDoubleSided()&&(O.doubleSided=!0),O.pbrMetallicRoughness={},Ie.eq(T.getBaseColorFactor(),[1,1,1,1])||(O.pbrMetallicRoughness.baseColorFactor=T.getBaseColorFactor()),Ie.eq(T.getEmissiveFactor(),[0,0,0])||(O.emissiveFactor=T.getEmissiveFactor()),T.getRoughnessFactor()!==1&&(O.pbrMetallicRoughness.roughnessFactor=T.getRoughnessFactor()),T.getMetallicFactor()!==1&&(O.pbrMetallicRoughness.metallicFactor=T.getMetallicFactor()),T.getBaseColorTexture()){const B=T.getBaseColorTexture(),F=T.getBaseColorTextureInfo();O.pbrMetallicRoughness.baseColorTexture=p.createTextureInfoDef(B,F)}if(T.getEmissiveTexture()){const B=T.getEmissiveTexture(),F=T.getEmissiveTextureInfo();O.emissiveTexture=p.createTextureInfoDef(B,F)}if(T.getNormalTexture()){const B=T.getNormalTexture(),F=T.getNormalTextureInfo(),b=p.createTextureInfoDef(B,F);T.getNormalScale()!==1&&(b.scale=T.getNormalScale()),O.normalTexture=b}if(T.getOcclusionTexture()){const B=T.getOcclusionTexture(),F=T.getOcclusionTextureInfo(),b=p.createTextureInfoDef(B,F);T.getOcclusionStrength()!==1&&(b.strength=T.getOcclusionStrength()),O.occlusionTexture=b}if(T.getMetallicRoughnessTexture()){const B=T.getMetallicRoughnessTexture(),F=T.getMetallicRoughnessTextureInfo();O.pbrMetallicRoughness.metallicRoughnessTexture=p.createTextureInfoDef(B,F)}return p.materialIndexMap.set(T,X),O}),S.filter(T=>T.prewriteTypes.includes(D.MESH)).forEach(T=>T.prewrite(p,D.MESH)),c.meshes=l.listMeshes().map((T,X)=>{const O=p.createPropertyDef(T);let B=null;return O.primitives=T.listPrimitives().map(F=>{const b={attributes:{}};b.mode=F.getMode();const y=F.getMaterial();y&&(b.material=p.materialIndexMap.get(y)),Object.keys(F.getExtras()).length&&(b.extras=F.getExtras());const k=F.getIndices();k&&(b.indices=p.accessorIndexMap.get(k));for(const z of F.listSemantics())b.attributes[z]=p.accessorIndexMap.get(F.getAttribute(z));for(const z of F.listTargets()){const $={};for(const re of z.listSemantics())$[re]=p.accessorIndexMap.get(z.getAttribute(re));b.targets=b.targets||[],b.targets.push($)}return F.listTargets().length&&!B&&(B=F.listTargets().map(z=>z.getName())),b}),T.getWeights().length&&(O.weights=T.getWeights()),B&&(O.extras=O.extras||{},O.extras.targetNames=B),p.meshIndexMap.set(T,X),O}),c.cameras=l.listCameras().map((T,X)=>{const O=p.createPropertyDef(T);if(O.type=T.getType(),O.type===ur.Type.PERSPECTIVE){O.perspective={znear:T.getZNear(),zfar:T.getZFar(),yfov:T.getYFov()};const B=T.getAspectRatio();B!==null&&(O.perspective.aspectRatio=B)}else O.orthographic={znear:T.getZNear(),zfar:T.getZFar(),xmag:T.getXMag(),ymag:T.getYMag()};return p.cameraIndexMap.set(T,X),O}),c.nodes=l.listNodes().map((T,X)=>{const O=p.createPropertyDef(T);return Ie.eq(T.getTranslation(),[0,0,0])||(O.translation=T.getTranslation()),Ie.eq(T.getRotation(),[0,0,0,1])||(O.rotation=T.getRotation()),Ie.eq(T.getScale(),[1,1,1])||(O.scale=T.getScale()),T.getWeights().length&&(O.weights=T.getWeights()),p.nodeIndexMap.set(T,X),O}),c.skins=l.listSkins().map((T,X)=>{const O=p.createPropertyDef(T),B=T.getInverseBindMatrices();B&&(O.inverseBindMatrices=p.accessorIndexMap.get(B));const F=T.getSkeleton();return F&&(O.skeleton=p.nodeIndexMap.get(F)),O.joints=T.listJoints().map(b=>p.nodeIndexMap.get(b)),p.skinIndexMap.set(T,X),O}),l.listNodes().forEach((T,X)=>{const O=c.nodes[X],B=T.getMesh();B&&(O.mesh=p.meshIndexMap.get(B));const F=T.getCamera();F&&(O.camera=p.cameraIndexMap.get(F));const b=T.getSkin();b&&(O.skin=p.skinIndexMap.get(b)),T.listChildren().length>0&&(O.children=T.listChildren().map(y=>p.nodeIndexMap.get(y)))}),c.animations=l.listAnimations().map((T,X)=>{const O=p.createPropertyDef(T),B=new Map;return O.samplers=T.listSamplers().map((F,b)=>{const y=p.createPropertyDef(F);return y.input=p.accessorIndexMap.get(F.getInput()),y.output=p.accessorIndexMap.get(F.getOutput()),y.interpolation=F.getInterpolation(),B.set(F,b),y}),O.channels=T.listChannels().map(F=>{const b=p.createPropertyDef(F);return b.sampler=B.get(F.getSampler()),b.target={node:p.nodeIndexMap.get(F.getTargetNode()),path:F.getTargetPath()},b}),p.animationIndexMap.set(T,X),O}),c.scenes=l.listScenes().map((T,X)=>{const O=p.createPropertyDef(T);return O.nodes=T.listChildren().map(B=>p.nodeIndexMap.get(B)),p.sceneIndexMap.set(T,X),O});const j=l.getDefaultScene();return j&&(c.scene=l.listScenes().indexOf(j)),c.extensionsUsed=S.map(T=>T.extensionName),c.extensionsRequired=R.map(T=>T.extensionName),S.forEach(T=>T.write(p)),mg(c),d}}function mg(f){const n=[];for(const i in f){const a=f[i];(Array.isArray(a)&&a.length===0||a===null||a===""||a&&typeof a=="object"&&Object.keys(a).length===0)&&n.push(i)}for(const i of n)delete f[i]}var Ji;(function(f){f[f.JSON=1313821514]="JSON",f[f.BIN=5130562]="BIN"})(Ji||(Ji={}));class xg{constructor(){this._logger=kt.DEFAULT_INSTANCE,this._extensions=new Set,this._dependencies={},this._vertexLayout=Qi.INTERLEAVED,this.lastReadBytes=0,this.lastWriteBytes=0}setLogger(n){return this._logger=n,this}registerExtensions(n){for(const i of n)this._extensions.add(i),i.register();return this}registerDependencies(n){return Object.assign(this._dependencies,n),this}setVertexLayout(n){return this._vertexLayout=n,this}async read(n){return await this.readJSON(await this.readAsJSON(n))}async readAsJSON(n){const i=await this.readURI(n,"view");this.lastReadBytes=i.byteLength;const a=_f(i)?this._binaryToJSON(i):{json:JSON.parse(ge.decodeText(i)),resources:{}};return await this._readResourcesExternal(a,this.dirname(n)),this._readResourcesInternal(a),a}async readJSON(n){return n=this._copyJSON(n),this._readResourcesInternal(n),lg.read(n,{extensions:Array.from(this._extensions),dependencies:this._dependencies,logger:this._logger})}async binaryToJSON(n){const i=this._binaryToJSON(ge.assertView(n));this._readResourcesInternal(i);const a=i.json;if(a.buffers&&a.buffers.some(l=>yg(i,l)))throw new Error("Cannot resolve external buffers with binaryToJSON().");if(a.images&&a.images.some(l=>vg(i,l)))throw new Error("Cannot resolve external images with binaryToJSON().");return i}async readBinary(n){return this.readJSON(await this.binaryToJSON(ge.assertView(n)))}async writeJSON(n,i={}){if(i.format===vn.GLB&&n.getRoot().listBuffers().length>1)throw new Error("GLB must have 01 buffers.");return gg.write(n,{format:i.format||vn.GLTF,basename:i.basename||"",logger:this._logger,vertexLayout:this._vertexLayout,dependencies:at({},this._dependencies),extensions:Array.from(this._extensions)})}async writeBinary(n){const{json:i,resources:a}=await this.writeJSON(n,{format:vn.GLB}),l=new Uint32Array([1179937895,2,12]),c=JSON.stringify(i),d=ge.pad(ge.encodeText(c),32),p=ge.toView(new Uint32Array([d.byteLength,1313821514])),g=ge.concat([p,d]);l[l.length-1]+=g.byteLength;const m=Object.values(a)[0];if(!m||!m.byteLength)return ge.concat([ge.toView(l),g]);const S=ge.pad(m,0),R=ge.toView(new Uint32Array([S.byteLength,5130562])),_=ge.concat([R,S]);return l[l.length-1]+=_.byteLength,ge.concat([ge.toView(l),g,_])}async _readResourcesExternal(n,i){var a=this;const l=n.json.images||[],c=n.json.buffers||[],d=[...l,...c].map(async function(p){const g=p.uri;if(!g||g.match(/data:/))return Promise.resolve();n.resources[g]=await a.readURI(a.resolve(i,g),"view"),a.lastReadBytes+=n.resources[g].byteLength});await Promise.all(d)}_readResourcesInternal(n){function i(c){if(c.uri){if(c.uri in n.resources){ge.assertView(n.resources[c.uri]);return}if(c.uri.match(/data:/)){const d=`__${eg()}.${lr.extension(c.uri)}`;n.resources[d]=ge.createBufferFromDataURI(c.uri),c.uri=d}}}(n.json.images||[]).forEach(c=>{if(c.bufferView===void 0&&c.uri===void 0)throw new Error("Missing resource URI or buffer view.");i(c)}),(n.json.buffers||[]).forEach(i)}_copyJSON(n){const{images:i,buffers:a}=n.json;return n={json:at({},n.json),resources:at({},n.resources)},i&&(n.json.images=i.map(l=>at({},l))),a&&(n.json.buffers=a.map(l=>at({},l))),n}_binaryToJSON(n){if(!_f(n))throw new Error("Invalid glTF 2.0 binary.");const i=new Uint32Array(n.buffer,n.byteOffset+12,2);if(i[1]!==Ji.JSON)throw new Error("Missing required GLB JSON chunk.");const a=20,l=i[0],c=ge.decodeText(ge.toView(n,a,l)),d=JSON.parse(c),p=a+l;if(n.byteLength<=p)return{json:d,resources:{}};const g=new Uint32Array(n.buffer,n.byteOffset+p,2);if(g[1]!==Ji.BIN)return{json:d,resources:{}};const m=g[0],S=ge.toView(n,p+8,m);return{json:d,resources:{[Br]:S}}}}function yg(f,n){return n.uri!==void 0&&!(n.uri in f.resources)}function vg(f,n){return n.uri!==void 0&&!(n.uri in f.resources)&&n.bufferView===void 0}function _f(f){if(f.byteLength<3*Uint32Array.BYTES_PER_ELEMENT)return!1;const n=new Uint32Array(f.buffer,f.byteOffset,3);return n[0]===1179937895&&n[1]===2}class Tg extends xg{constructor(n=null,i=zt.DEFAULT_INIT){super(),this._fetch=void 0,this._fetchConfig=void 0,this._init=void 0,this._fetchEnabled=!1,this._fetch=n,this._fetchConfig=i,this._init=this.init()}async init(){return this._init?this._init:Promise.all([Tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),Tf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])]).then(([n,i])=>{this._fs=n.promises,this._path=i})}setAllowNetwork(n){if(n&&!this._fetch)throw new Error("NodeIO requires a Fetch API implementation for HTTP requests.");return this._fetchEnabled=n,this}async readURI(n,i){if(await this.init(),zt.isAbsoluteURL(n)){if(!this._fetchEnabled||!this._fetch)throw new Error("Network request blocked. Allow HTTP requests explicitly, if needed.");const a=await this._fetch(n,this._fetchConfig);switch(i){case"view":return new Uint8Array(await a.arrayBuffer());case"text":return a.text()}}else switch(i){case"view":return this._fs.readFile(n);case"text":return this._fs.readFile(n,"utf8")}}resolve(n,i){return zt.isAbsoluteURL(n)||zt.isAbsoluteURL(i)?zt.resolve(n,i):this._path.resolve(n,decodeURIComponent(i))}dirname(n){return zt.isAbsoluteURL(n)?zt.dirname(n):this._path.dirname(n)}async write(n,i){await this.init(),await(!!n.match(/\.glb$/)?this._writeGLB(n,i):this._writeGLTF(n,i))}async _writeGLTF(n,i){var a=this;this.lastWriteBytes=0;const{json:l,resources:c}=await this.writeJSON(i,{format:vn.GLTF,basename:lr.basename(n)}),{_fs:d,_path:p}=this,g=p.dirname(n),m=JSON.stringify(l,null,2);await d.writeFile(n,m),this.lastWriteBytes+=m.length;for(const S of Eg(Object.keys(c),10))await Promise.all(S.map(async function(R){if(zt.isAbsoluteURL(R)){if(zt.extension(R)==="bin")throw new Error(`Cannot write buffer to path "${R}".`);return}const _=p.join(g,decodeURIComponent(R));await d.mkdir(p.dirname(_),{recursive:!0}),await d.writeFile(_,c[R]),a.lastWriteBytes+=c[R].byteLength}))}async _writeGLB(n,i){const a=await this.writeBinary(i);await this._fs.writeFile(n,a),this.lastWriteBytes=a.byteLength}}function Eg(f,n){const i=[];for(let a=0,l=f.length;a<l;a+=n){const c=[];for(let d=0;d<n&&a+d<l;d++)c.push(f[a+d]);i.push(c)}return i}const wg=0,Sg=0,Rg=0,Ng=2,Ig=0,_g=163,Cg=166,Ag=0,Mg=2,kg=1,Og=64,Dg=0;function jg(){return{vkFormat:Dg,typeSize:1,pixelWidth:0,pixelHeight:0,pixelDepth:0,layerCount:0,faceCount:1,levelCount:0,supercompressionScheme:wg,levels:[],dataFormatDescriptor:[{vendorId:Rg,descriptorType:Sg,versionNumber:Ng,colorModel:Ig,colorPrimaries:kg,transferFunction:Mg,flags:Ag,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],keyValue:{},globalData:null}}class Cs{constructor(n,i,a,l){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(n.buffer,n.byteOffset+i,a),this._littleEndian=l,this._offset=0}_nextUint8(){const n=this._dataView.getUint8(this._offset);return this._offset+=1,n}_nextUint16(){const n=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,n}_nextUint32(){const n=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,n}_nextUint64(){const n=this._dataView.getUint32(this._offset,this._littleEndian),i=this._dataView.getUint32(this._offset+4,this._littleEndian),a=n+2**32*i;return this._offset+=8,a}_nextInt32(){const n=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,n}_nextUint8Array(n){const i=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,n);return this._offset+=n,i}_skip(n){return this._offset+=n,this}_scan(n,i=0){const a=this._offset;let l=0;for(;this._dataView.getUint8(this._offset)!==i&&l<n;)l++,this._offset++;return l<n&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+a,l)}}const lt=[171,75,84,88,32,50,48,187,13,10,26,10];function Cf(f){return new TextDecoder().decode(f)}function ta(f){const n=new Uint8Array(f.buffer,f.byteOffset,lt.length);if(n[0]!==lt[0]||n[1]!==lt[1]||n[2]!==lt[2]||n[3]!==lt[3]||n[4]!==lt[4]||n[5]!==lt[5]||n[6]!==lt[6]||n[7]!==lt[7]||n[8]!==lt[8]||n[9]!==lt[9]||n[10]!==lt[10]||n[11]!==lt[11])throw new Error("Missing KTX 2.0 identifier.");const i=jg(),a=17*Uint32Array.BYTES_PER_ELEMENT,l=new Cs(f,lt.length,a,!0);i.vkFormat=l._nextUint32(),i.typeSize=l._nextUint32(),i.pixelWidth=l._nextUint32(),i.pixelHeight=l._nextUint32(),i.pixelDepth=l._nextUint32(),i.layerCount=l._nextUint32(),i.faceCount=l._nextUint32(),i.levelCount=l._nextUint32(),i.supercompressionScheme=l._nextUint32();const c=l._nextUint32(),d=l._nextUint32(),p=l._nextUint32(),g=l._nextUint32(),m=l._nextUint64(),S=l._nextUint64(),R=Math.max(i.levelCount,1)*3*8,_=new Cs(f,lt.length+a,R,!0);for(let Ne=0,Ke=Math.max(i.levelCount,1);Ne<Ke;Ne++)i.levels.push({levelData:new Uint8Array(f.buffer,f.byteOffset+_._nextUint64(),_._nextUint64()),uncompressedByteLength:_._nextUint64()});const M=new Cs(f,c,d,!0);M._skip(4);const G=M._nextUint16(),H=M._nextUint16(),j=M._nextUint16(),T=M._nextUint16(),X=M._nextUint8(),O=M._nextUint8(),B=M._nextUint8(),F=M._nextUint8(),b=[M._nextUint8(),M._nextUint8(),M._nextUint8(),M._nextUint8()],y=[M._nextUint8(),M._nextUint8(),M._nextUint8(),M._nextUint8(),M._nextUint8(),M._nextUint8(),M._nextUint8(),M._nextUint8()],z={vendorId:G,descriptorType:H,versionNumber:j,colorModel:X,colorPrimaries:O,transferFunction:B,flags:F,texelBlockDimension:b,bytesPlane:y,samples:[]},te=(T/4-6)/4;for(let Ne=0;Ne<te;Ne++){const Ke={bitOffset:M._nextUint16(),bitLength:M._nextUint8(),channelType:M._nextUint8(),samplePosition:[M._nextUint8(),M._nextUint8(),M._nextUint8(),M._nextUint8()],sampleLower:Number.NEGATIVE_INFINITY,sampleUpper:Number.POSITIVE_INFINITY};Ke.channelType&Og?(Ke.sampleLower=M._nextInt32(),Ke.sampleUpper=M._nextInt32()):(Ke.sampleLower=M._nextUint32(),Ke.sampleUpper=M._nextUint32()),z.samples[Ne]=Ke}i.dataFormatDescriptor.length=0,i.dataFormatDescriptor.push(z);const Q=new Cs(f,p,g,!0);for(;Q._offset<g;){const Ne=Q._nextUint32(),Ke=Q._scan(Ne),$n=Cf(Ke);if(i.keyValue[$n]=Q._nextUint8Array(Ne-Ke.byteLength-1),$n.match(/^ktx/i)){const fr=Cf(i.keyValue[$n]);i.keyValue[$n]=fr.substring(0,fr.lastIndexOf("\0"))}const cr=Ne%4?4-Ne%4:0;Q._skip(cr)}if(S<=0)return i;const ce=new Cs(f,m,S,!0),oe=ce._nextUint16(),ue=ce._nextUint16(),fe=ce._nextUint32(),K=ce._nextUint32(),Z=ce._nextUint32(),J=ce._nextUint32(),N=[];for(let Ne=0,Ke=Math.max(i.levelCount,1);Ne<Ke;Ne++)N.push({imageFlags:ce._nextUint32(),rgbSliceByteOffset:ce._nextUint32(),rgbSliceByteLength:ce._nextUint32(),alphaSliceByteOffset:ce._nextUint32(),alphaSliceByteLength:ce._nextUint32()});const L=m+ce._offset,he=L+fe,pe=he+K,ye=pe+Z,me=new Uint8Array(f.buffer,f.byteOffset+L,fe),Re=new Uint8Array(f.buffer,f.byteOffset+he,K),Ee=new Uint8Array(f.buffer,f.byteOffset+pe,Z),Ce=new Uint8Array(f.buffer,f.byteOffset+ye,J);return i.globalData={endpointCount:oe,selectorCount:ue,imageDescs:N,endpointsData:me,selectorsData:Re,tablesData:Ee,extendedData:Ce},i}const sn="EXT_mesh_gpu_instancing",Ze="EXT_meshopt_compression",As="EXT_texture_webp",Ms="EXT_texture_avif",Pe="KHR_draco_mesh_compression",Ct="KHR_lights_punctual",on="KHR_materials_anisotropy",ln="KHR_materials_clearcoat",an="KHR_materials_diffuse_transmission",un="KHR_materials_dispersion",cn="KHR_materials_emissive_strength",fn="KHR_materials_ior",dn="KHR_materials_iridescence",pn="KHR_materials_pbrSpecularGlossiness",hn="KHR_materials_sheen",gn="KHR_materials_specular",mn="KHR_materials_transmission",zn="KHR_materials_unlit",xn="KHR_materials_volume",st="KHR_materials_variants",td="KHR_mesh_quantization",ks="KHR_texture_basisu",yn="KHR_texture_transform",At="KHR_xmp_json_ld",la="INSTANCE_ATTRIBUTE";class nd extends ze{init(){this.extensionName=sn,this.propertyType="InstancedMesh",this.parentTypes=[D.NODE]}getDefaults(){return Object.assign(super.getDefaults(),{attributes:new Vt})}getAttribute(n){return this.getRefMap("attributes",n)}setAttribute(n,i){return this.setRefMap("attributes",n,i,{usage:la})}listAttributes(){return this.listRefMapValues("attributes")}listSemantics(){return this.listRefMapKeys("attributes")}}nd.EXTENSION_NAME=sn;class Lg extends De{constructor(...n){super(...n),this.extensionName=sn,this.provideTypes=[D.NODE],this.prewriteTypes=[D.ACCESSOR]}createInstancedMesh(){return new nd(this.document.getGraph())}read(n){return(n.jsonDoc.json.nodes||[]).forEach((l,c)=>{if(!l.extensions||!l.extensions[sn])return;const d=l.extensions[sn],p=this.createInstancedMesh();for(const g in d.attributes)p.setAttribute(g,n.accessors[d.attributes[g]]);n.nodes[c].setExtension(sn,p)}),this}prewrite(n){n.accessorUsageGroupedByParent.add(la);for(const i of this.properties)for(const a of i.listAttributes())n.addAccessorToUsageGroup(a,la);return this}write(n){const i=n.jsonDoc;return this.document.getRoot().listNodes().forEach(a=>{const l=a.getExtension(sn);if(l){const c=n.nodeIndexMap.get(a),d=i.json.nodes[c],p={attributes:{}};l.listSemantics().forEach(g=>{const m=l.getAttribute(g);p.attributes[g]=n.accessorIndexMap.get(m)}),d.extensions=d.extensions||{},d.extensions[sn]=p}}),this}}Lg.EXTENSION_NAME=sn;function Tn(){return Tn=Object.assign?Object.assign.bind():function(f){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(f[a]=i[a])}return f},Tn.apply(null,arguments)}var js;(function(f){f.QUANTIZE="quantize",f.FILTER="filter"})(js||(js={}));var Ur;(function(f){f.ATTRIBUTES="ATTRIBUTES",f.TRIANGLES="TRIANGLES",f.INDICES="INDICES"})(Ur||(Ur={}));var Be;(function(f){f.NONE="NONE",f.OCTAHEDRAL="OCTAHEDRAL",f.QUATERNION="QUATERNION",f.EXPONENTIAL="EXPONENTIAL"})(Be||(Be={}));function Fg(f){return!f.extensions||!f.extensions[Ze]?!1:!!f.extensions[Ze].fallback}const{BYTE:Pg,SHORT:Af,FLOAT:Ug}=Y.ComponentType,{encodeNormalizedInt:Mf,decodeNormalizedInt:aa}=Ie;function Bg(f,n,i,a){const{filter:l,bits:c}=a,d={array:f.getArray(),byteStride:f.getElementSize()*f.getComponentSize(),componentType:f.getComponentType(),normalized:f.getNormalized()};if(i!==Ur.ATTRIBUTES)return d;if(l!==Be.NONE){let p=f.getNormalized()?zg(f):new Float32Array(d.array);switch(l){case Be.EXPONENTIAL:d.byteStride=f.getElementSize()*4,d.componentType=Ug,d.normalized=!1,d.array=n.encodeFilterExp(p,f.getCount(),d.byteStride,c);break;case Be.OCTAHEDRAL:d.byteStride=c>8?8:4,d.componentType=c>8?Af:Pg,d.normalized=!0,p=f.getElementSize()===3?bg(p):p,d.array=n.encodeFilterOct(p,f.getCount(),d.byteStride,c);break;case Be.QUATERNION:d.byteStride=8,d.componentType=Af,d.normalized=!0,d.array=n.encodeFilterQuat(p,f.getCount(),d.byteStride,c);break;default:throw new Error("Invalid filter.")}d.min=f.getMin([]),d.max=f.getMax([]),f.getNormalized()&&(d.min=d.min.map(g=>aa(g,f.getComponentType())),d.max=d.max.map(g=>aa(g,f.getComponentType()))),d.normalized&&(d.min=d.min.map(g=>Mf(g,d.componentType)),d.max=d.max.map(g=>Mf(g,d.componentType)))}else d.byteStride%4&&(d.array=Vg(d.array,f.getElementSize()),d.byteStride=d.array.byteLength/f.getCount());return d}function zg(f){const n=f.getComponentType(),i=f.getArray(),a=new Float32Array(i.length);for(let l=0;l<i.length;l++)a[l]=aa(i[l],n);return a}function Vg(f,n){const a=ge.padNumber(f.BYTES_PER_ELEMENT*n)/f.BYTES_PER_ELEMENT,l=f.length/n,c=new f.constructor(l*a);for(let d=0;d*n<f.length;d++)for(let p=0;p<n;p++)c[d*a+p]=f[d*n+p];return c}function bg(f){const n=new Float32Array(f.length*4/3);for(let i=0,a=f.length/3;i<a;i++)n[i*4]=f[i*3],n[i*4+1]=f[i*3+1],n[i*4+2]=f[i*3+2];return n}function Hg(f,n){return n===Xt.BufferViewUsage.ELEMENT_ARRAY_BUFFER?f.listParents().some(a=>a instanceof Hn&&a.getMode()===Hn.Mode.TRIANGLES)?Ur.TRIANGLES:Ur.INDICES:Ur.ATTRIBUTES}function Gg(f,n){const i=n.getGraph().listParentEdges(f).filter(a=>!(a.getParent()instanceof ed));for(const a of i){const l=a.getName(),c=a.getAttributes().key||"",d=a.getParent().propertyType===D.PRIMITIVE_TARGET;if(l==="indices")return{filter:Be.NONE};if(l==="attributes"){if(c==="POSITION")return{filter:Be.NONE};if(c==="TEXCOORD_0")return{filter:Be.NONE};if(c.startsWith("JOINTS_"))return{filter:Be.NONE};if(c.startsWith("WEIGHTS_"))return{filter:Be.NONE};if(c==="NORMAL"||c==="TANGENT")return d?{filter:Be.NONE}:{filter:Be.OCTAHEDRAL,bits:8}}if(l==="output"){const p=rd(f);return p==="rotation"?{filter:Be.QUATERNION,bits:16}:p==="translation"?{filter:Be.EXPONENTIAL,bits:12}:p==="scale"?{filter:Be.EXPONENTIAL,bits:12}:{filter:Be.NONE}}if(l==="input")return{filter:Be.NONE};if(l==="inverseBindMatrices")return{filter:Be.NONE}}return{filter:Be.NONE}}function rd(f){for(const n of f.listParents())if(n instanceof Vr){for(const i of n.listParents())if(i instanceof ga)return i.getTargetPath()}return null}const kf={method:js.QUANTIZE};class sd extends De{constructor(...n){super(...n),this.extensionName=Ze,this.prereadTypes=[D.BUFFER,D.PRIMITIVE],this.prewriteTypes=[D.BUFFER,D.ACCESSOR],this.readDependencies=["meshopt.decoder"],this.writeDependencies=["meshopt.encoder"],this._decoder=null,this._decoderFallbackBufferMap=new Map,this._encoder=null,this._encoderOptions=kf,this._encoderFallbackBuffer=null,this._encoderBufferViews={},this._encoderBufferViewData={},this._encoderBufferViewAccessors={}}install(n,i){return n==="meshopt.decoder"&&(this._decoder=i),n==="meshopt.encoder"&&(this._encoder=i),this}setEncoderOptions(n){return this._encoderOptions=Tn({},kf,n),this}preread(n,i){if(!this._decoder){if(!this.isRequired())return this;throw new Error(`[${Ze}] Please install extension dependency, "meshopt.decoder".`)}if(!this._decoder.supported){if(!this.isRequired())return this;throw new Error(`[${Ze}]: Missing WASM support.`)}return i===D.BUFFER?this._prereadBuffers(n):i===D.PRIMITIVE&&this._prereadPrimitives(n),this}_prereadBuffers(n){const i=n.jsonDoc;(i.json.bufferViews||[]).forEach((l,c)=>{if(!l.extensions||!l.extensions[Ze])return;const d=l.extensions[Ze],p=d.byteOffset||0,g=d.byteLength||0,m=d.count,S=d.byteStride,R=new Uint8Array(m*S),_=i.json.buffers[d.buffer],M=_.uri?i.resources[_.uri]:i.resources[Br],G=ge.toView(M,p,g);this._decoder.decodeGltfBuffer(R,m,S,G,d.mode,d.filter),n.bufferViews[c]=R})}_prereadPrimitives(n){const i=n.jsonDoc;(i.json.bufferViews||[]).forEach(l=>{if(!l.extensions||!l.extensions[Ze])return;const c=l.extensions[Ze],d=n.buffers[c.buffer],p=n.buffers[l.buffer],g=i.json.buffers[l.buffer];Fg(g)&&this._decoderFallbackBufferMap.set(p,d)})}read(n){if(!this.isRequired())return this;for(const[i,a]of this._decoderFallbackBufferMap){for(const l of i.listParents())l instanceof Y&&l.swap(i,a);i.dispose()}return this}prewrite(n,i){return i===D.ACCESSOR?this._prewriteAccessors(n):i===D.BUFFER&&this._prewriteBuffers(n),this}_prewriteAccessors(n){const i=n.jsonDoc.json,a=this._encoder,l=this._encoderOptions,c=this.document.getGraph(),d=this.document.createBuffer(),p=this.document.getRoot().listBuffers().indexOf(d);let g=1;const m=new Map,S=R=>{for(const _ of c.listParents(R)){if(_.propertyType===D.ROOT)continue;let M=m.get(R);return M===void 0&&m.set(R,M=g++),M}return-1};this._encoderFallbackBuffer=d,this._encoderBufferViews={},this._encoderBufferViewData={},this._encoderBufferViewAccessors={};for(const R of this.document.getRoot().listAccessors()){if(rd(R)==="weights"||R.getSparse())continue;const _=n.getAccessorUsage(R),M=n.accessorUsageGroupedByParent.has(_)?S(R):null,G=Hg(R,_),H=l.method===js.FILTER?Gg(R,this.document):{filter:Be.NONE},j=Bg(R,a,G,H),{array:T,byteStride:X}=j,O=R.getBuffer();if(!O)throw new Error(`${Ze}: Missing buffer for accessor.`);const B=this.document.getRoot().listBuffers().indexOf(O),F=[_,M,G,H.filter,X,B].join(":");let b=this._encoderBufferViews[F],y=this._encoderBufferViewData[F],k=this._encoderBufferViewAccessors[F];(!b||!y)&&(k=this._encoderBufferViewAccessors[F]=[],y=this._encoderBufferViewData[F]=[],b=this._encoderBufferViews[F]={buffer:p,target:Xt.USAGE_TO_TARGET[_],byteOffset:0,byteLength:0,byteStride:_===Xt.BufferViewUsage.ARRAY_BUFFER?X:void 0,extensions:{[Ze]:{buffer:B,byteOffset:0,byteLength:0,mode:G,filter:H.filter!==Be.NONE?H.filter:void 0,byteStride:X,count:0}}});const z=n.createAccessorDef(R);z.componentType=j.componentType,z.normalized=j.normalized,z.byteOffset=b.byteLength,z.min&&j.min&&(z.min=j.min),z.max&&j.max&&(z.max=j.max),n.accessorIndexMap.set(R,i.accessors.length),i.accessors.push(z),k.push(z),y.push(new Uint8Array(T.buffer,T.byteOffset,T.byteLength)),b.byteLength+=T.byteLength,b.extensions.EXT_meshopt_compression.count+=R.getCount()}}_prewriteBuffers(n){const i=this._encoder;for(const a in this._encoderBufferViews){const l=this._encoderBufferViews[a],c=this._encoderBufferViewData[a],d=this.document.getRoot().listBuffers()[l.extensions[Ze].buffer],p=n.otherBufferViews.get(d)||[],{count:g,byteStride:m,mode:S}=l.extensions[Ze],R=ge.concat(c),_=i.encodeGltfBuffer(R,g,m,S),M=ge.pad(_);l.extensions[Ze].byteLength=_.byteLength,c.length=0,c.push(M),p.push(M),n.otherBufferViews.set(d,p)}}write(n){let i=0;for(const d in this._encoderBufferViews){const p=this._encoderBufferViews[d],g=this._encoderBufferViewData[d][0],m=n.otherBufferViewsIndexMap.get(g),S=this._encoderBufferViewAccessors[d];for(const G of S)G.bufferView=m;const R=n.jsonDoc.json.bufferViews[m],_=R.byteOffset||0;Object.assign(R,p),R.byteOffset=i;const M=R.extensions[Ze];M.byteOffset=_,i+=ge.padNumber(p.byteLength)}const a=this._encoderFallbackBuffer,l=n.bufferIndexMap.get(a),c=n.jsonDoc.json.buffers[l];return c.byteLength=i,c.extensions={[Ze]:{fallback:!0}},a.dispose(),this}}sd.EXTENSION_NAME=Ze;sd.EncoderMethod=js;class $g{match(n){return n.length>=12&&ge.decodeText(n.slice(4,12))==="ftypavif"}getSize(n){if(!this.match(n))return null;const i=new DataView(n.buffer,n.byteOffset,n.byteLength);let a=Of(i,0);if(!a)return null;let l=a.end;for(;a=Of(i,l);)if(a.type==="meta")l=a.start+4;else if(a.type==="iprp"||a.type==="ipco")l=a.start;else{if(a.type==="ispe")return[i.getUint32(a.start+4),i.getUint32(a.start+8)];if(a.type==="mdat")break;l=a.end}return null}getChannels(n){return 4}}class Wg extends De{constructor(...n){super(...n),this.extensionName=Ms,this.prereadTypes=[D.TEXTURE]}static register(){Kt.registerFormat("image/avif",new $g)}preread(n){return(n.jsonDoc.json.textures||[]).forEach(a=>{a.extensions&&a.extensions[Ms]&&(a.source=a.extensions[Ms].source)}),this}read(n){return this}write(n){const i=n.jsonDoc;return this.document.getRoot().listTextures().forEach(a=>{if(a.getMimeType()==="image/avif"){const l=n.imageIndexMap.get(a);(i.json.textures||[]).forEach(d=>{d.source===l&&(d.extensions=d.extensions||{},d.extensions[Ms]={source:d.source},delete d.source)})}}),this}}Wg.EXTENSION_NAME=Ms;function Of(f,n){if(f.byteLength<4+n)return null;const i=f.getUint32(n);return f.byteLength<i+n||i<8?null:{type:ge.decodeText(new Uint8Array(f.buffer,f.byteOffset+n+4,4)),start:n+8,end:n+i}}class Kg{match(n){return n.length>=12&&n[8]===87&&n[9]===69&&n[10]===66&&n[11]===80}getSize(n){const i=ge.decodeText(n.slice(0,4)),a=ge.decodeText(n.slice(8,12));if(i!=="RIFF"||a!=="WEBP")return null;const l=new DataView(n.buffer,n.byteOffset);let c=12;for(;c<l.byteLength;){const d=ge.decodeText(new Uint8Array([l.getUint8(c),l.getUint8(c+1),l.getUint8(c+2),l.getUint8(c+3)])),p=l.getUint32(c+4,!0);if(d==="VP8 "){const g=l.getInt16(c+14,!0)&16383,m=l.getInt16(c+16,!0)&16383;return[g,m]}else if(d==="VP8L"){const g=l.getUint8(c+9),m=l.getUint8(c+10),S=l.getUint8(c+11),R=l.getUint8(c+12),_=1+((m&63)<<8|g),M=1+((R&15)<<10|S<<2|(m&192)>>6);return[_,M]}c+=8+p+p%2}return null}getChannels(n){return 4}}class Xg extends De{constructor(...n){super(...n),this.extensionName=As,this.prereadTypes=[D.TEXTURE]}static register(){Kt.registerFormat("image/webp",new Kg)}preread(n){return(n.jsonDoc.json.textures||[]).forEach(a=>{a.extensions&&a.extensions[As]&&(a.source=a.extensions[As].source)}),this}read(n){return this}write(n){const i=n.jsonDoc;return this.document.getRoot().listTextures().forEach(a=>{if(a.getMimeType()==="image/webp"){const l=n.imageIndexMap.get(a);(i.json.textures||[]).forEach(d=>{d.source===l&&(d.extensions=d.extensions||{},d.extensions[As]={source:d.source},delete d.source)})}}),this}}Xg.EXTENSION_NAME=As;let We,id,od;function Yg(f,n){const i=new We.DecoderBuffer;try{if(i.Init(n,n.length),f.GetEncodedGeometryType(i)!==We.TRIANGULAR_MESH)throw new Error(`[${Pe}] Unknown geometry type.`);const l=new We.Mesh;if(!f.DecodeBufferToMesh(i,l).ok()||l.ptr===0)throw new Error(`[${Pe}] Decoding failure.`);return l}finally{We.destroy(i)}}function Qg(f,n){const a=n.num_faces()*3;let l,c;if(n.num_points()<=65534){const d=a*Uint16Array.BYTES_PER_ELEMENT;l=We._malloc(d),f.GetTrianglesUInt16Array(n,d,l),c=new Uint16Array(We.HEAPU16.buffer,l,a).slice()}else{const d=a*Uint32Array.BYTES_PER_ELEMENT;l=We._malloc(d),f.GetTrianglesUInt32Array(n,d,l),c=new Uint32Array(We.HEAPU32.buffer,l,a).slice()}return We._free(l),c}function qg(f,n,i,a){const l=od[a.componentType],c=id[a.componentType],d=i.num_components(),g=n.num_points()*d,m=g*c.BYTES_PER_ELEMENT,S=We._malloc(m);f.GetAttributeDataArrayForAllPoints(n,i,l,m,S);const R=new c(We.HEAPF32.buffer,S,g).slice();return We._free(S),R}function Jg(f){We=f,id={[Y.ComponentType.FLOAT]:Float32Array,[Y.ComponentType.UNSIGNED_INT]:Uint32Array,[Y.ComponentType.UNSIGNED_SHORT]:Uint16Array,[Y.ComponentType.UNSIGNED_BYTE]:Uint8Array,[Y.ComponentType.SHORT]:Int16Array,[Y.ComponentType.BYTE]:Int8Array},od={[Y.ComponentType.FLOAT]:We.DT_FLOAT32,[Y.ComponentType.UNSIGNED_INT]:We.DT_UINT32,[Y.ComponentType.UNSIGNED_SHORT]:We.DT_UINT16,[Y.ComponentType.UNSIGNED_BYTE]:We.DT_UINT8,[Y.ComponentType.SHORT]:We.DT_INT16,[Y.ComponentType.BYTE]:We.DT_INT8}}let _t;var Ls;(function(f){f[f.EDGEBREAKER=1]="EDGEBREAKER",f[f.SEQUENTIAL=0]="SEQUENTIAL"})(Ls||(Ls={}));var Mt;(function(f){f.POSITION="POSITION",f.NORMAL="NORMAL",f.COLOR="COLOR",f.TEX_COORD="TEX_COORD",f.GENERIC="GENERIC"})(Mt||(Mt={}));const ld={[Mt.POSITION]:14,[Mt.NORMAL]:10,[Mt.COLOR]:8,[Mt.TEX_COORD]:12,[Mt.GENERIC]:12},Df={decodeSpeed:5,encodeSpeed:5,method:Ls.EDGEBREAKER,quantizationBits:ld,quantizationVolume:"mesh"};function Zg(f){_t=f}function em(f,n=Df){const i=Tn({},Df,n);i.quantizationBits=Tn({},ld,n.quantizationBits);const a=new _t.MeshBuilder,l=new _t.Mesh,c=new _t.ExpertEncoder(l),d={},p=new _t.DracoInt8Array,g=f.listTargets().length>0;let m=!1;for(const H of f.listSemantics()){const j=f.getAttribute(H);if(j.getSparse()){m=!0;continue}const T=tm(H),X=nm(a,j.getComponentType(),l,_t[T],j.getCount(),j.getElementSize(),j.getArray());if(X===-1)throw new Error(`Error compressing "${H}" attribute.`);if(d[H]=X,i.quantizationVolume==="mesh"||H!=="POSITION")c.SetAttributeQuantization(X,i.quantizationBits[T]);else if(typeof i.quantizationVolume=="object"){const{quantizationVolume:O}=i,B=Math.max(O.max[0]-O.min[0],O.max[1]-O.min[1],O.max[2]-O.min[2]);c.SetAttributeExplicitQuantization(X,i.quantizationBits[T],j.getElementSize(),O.min,B)}else throw new Error("Invalid quantization volume state.")}const S=f.getIndices();if(!S)throw new ua("Primitive must have indices.");a.AddFacesToMesh(l,S.getCount()/3,S.getArray()),c.SetSpeedOptions(i.encodeSpeed,i.decodeSpeed),c.SetTrackEncodedProperties(!0),i.method===Ls.SEQUENTIAL||g||m?c.SetEncodingMethod(_t.MESH_SEQUENTIAL_ENCODING):c.SetEncodingMethod(_t.MESH_EDGEBREAKER_ENCODING);const R=c.EncodeToDracoBuffer(!(g||m),p);if(R<=0)throw new ua("Error applying Draco compression.");const _=new Uint8Array(R);for(let H=0;H<R;++H)_[H]=p.GetValue(H);const M=c.GetNumberOfEncodedPoints(),G=c.GetNumberOfEncodedFaces()*3;return _t.destroy(p),_t.destroy(l),_t.destroy(a),_t.destroy(c),{numVertices:M,numIndices:G,data:_,attributeIDs:d}}function tm(f){return f==="POSITION"?Mt.POSITION:f==="NORMAL"?Mt.NORMAL:f.startsWith("COLOR_")?Mt.COLOR:f.startsWith("TEXCOORD_")?Mt.TEX_COORD:Mt.GENERIC}function nm(f,n,i,a,l,c,d){switch(n){case Y.ComponentType.UNSIGNED_BYTE:return f.AddUInt8Attribute(i,a,l,c,d);case Y.ComponentType.BYTE:return f.AddInt8Attribute(i,a,l,c,d);case Y.ComponentType.UNSIGNED_SHORT:return f.AddUInt16Attribute(i,a,l,c,d);case Y.ComponentType.SHORT:return f.AddInt16Attribute(i,a,l,c,d);case Y.ComponentType.UNSIGNED_INT:return f.AddUInt32Attribute(i,a,l,c,d);case Y.ComponentType.FLOAT:return f.AddFloatAttribute(i,a,l,c,d);default:throw new Error(`Unexpected component type, "${n}".`)}}class ua extends Error{}class ad extends De{constructor(...n){super(...n),this.extensionName=Pe,this.prereadTypes=[D.PRIMITIVE],this.prewriteTypes=[D.ACCESSOR],this.readDependencies=["draco3d.decoder"],this.writeDependencies=["draco3d.encoder"],this._decoderModule=null,this._encoderModule=null,this._encoderOptions={}}install(n,i){return n==="draco3d.decoder"&&(this._decoderModule=i,Jg(this._decoderModule)),n==="draco3d.encoder"&&(this._encoderModule=i,Zg(this._encoderModule)),this}setEncoderOptions(n){return this._encoderOptions=n,this}preread(n){if(!this._decoderModule)throw new Error(`[${Pe}] Please install extension dependency, "draco3d.decoder".`);const i=this.document.getLogger(),a=n.jsonDoc,l=new Map;try{const c=a.json.meshes||[];for(const d of c)for(const p of d.primitives){if(!p.extensions||!p.extensions[Pe])continue;const g=p.extensions[Pe];let[m,S]=l.get(g.bufferView)||[];if(!S||!m){const R=a.json.bufferViews[g.bufferView],_=a.json.buffers[R.buffer],M=_.uri?a.resources[_.uri]:a.resources[Br],G=R.byteOffset||0,H=R.byteLength,j=ge.toView(M,G,H);m=new this._decoderModule.Decoder,S=Yg(m,j),l.set(g.bufferView,[m,S]),i.debug(`[${Pe}] Decompressed ${j.byteLength} bytes.`)}for(const R in g.attributes){const _=n.jsonDoc.json.accessors[p.attributes[R]],M=m.GetAttributeByUniqueId(S,g.attributes[R]),G=qg(m,S,M,_);n.accessors[p.attributes[R]].setArray(G)}p.indices!==void 0&&n.accessors[p.indices].setArray(Qg(m,S))}}finally{for(const[c,d]of Array.from(l.values()))this._decoderModule.destroy(c),this._decoderModule.destroy(d)}return this}read(n){return this}prewrite(n,i){if(!this._encoderModule)throw new Error(`[${Pe}] Please install extension dependency, "draco3d.encoder".`);const a=this.document.getLogger();a.debug(`[${Pe}] Compression options: ${JSON.stringify(this._encoderOptions)}`);const l=rm(this.document),c=new Map;let d="mesh";this._encoderOptions.quantizationVolume==="scene"&&(this.document.getRoot().listScenes().length!==1?a.warn(`[${Pe}]: quantizationVolume=scene requires exactly 1 scene.`):d=bh(this.document.getRoot().listScenes().pop()));for(const p of Array.from(l.keys())){const g=l.get(p);if(!g)throw new Error("Unexpected primitive.");if(c.has(g)){c.set(g,c.get(g));continue}const m=p.getIndices(),S=n.jsonDoc.json.accessors;let R;try{R=em(p,Tn({},this._encoderOptions,{quantizationVolume:d}))}catch(G){if(G instanceof ua){a.warn(`[${Pe}]: ${G.message} Skipping primitive compression.`);continue}throw G}c.set(g,R);const _=n.createAccessorDef(m);_.count=R.numIndices,n.accessorIndexMap.set(m,S.length),S.push(_),R.numVertices>65534&&Y.getComponentSize(_.componentType)<=2?_.componentType=Y.ComponentType.UNSIGNED_INT:R.numVertices>254&&Y.getComponentSize(_.componentType)<=1&&(_.componentType=Y.ComponentType.UNSIGNED_SHORT);for(const G of p.listSemantics()){const H=p.getAttribute(G);if(R.attributeIDs[G]===void 0)continue;const j=n.createAccessorDef(H);j.count=R.numVertices,n.accessorIndexMap.set(H,S.length),S.push(j)}const M=p.getAttribute("POSITION").getBuffer()||this.document.getRoot().listBuffers()[0];n.otherBufferViews.has(M)||n.otherBufferViews.set(M,[]),n.otherBufferViews.get(M).push(R.data)}return a.debug(`[${Pe}] Compressed ${l.size} primitives.`),n.extensionData[Pe]={primitiveHashMap:l,primitiveEncodingMap:c},this}write(n){const i=n.extensionData[Pe];for(const a of this.document.getRoot().listMeshes()){const l=n.jsonDoc.json.meshes[n.meshIndexMap.get(a)];for(let c=0;c<a.listPrimitives().length;c++){const d=a.listPrimitives()[c],p=l.primitives[c],g=i.primitiveHashMap.get(d);if(!g)continue;const m=i.primitiveEncodingMap.get(g);m&&(p.extensions=p.extensions||{},p.extensions[Pe]={bufferView:n.otherBufferViewsIndexMap.get(m.data),attributes:m.attributeIDs})}}if(!i.primitiveHashMap.size){const a=n.jsonDoc.json;a.extensionsUsed=(a.extensionsUsed||[]).filter(l=>l!==Pe),a.extensionsRequired=(a.extensionsRequired||[]).filter(l=>l!==Pe)}return this}}ad.EXTENSION_NAME=Pe;ad.EncoderMethod=Ls;function rm(f){const n=f.getLogger(),i=new Set,a=new Set;let l=0,c=0;for(const R of f.getRoot().listMeshes())for(const _ of R.listPrimitives())_.getIndices()?_.getMode()!==Hn.Mode.TRIANGLES?(a.add(_),c++):i.add(_):(a.add(_),l++);l>0&&n.warn(`[${Pe}] Skipping Draco compression of ${l} non-indexed primitives.`),c>0&&n.warn(`[${Pe}] Skipping Draco compression of ${c} non-TRIANGLES primitives.`);const d=f.getRoot().listAccessors(),p=new Map;for(let R=0;R<d.length;R++)p.set(d[R],R);const g=new Map,m=new Set,S=new Map;for(const R of Array.from(i)){let _=jf(R,p);if(m.has(_)){S.set(R,_);continue}if(g.has(R.getIndices())){const M=R.getIndices(),G=M.clone();p.set(G,f.getRoot().listAccessors().length-1),R.swap(M,G)}for(const M of R.listAttributes())if(g.has(M)){const G=M.clone();p.set(G,f.getRoot().listAccessors().length-1),R.swap(M,G)}_=jf(R,p),m.add(_),S.set(R,_),g.set(R.getIndices(),_);for(const M of R.listAttributes())g.set(M,_)}for(const R of Array.from(g.keys())){const _=new Set(R.listParents().map(M=>M.propertyType));if(_.size!==2||!_.has(D.PRIMITIVE)||!_.has(D.ROOT))throw new Error(`[${Pe}] Compressed accessors must only be used as indices or vertex attributes.`)}for(const R of Array.from(i)){const _=S.get(R),M=R.getIndices();if(g.get(M)!==_||R.listAttributes().some(G=>g.get(G)!==_))throw new Error(`[${Pe}] Draco primitives must share all, or no, accessors.`)}for(const R of Array.from(a)){const _=R.getIndices();if(g.has(_)||R.listAttributes().some(M=>g.has(M)))throw new Error(`[${Pe}] Accessor cannot be shared by compressed and uncompressed primitives.`)}return S}function jf(f,n){const i=[],a=f.getIndices();i.push(n.get(a));for(const l of f.listAttributes())i.push(n.get(l));return i.sort().join("|")}class Gn extends ze{init(){this.extensionName=Ct,this.propertyType="Light",this.parentTypes=[D.NODE]}getDefaults(){return Object.assign(super.getDefaults(),{color:[1,1,1],intensity:1,type:Gn.Type.POINT,range:null,innerConeAngle:0,outerConeAngle:Math.PI/4})}getColor(){return this.get("color")}setColor(n){return this.set("color",n)}getIntensity(){return this.get("intensity")}setIntensity(n){return this.set("intensity",n)}getType(){return this.get("type")}setType(n){return this.set("type",n)}getRange(){return this.get("range")}setRange(n){return this.set("range",n)}getInnerConeAngle(){return this.get("innerConeAngle")}setInnerConeAngle(n){return this.set("innerConeAngle",n)}getOuterConeAngle(){return this.get("outerConeAngle")}setOuterConeAngle(n){return this.set("outerConeAngle",n)}}Gn.EXTENSION_NAME=Ct;Gn.Type={POINT:"point",SPOT:"spot",DIRECTIONAL:"directional"};class ca extends De{constructor(...n){super(...n),this.extensionName=Ct}createLight(n=""){return new Gn(this.document.getGraph(),n)}read(n){const i=n.jsonDoc;if(!i.json.extensions||!i.json.extensions[Ct])return this;const c=(i.json.extensions[Ct].lights||[]).map(d=>{var p,g;const m=this.createLight().setName(d.name||"").setType(d.type);return d.color!==void 0&&m.setColor(d.color),d.intensity!==void 0&&m.setIntensity(d.intensity),d.range!==void 0&&m.setRange(d.range),((p=d.spot)==null?void 0:p.innerConeAngle)!==void 0&&m.setInnerConeAngle(d.spot.innerConeAngle),((g=d.spot)==null?void 0:g.outerConeAngle)!==void 0&&m.setOuterConeAngle(d.spot.outerConeAngle),m});return i.json.nodes.forEach((d,p)=>{if(!d.extensions||!d.extensions[Ct])return;const g=d.extensions[Ct];n.nodes[p].setExtension(Ct,c[g.light])}),this}write(n){const i=n.jsonDoc;if(this.properties.size===0)return this;const a=[],l=new Map;for(const c of this.properties){const d=c,p={type:d.getType()};Ie.eq(d.getColor(),[1,1,1])||(p.color=d.getColor()),d.getIntensity()!==1&&(p.intensity=d.getIntensity()),d.getRange()!=null&&(p.range=d.getRange()),d.getName()&&(p.name=d.getName()),d.getType()===Gn.Type.SPOT&&(p.spot={innerConeAngle:d.getInnerConeAngle(),outerConeAngle:d.getOuterConeAngle()}),a.push(p),l.set(d,a.length-1)}return this.document.getRoot().listNodes().forEach(c=>{const d=c.getExtension(Ct);if(d){const p=n.nodeIndexMap.get(c),g=i.json.nodes[p];g.extensions=g.extensions||{},g.extensions[Ct]={light:l.get(d)}}}),i.json.extensions=i.json.extensions||{},i.json.extensions[Ct]={lights:a},this}}ca.EXTENSION_NAME=Ct;const{R:sm,G:im,B:om}=Ot;class ud extends ze{init(){this.extensionName=on,this.propertyType="Anisotropy",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{anisotropyStrength:0,anisotropyRotation:0,anisotropyTexture:null,anisotropyTextureInfo:new _e(this.graph,"anisotropyTextureInfo")})}getAnisotropyStrength(){return this.get("anisotropyStrength")}setAnisotropyStrength(n){return this.set("anisotropyStrength",n)}getAnisotropyRotation(){return this.get("anisotropyRotation")}setAnisotropyRotation(n){return this.set("anisotropyRotation",n)}getAnisotropyTexture(){return this.getRef("anisotropyTexture")}getAnisotropyTextureInfo(){return this.getRef("anisotropyTexture")?this.getRef("anisotropyTextureInfo"):null}setAnisotropyTexture(n){return this.setRef("anisotropyTexture",n,{channels:sm|im|om})}}ud.EXTENSION_NAME=on;class lm extends De{constructor(...n){super(...n),this.extensionName=on,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createAnisotropy(){return new ud(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){const i=n.jsonDoc,a=i.json.materials||[],l=i.json.textures||[];return a.forEach((c,d)=>{if(c.extensions&&c.extensions[on]){const p=this.createAnisotropy();n.materials[d].setExtension(on,p);const g=c.extensions[on];if(g.anisotropyStrength!==void 0&&p.setAnisotropyStrength(g.anisotropyStrength),g.anisotropyRotation!==void 0&&p.setAnisotropyRotation(g.anisotropyRotation),g.anisotropyTexture!==void 0){const m=g.anisotropyTexture,S=n.textures[l[m.index].source];p.setAnisotropyTexture(S),n.setTextureInfo(p.getAnisotropyTextureInfo(),m)}}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(on);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{};const p=d.extensions[on]={};if(l.getAnisotropyStrength()>0&&(p.anisotropyStrength=l.getAnisotropyStrength()),l.getAnisotropyRotation()!==0&&(p.anisotropyRotation=l.getAnisotropyRotation()),l.getAnisotropyTexture()){const g=l.getAnisotropyTexture(),m=l.getAnisotropyTextureInfo();p.anisotropyTexture=n.createTextureInfoDef(g,m)}}}),this}}lm.EXTENSION_NAME=on;const{R:Lf,G:Ff,B:am}=Ot;class cd extends ze{init(){this.extensionName=ln,this.propertyType="Clearcoat",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{clearcoatFactor:0,clearcoatTexture:null,clearcoatTextureInfo:new _e(this.graph,"clearcoatTextureInfo"),clearcoatRoughnessFactor:0,clearcoatRoughnessTexture:null,clearcoatRoughnessTextureInfo:new _e(this.graph,"clearcoatRoughnessTextureInfo"),clearcoatNormalScale:1,clearcoatNormalTexture:null,clearcoatNormalTextureInfo:new _e(this.graph,"clearcoatNormalTextureInfo")})}getClearcoatFactor(){return this.get("clearcoatFactor")}setClearcoatFactor(n){return this.set("clearcoatFactor",n)}getClearcoatTexture(){return this.getRef("clearcoatTexture")}getClearcoatTextureInfo(){return this.getRef("clearcoatTexture")?this.getRef("clearcoatTextureInfo"):null}setClearcoatTexture(n){return this.setRef("clearcoatTexture",n,{channels:Lf})}getClearcoatRoughnessFactor(){return this.get("clearcoatRoughnessFactor")}setClearcoatRoughnessFactor(n){return this.set("clearcoatRoughnessFactor",n)}getClearcoatRoughnessTexture(){return this.getRef("clearcoatRoughnessTexture")}getClearcoatRoughnessTextureInfo(){return this.getRef("clearcoatRoughnessTexture")?this.getRef("clearcoatRoughnessTextureInfo"):null}setClearcoatRoughnessTexture(n){return this.setRef("clearcoatRoughnessTexture",n,{channels:Ff})}getClearcoatNormalScale(){return this.get("clearcoatNormalScale")}setClearcoatNormalScale(n){return this.set("clearcoatNormalScale",n)}getClearcoatNormalTexture(){return this.getRef("clearcoatNormalTexture")}getClearcoatNormalTextureInfo(){return this.getRef("clearcoatNormalTexture")?this.getRef("clearcoatNormalTextureInfo"):null}setClearcoatNormalTexture(n){return this.setRef("clearcoatNormalTexture",n,{channels:Lf|Ff|am})}}cd.EXTENSION_NAME=ln;class um extends De{constructor(...n){super(...n),this.extensionName=ln,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createClearcoat(){return new cd(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){const i=n.jsonDoc,a=i.json.materials||[],l=i.json.textures||[];return a.forEach((c,d)=>{if(c.extensions&&c.extensions[ln]){const p=this.createClearcoat();n.materials[d].setExtension(ln,p);const g=c.extensions[ln];if(g.clearcoatFactor!==void 0&&p.setClearcoatFactor(g.clearcoatFactor),g.clearcoatRoughnessFactor!==void 0&&p.setClearcoatRoughnessFactor(g.clearcoatRoughnessFactor),g.clearcoatTexture!==void 0){const m=g.clearcoatTexture,S=n.textures[l[m.index].source];p.setClearcoatTexture(S),n.setTextureInfo(p.getClearcoatTextureInfo(),m)}if(g.clearcoatRoughnessTexture!==void 0){const m=g.clearcoatRoughnessTexture,S=n.textures[l[m.index].source];p.setClearcoatRoughnessTexture(S),n.setTextureInfo(p.getClearcoatRoughnessTextureInfo(),m)}if(g.clearcoatNormalTexture!==void 0){const m=g.clearcoatNormalTexture,S=n.textures[l[m.index].source];p.setClearcoatNormalTexture(S),n.setTextureInfo(p.getClearcoatNormalTextureInfo(),m),m.scale!==void 0&&p.setClearcoatNormalScale(m.scale)}}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(ln);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{};const p=d.extensions[ln]={clearcoatFactor:l.getClearcoatFactor(),clearcoatRoughnessFactor:l.getClearcoatRoughnessFactor()};if(l.getClearcoatTexture()){const g=l.getClearcoatTexture(),m=l.getClearcoatTextureInfo();p.clearcoatTexture=n.createTextureInfoDef(g,m)}if(l.getClearcoatRoughnessTexture()){const g=l.getClearcoatRoughnessTexture(),m=l.getClearcoatRoughnessTextureInfo();p.clearcoatRoughnessTexture=n.createTextureInfoDef(g,m)}if(l.getClearcoatNormalTexture()){const g=l.getClearcoatNormalTexture(),m=l.getClearcoatNormalTextureInfo();p.clearcoatNormalTexture=n.createTextureInfoDef(g,m),l.getClearcoatNormalScale()!==1&&(p.clearcoatNormalTexture.scale=l.getClearcoatNormalScale())}}}),this}}um.EXTENSION_NAME=ln;const{R:cm,G:fm,B:dm,A:pm}=Ot;class fd extends ze{init(){this.extensionName=an,this.propertyType="DiffuseTransmission",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{diffuseTransmissionFactor:0,diffuseTransmissionTexture:null,diffuseTransmissionTextureInfo:new _e(this.graph,"diffuseTransmissionTextureInfo"),diffuseTransmissionColorFactor:[1,1,1],diffuseTransmissionColorTexture:null,diffuseTransmissionColorTextureInfo:new _e(this.graph,"diffuseTransmissionColorTextureInfo")})}getDiffuseTransmissionFactor(){return this.get("diffuseTransmissionFactor")}setDiffuseTransmissionFactor(n){return this.set("diffuseTransmissionFactor",n)}getDiffuseTransmissionTexture(){return this.getRef("diffuseTransmissionTexture")}getDiffuseTransmissionTextureInfo(){return this.getRef("diffuseTransmissionTexture")?this.getRef("diffuseTransmissionTextureInfo"):null}setDiffuseTransmissionTexture(n){return this.setRef("diffuseTransmissionTexture",n,{channels:pm})}getDiffuseTransmissionColorFactor(){return this.get("diffuseTransmissionColorFactor")}setDiffuseTransmissionColorFactor(n){return this.set("diffuseTransmissionColorFactor",n)}getDiffuseTransmissionColorTexture(){return this.getRef("diffuseTransmissionColorTexture")}getDiffuseTransmissionColorTextureInfo(){return this.getRef("diffuseTransmissionColorTexture")?this.getRef("diffuseTransmissionColorTextureInfo"):null}setDiffuseTransmissionColorTexture(n){return this.setRef("diffuseTransmissionColorTexture",n,{channels:cm|fm|dm})}}fd.EXTENSION_NAME=an;class hm extends De{constructor(...n){super(...n),this.extensionName=an}createDiffuseTransmission(){return new fd(this.document.getGraph())}read(n){const i=n.jsonDoc,a=i.json.materials||[],l=i.json.textures||[];return a.forEach((c,d)=>{if(c.extensions&&c.extensions[an]){const p=this.createDiffuseTransmission();n.materials[d].setExtension(an,p);const g=c.extensions[an];if(g.diffuseTransmissionFactor!==void 0&&p.setDiffuseTransmissionFactor(g.diffuseTransmissionFactor),g.diffuseTransmissionColorFactor!==void 0&&p.setDiffuseTransmissionColorFactor(g.diffuseTransmissionColorFactor),g.diffuseTransmissionTexture!==void 0){const m=g.diffuseTransmissionTexture,S=n.textures[l[m.index].source];p.setDiffuseTransmissionTexture(S),n.setTextureInfo(p.getDiffuseTransmissionTextureInfo(),m)}if(g.diffuseTransmissionColorTexture!==void 0){const m=g.diffuseTransmissionColorTexture,S=n.textures[l[m.index].source];p.setDiffuseTransmissionColorTexture(S),n.setTextureInfo(p.getDiffuseTransmissionColorTextureInfo(),m)}}}),this}write(n){const i=n.jsonDoc;for(const a of this.document.getRoot().listMaterials()){const l=a.getExtension(an);if(!l)continue;const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{};const p=d.extensions[an]={diffuseTransmissionFactor:l.getDiffuseTransmissionFactor(),diffuseTransmissionColorFactor:l.getDiffuseTransmissionColorFactor()};if(l.getDiffuseTransmissionTexture()){const g=l.getDiffuseTransmissionTexture(),m=l.getDiffuseTransmissionTextureInfo();p.diffuseTransmissionTexture=n.createTextureInfoDef(g,m)}if(l.getDiffuseTransmissionColorTexture()){const g=l.getDiffuseTransmissionColorTexture(),m=l.getDiffuseTransmissionColorTextureInfo();p.diffuseTransmissionColorTexture=n.createTextureInfoDef(g,m)}}return this}}hm.EXTENSION_NAME=an;class dd extends ze{init(){this.extensionName=un,this.propertyType="Dispersion",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{dispersion:0})}getDispersion(){return this.get("dispersion")}setDispersion(n){return this.set("dispersion",n)}}dd.EXTENSION_NAME=un;class gm extends De{constructor(...n){super(...n),this.extensionName=un,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createDispersion(){return new dd(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){return(n.jsonDoc.json.materials||[]).forEach((l,c)=>{if(l.extensions&&l.extensions[un]){const d=this.createDispersion();n.materials[c].setExtension(un,d);const p=l.extensions[un];p.dispersion!==void 0&&d.setDispersion(p.dispersion)}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(un);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{},d.extensions[un]={dispersion:l.getDispersion()}}}),this}}gm.EXTENSION_NAME=un;class pd extends ze{init(){this.extensionName=cn,this.propertyType="EmissiveStrength",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{emissiveStrength:1})}getEmissiveStrength(){return this.get("emissiveStrength")}setEmissiveStrength(n){return this.set("emissiveStrength",n)}}pd.EXTENSION_NAME=cn;class mm extends De{constructor(...n){super(...n),this.extensionName=cn,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createEmissiveStrength(){return new pd(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){return(n.jsonDoc.json.materials||[]).forEach((l,c)=>{if(l.extensions&&l.extensions[cn]){const d=this.createEmissiveStrength();n.materials[c].setExtension(cn,d);const p=l.extensions[cn];p.emissiveStrength!==void 0&&d.setEmissiveStrength(p.emissiveStrength)}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(cn);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{},d.extensions[cn]={emissiveStrength:l.getEmissiveStrength()}}}),this}}mm.EXTENSION_NAME=cn;class hd extends ze{init(){this.extensionName=fn,this.propertyType="IOR",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{ior:1.5})}getIOR(){return this.get("ior")}setIOR(n){return this.set("ior",n)}}hd.EXTENSION_NAME=fn;class xm extends De{constructor(...n){super(...n),this.extensionName=fn,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createIOR(){return new hd(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){return(n.jsonDoc.json.materials||[]).forEach((l,c)=>{if(l.extensions&&l.extensions[fn]){const d=this.createIOR();n.materials[c].setExtension(fn,d);const p=l.extensions[fn];p.ior!==void 0&&d.setIOR(p.ior)}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(fn);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{},d.extensions[fn]={ior:l.getIOR()}}}),this}}xm.EXTENSION_NAME=fn;const{R:ym,G:vm}=Ot;class gd extends ze{init(){this.extensionName=dn,this.propertyType="Iridescence",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{iridescenceFactor:0,iridescenceTexture:null,iridescenceTextureInfo:new _e(this.graph,"iridescenceTextureInfo"),iridescenceIOR:1.3,iridescenceThicknessMinimum:100,iridescenceThicknessMaximum:400,iridescenceThicknessTexture:null,iridescenceThicknessTextureInfo:new _e(this.graph,"iridescenceThicknessTextureInfo")})}getIridescenceFactor(){return this.get("iridescenceFactor")}setIridescenceFactor(n){return this.set("iridescenceFactor",n)}getIridescenceTexture(){return this.getRef("iridescenceTexture")}getIridescenceTextureInfo(){return this.getRef("iridescenceTexture")?this.getRef("iridescenceTextureInfo"):null}setIridescenceTexture(n){return this.setRef("iridescenceTexture",n,{channels:ym})}getIridescenceIOR(){return this.get("iridescenceIOR")}setIridescenceIOR(n){return this.set("iridescenceIOR",n)}getIridescenceThicknessMinimum(){return this.get("iridescenceThicknessMinimum")}setIridescenceThicknessMinimum(n){return this.set("iridescenceThicknessMinimum",n)}getIridescenceThicknessMaximum(){return this.get("iridescenceThicknessMaximum")}setIridescenceThicknessMaximum(n){return this.set("iridescenceThicknessMaximum",n)}getIridescenceThicknessTexture(){return this.getRef("iridescenceThicknessTexture")}getIridescenceThicknessTextureInfo(){return this.getRef("iridescenceThicknessTexture")?this.getRef("iridescenceThicknessTextureInfo"):null}setIridescenceThicknessTexture(n){return this.setRef("iridescenceThicknessTexture",n,{channels:vm})}}gd.EXTENSION_NAME=dn;class Tm extends De{constructor(...n){super(...n),this.extensionName=dn,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createIridescence(){return new gd(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){const i=n.jsonDoc,a=i.json.materials||[],l=i.json.textures||[];return a.forEach((c,d)=>{if(c.extensions&&c.extensions[dn]){const p=this.createIridescence();n.materials[d].setExtension(dn,p);const g=c.extensions[dn];if(g.iridescenceFactor!==void 0&&p.setIridescenceFactor(g.iridescenceFactor),g.iridescenceIor!==void 0&&p.setIridescenceIOR(g.iridescenceIor),g.iridescenceThicknessMinimum!==void 0&&p.setIridescenceThicknessMinimum(g.iridescenceThicknessMinimum),g.iridescenceThicknessMaximum!==void 0&&p.setIridescenceThicknessMaximum(g.iridescenceThicknessMaximum),g.iridescenceTexture!==void 0){const m=g.iridescenceTexture,S=n.textures[l[m.index].source];p.setIridescenceTexture(S),n.setTextureInfo(p.getIridescenceTextureInfo(),m)}if(g.iridescenceThicknessTexture!==void 0){const m=g.iridescenceThicknessTexture,S=n.textures[l[m.index].source];p.setIridescenceThicknessTexture(S),n.setTextureInfo(p.getIridescenceThicknessTextureInfo(),m)}}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(dn);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{};const p=d.extensions[dn]={};if(l.getIridescenceFactor()>0&&(p.iridescenceFactor=l.getIridescenceFactor()),l.getIridescenceIOR()!==1.3&&(p.iridescenceIor=l.getIridescenceIOR()),l.getIridescenceThicknessMinimum()!==100&&(p.iridescenceThicknessMinimum=l.getIridescenceThicknessMinimum()),l.getIridescenceThicknessMaximum()!==400&&(p.iridescenceThicknessMaximum=l.getIridescenceThicknessMaximum()),l.getIridescenceTexture()){const g=l.getIridescenceTexture(),m=l.getIridescenceTextureInfo();p.iridescenceTexture=n.createTextureInfoDef(g,m)}if(l.getIridescenceThicknessTexture()){const g=l.getIridescenceThicknessTexture(),m=l.getIridescenceThicknessTextureInfo();p.iridescenceThicknessTexture=n.createTextureInfoDef(g,m)}}}),this}}Tm.EXTENSION_NAME=dn;const{R:Pf,G:Uf,B:Bf,A:zf}=Ot;class md extends ze{init(){this.extensionName=pn,this.propertyType="PBRSpecularGlossiness",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{diffuseFactor:[1,1,1,1],diffuseTexture:null,diffuseTextureInfo:new _e(this.graph,"diffuseTextureInfo"),specularFactor:[1,1,1],glossinessFactor:1,specularGlossinessTexture:null,specularGlossinessTextureInfo:new _e(this.graph,"specularGlossinessTextureInfo")})}getDiffuseFactor(){return this.get("diffuseFactor")}setDiffuseFactor(n){return this.set("diffuseFactor",n)}getDiffuseTexture(){return this.getRef("diffuseTexture")}getDiffuseTextureInfo(){return this.getRef("diffuseTexture")?this.getRef("diffuseTextureInfo"):null}setDiffuseTexture(n){return this.setRef("diffuseTexture",n,{channels:Pf|Uf|Bf|zf,isColor:!0})}getSpecularFactor(){return this.get("specularFactor")}setSpecularFactor(n){return this.set("specularFactor",n)}getGlossinessFactor(){return this.get("glossinessFactor")}setGlossinessFactor(n){return this.set("glossinessFactor",n)}getSpecularGlossinessTexture(){return this.getRef("specularGlossinessTexture")}getSpecularGlossinessTextureInfo(){return this.getRef("specularGlossinessTexture")?this.getRef("specularGlossinessTextureInfo"):null}setSpecularGlossinessTexture(n){return this.setRef("specularGlossinessTexture",n,{channels:Pf|Uf|Bf|zf})}}md.EXTENSION_NAME=pn;class Em extends De{constructor(...n){super(...n),this.extensionName=pn,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createPBRSpecularGlossiness(){return new md(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){const i=n.jsonDoc,a=i.json.materials||[],l=i.json.textures||[];return a.forEach((c,d)=>{if(c.extensions&&c.extensions[pn]){const p=this.createPBRSpecularGlossiness();n.materials[d].setExtension(pn,p);const g=c.extensions[pn];if(g.diffuseFactor!==void 0&&p.setDiffuseFactor(g.diffuseFactor),g.specularFactor!==void 0&&p.setSpecularFactor(g.specularFactor),g.glossinessFactor!==void 0&&p.setGlossinessFactor(g.glossinessFactor),g.diffuseTexture!==void 0){const m=g.diffuseTexture,S=n.textures[l[m.index].source];p.setDiffuseTexture(S),n.setTextureInfo(p.getDiffuseTextureInfo(),m)}if(g.specularGlossinessTexture!==void 0){const m=g.specularGlossinessTexture,S=n.textures[l[m.index].source];p.setSpecularGlossinessTexture(S),n.setTextureInfo(p.getSpecularGlossinessTextureInfo(),m)}}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(pn);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{};const p=d.extensions[pn]={diffuseFactor:l.getDiffuseFactor(),specularFactor:l.getSpecularFactor(),glossinessFactor:l.getGlossinessFactor()};if(l.getDiffuseTexture()){const g=l.getDiffuseTexture(),m=l.getDiffuseTextureInfo();p.diffuseTexture=n.createTextureInfoDef(g,m)}if(l.getSpecularGlossinessTexture()){const g=l.getSpecularGlossinessTexture(),m=l.getSpecularGlossinessTextureInfo();p.specularGlossinessTexture=n.createTextureInfoDef(g,m)}}}),this}}Em.EXTENSION_NAME=pn;const{R:wm,G:Sm,B:Rm,A:Nm}=Ot;class xd extends ze{init(){this.extensionName=hn,this.propertyType="Sheen",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{sheenColorFactor:[0,0,0],sheenColorTexture:null,sheenColorTextureInfo:new _e(this.graph,"sheenColorTextureInfo"),sheenRoughnessFactor:0,sheenRoughnessTexture:null,sheenRoughnessTextureInfo:new _e(this.graph,"sheenRoughnessTextureInfo")})}getSheenColorFactor(){return this.get("sheenColorFactor")}setSheenColorFactor(n){return this.set("sheenColorFactor",n)}getSheenColorTexture(){return this.getRef("sheenColorTexture")}getSheenColorTextureInfo(){return this.getRef("sheenColorTexture")?this.getRef("sheenColorTextureInfo"):null}setSheenColorTexture(n){return this.setRef("sheenColorTexture",n,{channels:wm|Sm|Rm,isColor:!0})}getSheenRoughnessFactor(){return this.get("sheenRoughnessFactor")}setSheenRoughnessFactor(n){return this.set("sheenRoughnessFactor",n)}getSheenRoughnessTexture(){return this.getRef("sheenRoughnessTexture")}getSheenRoughnessTextureInfo(){return this.getRef("sheenRoughnessTexture")?this.getRef("sheenRoughnessTextureInfo"):null}setSheenRoughnessTexture(n){return this.setRef("sheenRoughnessTexture",n,{channels:Nm})}}xd.EXTENSION_NAME=hn;class Im extends De{constructor(...n){super(...n),this.extensionName=hn,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createSheen(){return new xd(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){const i=n.jsonDoc,a=i.json.materials||[],l=i.json.textures||[];return a.forEach((c,d)=>{if(c.extensions&&c.extensions[hn]){const p=this.createSheen();n.materials[d].setExtension(hn,p);const g=c.extensions[hn];if(g.sheenColorFactor!==void 0&&p.setSheenColorFactor(g.sheenColorFactor),g.sheenRoughnessFactor!==void 0&&p.setSheenRoughnessFactor(g.sheenRoughnessFactor),g.sheenColorTexture!==void 0){const m=g.sheenColorTexture,S=n.textures[l[m.index].source];p.setSheenColorTexture(S),n.setTextureInfo(p.getSheenColorTextureInfo(),m)}if(g.sheenRoughnessTexture!==void 0){const m=g.sheenRoughnessTexture,S=n.textures[l[m.index].source];p.setSheenRoughnessTexture(S),n.setTextureInfo(p.getSheenRoughnessTextureInfo(),m)}}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(hn);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{};const p=d.extensions[hn]={sheenColorFactor:l.getSheenColorFactor(),sheenRoughnessFactor:l.getSheenRoughnessFactor()};if(l.getSheenColorTexture()){const g=l.getSheenColorTexture(),m=l.getSheenColorTextureInfo();p.sheenColorTexture=n.createTextureInfoDef(g,m)}if(l.getSheenRoughnessTexture()){const g=l.getSheenRoughnessTexture(),m=l.getSheenRoughnessTextureInfo();p.sheenRoughnessTexture=n.createTextureInfoDef(g,m)}}}),this}}Im.EXTENSION_NAME=hn;const{R:_m,G:Cm,B:Am,A:Mm}=Ot;class yd extends ze{init(){this.extensionName=gn,this.propertyType="Specular",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{specularFactor:1,specularTexture:null,specularTextureInfo:new _e(this.graph,"specularTextureInfo"),specularColorFactor:[1,1,1],specularColorTexture:null,specularColorTextureInfo:new _e(this.graph,"specularColorTextureInfo")})}getSpecularFactor(){return this.get("specularFactor")}setSpecularFactor(n){return this.set("specularFactor",n)}getSpecularColorFactor(){return this.get("specularColorFactor")}setSpecularColorFactor(n){return this.set("specularColorFactor",n)}getSpecularTexture(){return this.getRef("specularTexture")}getSpecularTextureInfo(){return this.getRef("specularTexture")?this.getRef("specularTextureInfo"):null}setSpecularTexture(n){return this.setRef("specularTexture",n,{channels:Mm})}getSpecularColorTexture(){return this.getRef("specularColorTexture")}getSpecularColorTextureInfo(){return this.getRef("specularColorTexture")?this.getRef("specularColorTextureInfo"):null}setSpecularColorTexture(n){return this.setRef("specularColorTexture",n,{channels:_m|Cm|Am,isColor:!0})}}yd.EXTENSION_NAME=gn;class km extends De{constructor(...n){super(...n),this.extensionName=gn,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createSpecular(){return new yd(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){const i=n.jsonDoc,a=i.json.materials||[],l=i.json.textures||[];return a.forEach((c,d)=>{if(c.extensions&&c.extensions[gn]){const p=this.createSpecular();n.materials[d].setExtension(gn,p);const g=c.extensions[gn];if(g.specularFactor!==void 0&&p.setSpecularFactor(g.specularFactor),g.specularColorFactor!==void 0&&p.setSpecularColorFactor(g.specularColorFactor),g.specularTexture!==void 0){const m=g.specularTexture,S=n.textures[l[m.index].source];p.setSpecularTexture(S),n.setTextureInfo(p.getSpecularTextureInfo(),m)}if(g.specularColorTexture!==void 0){const m=g.specularColorTexture,S=n.textures[l[m.index].source];p.setSpecularColorTexture(S),n.setTextureInfo(p.getSpecularColorTextureInfo(),m)}}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(gn);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{};const p=d.extensions[gn]={};if(l.getSpecularFactor()!==1&&(p.specularFactor=l.getSpecularFactor()),Ie.eq(l.getSpecularColorFactor(),[1,1,1])||(p.specularColorFactor=l.getSpecularColorFactor()),l.getSpecularTexture()){const g=l.getSpecularTexture(),m=l.getSpecularTextureInfo();p.specularTexture=n.createTextureInfoDef(g,m)}if(l.getSpecularColorTexture()){const g=l.getSpecularColorTexture(),m=l.getSpecularColorTextureInfo();p.specularColorTexture=n.createTextureInfoDef(g,m)}}}),this}}km.EXTENSION_NAME=gn;const{R:Om}=Ot;class vd extends ze{init(){this.extensionName=mn,this.propertyType="Transmission",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{transmissionFactor:0,transmissionTexture:null,transmissionTextureInfo:new _e(this.graph,"transmissionTextureInfo")})}getTransmissionFactor(){return this.get("transmissionFactor")}setTransmissionFactor(n){return this.set("transmissionFactor",n)}getTransmissionTexture(){return this.getRef("transmissionTexture")}getTransmissionTextureInfo(){return this.getRef("transmissionTexture")?this.getRef("transmissionTextureInfo"):null}setTransmissionTexture(n){return this.setRef("transmissionTexture",n,{channels:Om})}}vd.EXTENSION_NAME=mn;class Dm extends De{constructor(...n){super(...n),this.extensionName=mn,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createTransmission(){return new vd(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){const i=n.jsonDoc,a=i.json.materials||[],l=i.json.textures||[];return a.forEach((c,d)=>{if(c.extensions&&c.extensions[mn]){const p=this.createTransmission();n.materials[d].setExtension(mn,p);const g=c.extensions[mn];if(g.transmissionFactor!==void 0&&p.setTransmissionFactor(g.transmissionFactor),g.transmissionTexture!==void 0){const m=g.transmissionTexture,S=n.textures[l[m.index].source];p.setTransmissionTexture(S),n.setTextureInfo(p.getTransmissionTextureInfo(),m)}}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(mn);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{};const p=d.extensions[mn]={transmissionFactor:l.getTransmissionFactor()};if(l.getTransmissionTexture()){const g=l.getTransmissionTexture(),m=l.getTransmissionTextureInfo();p.transmissionTexture=n.createTextureInfoDef(g,m)}}}),this}}Dm.EXTENSION_NAME=mn;class Td extends ze{init(){this.extensionName=zn,this.propertyType="Unlit",this.parentTypes=[D.MATERIAL]}}Td.EXTENSION_NAME=zn;class jm extends De{constructor(...n){super(...n),this.extensionName=zn,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createUnlit(){return new Td(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){return(n.jsonDoc.json.materials||[]).forEach((a,l)=>{a.extensions&&a.extensions[zn]&&n.materials[l].setExtension(zn,this.createUnlit())}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{if(a.getExtension(zn)){const l=n.materialIndexMap.get(a),c=i.json.materials[l];c.extensions=c.extensions||{},c.extensions[zn]={}}}),this}}jm.EXTENSION_NAME=zn;class Ed extends ze{init(){this.extensionName=st,this.propertyType="Mapping",this.parentTypes=["MappingList"]}getDefaults(){return Object.assign(super.getDefaults(),{material:null,variants:new Me})}getMaterial(){return this.getRef("material")}setMaterial(n){return this.setRef("material",n)}addVariant(n){return this.addRef("variants",n)}removeVariant(n){return this.removeRef("variants",n)}listVariants(){return this.listRefs("variants")}}Ed.EXTENSION_NAME=st;class wd extends ze{init(){this.extensionName=st,this.propertyType="MappingList",this.parentTypes=[D.PRIMITIVE]}getDefaults(){return Object.assign(super.getDefaults(),{mappings:new Me})}addMapping(n){return this.addRef("mappings",n)}removeMapping(n){return this.removeRef("mappings",n)}listMappings(){return this.listRefs("mappings")}}wd.EXTENSION_NAME=st;class fa extends ze{init(){this.extensionName=st,this.propertyType="Variant",this.parentTypes=["MappingList"]}}fa.EXTENSION_NAME=st;class Lm extends De{constructor(...n){super(...n),this.extensionName=st}createMappingList(){return new wd(this.document.getGraph())}createVariant(n=""){return new fa(this.document.getGraph(),n)}createMapping(){return new Ed(this.document.getGraph())}listVariants(){return Array.from(this.properties).filter(n=>n instanceof fa)}read(n){const i=n.jsonDoc;if(!i.json.extensions||!i.json.extensions[st])return this;const c=(i.json.extensions[st].variants||[]).map(p=>this.createVariant().setName(p.name||""));return(i.json.meshes||[]).forEach((p,g)=>{const m=n.meshes[g];(p.primitives||[]).forEach((R,_)=>{if(!R.extensions||!R.extensions[st])return;const M=this.createMappingList(),G=R.extensions[st];for(const H of G.mappings){const j=this.createMapping();H.material!==void 0&&j.setMaterial(n.materials[H.material]);for(const T of H.variants||[])j.addVariant(c[T]);M.addMapping(j)}m.listPrimitives()[_].setExtension(st,M)})}),this}write(n){const i=n.jsonDoc,a=this.listVariants();if(!a.length)return this;const l=[],c=new Map;for(const d of a)c.set(d,l.length),l.push(n.createPropertyDef(d));for(const d of this.document.getRoot().listMeshes()){const p=n.meshIndexMap.get(d);d.listPrimitives().forEach((g,m)=>{const S=g.getExtension(st);if(!S)return;const R=n.jsonDoc.json.meshes[p].primitives[m],_=S.listMappings().map(M=>{const G=n.createPropertyDef(M),H=M.getMaterial();return H&&(G.material=n.materialIndexMap.get(H)),G.variants=M.listVariants().map(j=>c.get(j)),G});R.extensions=R.extensions||{},R.extensions[st]={mappings:_}})}return i.json.extensions=i.json.extensions||{},i.json.extensions[st]={variants:l},this}}Lm.EXTENSION_NAME=st;const{G:Fm}=Ot;class Sd extends ze{init(){this.extensionName=xn,this.propertyType="Volume",this.parentTypes=[D.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{thicknessFactor:0,thicknessTexture:null,thicknessTextureInfo:new _e(this.graph,"thicknessTexture"),attenuationDistance:1/0,attenuationColor:[1,1,1]})}getThicknessFactor(){return this.get("thicknessFactor")}setThicknessFactor(n){return this.set("thicknessFactor",n)}getThicknessTexture(){return this.getRef("thicknessTexture")}getThicknessTextureInfo(){return this.getRef("thicknessTexture")?this.getRef("thicknessTextureInfo"):null}setThicknessTexture(n){return this.setRef("thicknessTexture",n,{channels:Fm})}getAttenuationDistance(){return this.get("attenuationDistance")}setAttenuationDistance(n){return this.set("attenuationDistance",n)}getAttenuationColor(){return this.get("attenuationColor")}setAttenuationColor(n){return this.set("attenuationColor",n)}}Sd.EXTENSION_NAME=xn;class Pm extends De{constructor(...n){super(...n),this.extensionName=xn,this.prereadTypes=[D.MESH],this.prewriteTypes=[D.MESH]}createVolume(){return new Sd(this.document.getGraph())}read(n){return this}write(n){return this}preread(n){const i=n.jsonDoc,a=i.json.materials||[],l=i.json.textures||[];return a.forEach((c,d)=>{if(c.extensions&&c.extensions[xn]){const p=this.createVolume();n.materials[d].setExtension(xn,p);const g=c.extensions[xn];if(g.thicknessFactor!==void 0&&p.setThicknessFactor(g.thicknessFactor),g.attenuationDistance!==void 0&&p.setAttenuationDistance(g.attenuationDistance),g.attenuationColor!==void 0&&p.setAttenuationColor(g.attenuationColor),g.thicknessTexture!==void 0){const m=g.thicknessTexture,S=n.textures[l[m.index].source];p.setThicknessTexture(S),n.setTextureInfo(p.getThicknessTextureInfo(),m)}}}),this}prewrite(n){const i=n.jsonDoc;return this.document.getRoot().listMaterials().forEach(a=>{const l=a.getExtension(xn);if(l){const c=n.materialIndexMap.get(a),d=i.json.materials[c];d.extensions=d.extensions||{};const p=d.extensions[xn]={};if(l.getThicknessFactor()>0&&(p.thicknessFactor=l.getThicknessFactor()),Number.isFinite(l.getAttenuationDistance())&&(p.attenuationDistance=l.getAttenuationDistance()),Ie.eq(l.getAttenuationColor(),[1,1,1])||(p.attenuationColor=l.getAttenuationColor()),l.getThicknessTexture()){const g=l.getThicknessTexture(),m=l.getThicknessTextureInfo();p.thicknessTexture=n.createTextureInfoDef(g,m)}}}),this}}Pm.EXTENSION_NAME=xn;class Um extends De{constructor(...n){super(...n),this.extensionName=td}read(n){return this}write(n){return this}}Um.EXTENSION_NAME=td;class Bm{match(n){return n[0]===171&&n[1]===75&&n[2]===84&&n[3]===88&&n[4]===32&&n[5]===50&&n[6]===48&&n[7]===187&&n[8]===13&&n[9]===10&&n[10]===26&&n[11]===10}getSize(n){const i=ta(n);return[i.pixelWidth,i.pixelHeight]}getChannels(n){const a=ta(n).dataFormatDescriptor[0];if(a.colorModel===_g)return a.samples.length===2&&(a.samples[1].channelType&15)===15?4:3;if(a.colorModel===Cg)return(a.samples[0].channelType&15)===3?4:3;throw new Error(`Unexpected KTX2 colorModel, "${a.colorModel}".`)}getVRAMByteLength(n){const i=ta(n),a=this.getChannels(n)>3;let l=0;for(let c=0;c<i.levels.length;c++){const d=i.levels[c];if(d.uncompressedByteLength)l+=d.uncompressedByteLength;else{const p=Math.max(1,Math.floor(i.pixelWidth/Math.pow(2,c))),g=Math.max(1,Math.floor(i.pixelHeight/Math.pow(2,c))),m=a?16:8;l+=p/4*(g/4)*m}}return l}}class zm extends De{constructor(...n){super(...n),this.extensionName=ks,this.prereadTypes=[D.TEXTURE]}static register(){Kt.registerFormat("image/ktx2",new Bm)}preread(n){return n.jsonDoc.json.textures.forEach(i=>{if(i.extensions&&i.extensions[ks]){const a=i.extensions[ks];i.source=a.source}}),this}read(n){return this}write(n){const i=n.jsonDoc;return this.document.getRoot().listTextures().forEach(a=>{if(a.getMimeType()==="image/ktx2"){const l=n.imageIndexMap.get(a);i.json.textures.forEach(c=>{c.source===l&&(c.extensions=c.extensions||{},c.extensions[ks]={source:c.source},delete c.source)})}}),this}}zm.EXTENSION_NAME=ks;class Rd extends ze{init(){this.extensionName=yn,this.propertyType="Transform",this.parentTypes=[D.TEXTURE_INFO]}getDefaults(){return Object.assign(super.getDefaults(),{offset:[0,0],rotation:0,scale:[1,1],texCoord:null})}getOffset(){return this.get("offset")}setOffset(n){return this.set("offset",n)}getRotation(){return this.get("rotation")}setRotation(n){return this.set("rotation",n)}getScale(){return this.get("scale")}setScale(n){return this.set("scale",n)}getTexCoord(){return this.get("texCoord")}setTexCoord(n){return this.set("texCoord",n)}}Rd.EXTENSION_NAME=yn;class Vm extends De{constructor(...n){super(...n),this.extensionName=yn}createTransform(){return new Rd(this.document.getGraph())}read(n){for(const[i,a]of Array.from(n.textureInfos.entries())){if(!a.extensions||!a.extensions[yn])continue;const l=this.createTransform(),c=a.extensions[yn];c.offset!==void 0&&l.setOffset(c.offset),c.rotation!==void 0&&l.setRotation(c.rotation),c.scale!==void 0&&l.setScale(c.scale),c.texCoord!==void 0&&l.setTexCoord(c.texCoord),i.setExtension(yn,l)}return this}write(n){const i=Array.from(n.textureInfoDefMap.entries());for(const[a,l]of i){const c=a.getExtension(yn);if(!c)continue;l.extensions=l.extensions||{};const d={},p=Ie.eq;p(c.getOffset(),[0,0])||(d.offset=c.getOffset()),c.getRotation()!==0&&(d.rotation=c.getRotation()),p(c.getScale(),[1,1])||(d.scale=c.getScale()),c.getTexCoord()!=null&&(d.texCoord=c.getTexCoord()),l.extensions[yn]=d}return this}}Vm.EXTENSION_NAME=yn;const bm=[D.ROOT,D.SCENE,D.NODE,D.MESH,D.MATERIAL,D.TEXTURE,D.ANIMATION];class Nd extends ze{init(){this.extensionName=At,this.propertyType="Packet",this.parentTypes=bm}getDefaults(){return Object.assign(super.getDefaults(),{context:{},properties:{}})}getContext(){return this.get("context")}setContext(n){return this.set("context",Tn({},n))}listProperties(){return Object.keys(this.get("properties"))}getProperty(n){const i=this.get("properties");return n in i?i[n]:null}setProperty(n,i){this._assertContext(n);const a=Tn({},this.get("properties"));return i?a[n]=i:delete a[n],this.set("properties",a)}toJSONLD(){const n=na(this.get("context")),i=na(this.get("properties"));return Tn({"@context":n},i)}fromJSONLD(n){n=na(n);const i=n["@context"];return i&&this.set("context",i),delete n["@context"],this.set("properties",n)}_assertContext(n){if(!(n.split(":")[0]in this.get("context")))throw new Error(`${At}: Missing context for term, "${n}".`)}}Nd.EXTENSION_NAME=At;function na(f){return JSON.parse(JSON.stringify(f))}class Hm extends De{constructor(...n){super(...n),this.extensionName=At}createPacket(){return new Nd(this.document.getGraph())}listPackets(){return Array.from(this.properties)}read(n){var i;const a=(i=n.jsonDoc.json.extensions)==null?void 0:i[At];if(!a||!a.packets)return this;const l=n.jsonDoc.json,c=this.document.getRoot(),d=a.packets.map(m=>this.createPacket().fromJSONLD(m)),p=[[l.asset],l.scenes,l.nodes,l.meshes,l.materials,l.images,l.animations],g=[[c],c.listScenes(),c.listNodes(),c.listMeshes(),c.listMaterials(),c.listTextures(),c.listAnimations()];for(let m=0;m<p.length;m++){const S=p[m]||[];for(let R=0;R<S.length;R++){const _=S[R];if(_.extensions&&_.extensions[At]){const M=_.extensions[At];g[m][R].setExtension(At,d[M.packet])}}}return this}write(n){const{json:i}=n.jsonDoc,a=[];for(const l of this.properties){a.push(l.toJSONLD());for(const c of l.listParents()){let d;switch(c.propertyType){case D.ROOT:d=i.asset;break;case D.SCENE:d=i.scenes[n.sceneIndexMap.get(c)];break;case D.NODE:d=i.nodes[n.nodeIndexMap.get(c)];break;case D.MESH:d=i.meshes[n.meshIndexMap.get(c)];break;case D.MATERIAL:d=i.materials[n.materialIndexMap.get(c)];break;case D.TEXTURE:d=i.images[n.imageIndexMap.get(c)];break;case D.ANIMATION:d=i.animations[n.animationIndexMap.get(c)];break;default:d=null,this.document.getLogger().warn(`[${At}]: Unsupported parent property, "${c.propertyType}"`);break}d&&(d.extensions=d.extensions||{},d.extensions[At]={packet:a.length-1})}}return a.length>0&&(i.extensions=i.extensions||{},i.extensions[At]={packets:a}),this}}Hm.EXTENSION_NAME=At;function Gm(f,n,{positions:i,indices:a,colors:l,normals:c}){const d=f.createPrimitive().setMode(Hn.Mode.TRIANGLES).setMaterial(f.createMaterial().setDoubleSided(!0).setAlphaMode(n[3]<1?"BLEND":"OPAQUE").setMetallicFactor(0).setBaseColorFactor(n)).setAttribute("POSITION",f.createAccessor().setType(Y.Type.VEC3).setArray(i)).setIndices(f.createAccessor().setType(Y.Type.SCALAR).setArray(a));return c&&d.setAttribute("NORMAL",f.createAccessor().setType(Y.Type.VEC3).setArray(c)),l&&d.setAttribute("COLOR_0",f.createAccessor().setType(Y.Type.VEC3).setArray(l)),d}async function $m(f,n=Vf){const i=new zr,a=i.createExtension(ca);i.createBuffer();const l=i.createScene().addChild(i.createNode().setExtension("KHR_lights_punctual",a.createLight().setType(Gn.Type.DIRECTIONAL).setIntensity(1).setColor([1,1,1])).setRotation([-.3250576,-.3250576,0,.8880739])).addChild(i.createNode().setExtension("KHR_lights_punctual",a.createLight().setType(Gn.Type.DIRECTIONAL).setIntensity(1).setColor([1,1,1])).setRotation([.6279631,.6279631,0,.4597009])),c=i.createMesh(),d=new Map;f.faces.forEach(g=>{let m=d.get(g.colorIndex);m||d.set(g.colorIndex,m=[]),m.push(g)});for(let[g,m]of d.entries())f.colors[g];for(let[g,m]of d.entries()){let S=f.colors[g];const R=Wm(f.vertices,m);c.addPrimitive(Gm(i,S,R))}l.addChild(i.createNode().setMesh(c));const p=await new Tg().registerExtensions([ca]).writeBinary(i);return new Blob([p],{type:"model/gltf-binary"})}function Wm(f,n){let i=new Float32Array(n.length*3*3);const a=new Uint32Array(n.length*3),l=new Map;let c=0;const d=p=>{let g=l.get(p);if(g===void 0){const m=c*3,S=f[p];i[m]=S.x,i[m+1]=S.y,i[m+2]=S.z,g=c++,l.set(p,g)}return g};return n.forEach((p,g)=>{const{vertices:m}=p,S=g*3;a[S]=d(m[0]),a[S+1]=d(m[1]),a[S+2]=d(m[2])}),{positions:i.slice(0,c*3),indices:a}}const Km=`${Math.PI/4}rad ${Math.PI/4}rad auto`;function Xm({scadCode:f,style:n}){const[i,a]=rn.useState(!1),[l,c]=rn.useState(null),[d,p]=rn.useState(null),g=rn.useRef(null);return rn.useEffect(()=>()=>{g.current&&URL.revokeObjectURL(g.current)},[]),rn.useEffect(()=>{if(!f)return;let m=!1;return(async()=>{a(!0),c(null);try{const _=await Dh({mountArchives:!0,inputs:[{path:"/preview.scad",content:f}],args:["/preview.scad","-o","preview.off","--backend=manifold","--export-format=off","--enable=lazy-union"],outputPaths:["preview.off"]},O=>{console.log("OpenSCAD output:",O)});if(m)return;if(_.error)throw new Error(_.error);const M=_.outputs?.[0]?.[1];if(!M)throw new Error("No OFF output received from OpenSCAD");const G=M;let H="";typeof G=="string"?H=G:H=new TextDecoder().decode(G);const j=jh(H),T=await $m(j),X=URL.createObjectURL(T);g.current&&URL.revokeObjectURL(g.current),g.current=X,p(X)}catch(R){console.error("Render failed:",R),m||c(R.message||"Render failed")}finally{m||a(!1)}})(),()=>{m=!0}},[f]),E.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",...n},children:[i&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 z-10",children:E.jsx("div",{className:"text-sm text-gray-600",children:"Rendering..."})}),l&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-50 p-4",children:E.jsx("div",{className:"text-sm text-red-600 center",children:l})}),d&&E.jsx("model-viewer",{src:d,orientation:"0deg -90deg 0deg","camera-orbit":Km,"environment-image":"/skybox-lights.jpg","shadow-intensity":"1","camera-controls":!0,style:{width:"100%",height:"100%"}})]})}function Ym(){return E.jsx("div",{className:"relative shrink-0 size-[36px]","data-name":"lovable logo",children:E.jsx("div",{className:"absolute left-1/2 size-[36px] top-1/2 translate-x-[-50%] translate-y-[-50%]","data-name":"lovable-icon-bg-light-removebg-preview 1",children:E.jsx("img",{alt:"",className:"absolute inset-0 max-w-none object-50%-50% object-cover pointer-events-none size-full",src:kh})})})}function Qm(){return E.jsx("div",{className:"basis-0 content-stretch flex flex-col gap-[2px] grow items-start min-h-px min-w-px relative shrink-0",children:E.jsx("div",{className:"flex flex-col font-['Inter:Medium',sans-serif] font-medium justify-center leading-[0] not-italic overflow-ellipsis overflow-hidden relative shrink-0 text-[#1c1c1c] text-[16px] text-nowrap w-full",children:E.jsx("p",{className:"leading-[normal] overflow-ellipsis overflow-hidden",children:"cadmonkey"})})})}function qm(){return E.jsxs("div",{className:"content-stretch flex gap-[12px] items-center p-[6px] relative rounded-[12px] shrink-0 w-[267px]","data-name":"Project Menu",children:[E.jsx(Ym,{}),E.jsx(Qm,{})]})}function Jm(){return E.jsx("div",{className:"content-stretch flex flex-col items-start relative shrink-0","data-name":"Project Menu",children:E.jsx(qm,{})})}function Zm(){return E.jsx("div",{className:"content-stretch flex gap-[12px] items-center shrink-0"})}function ex(){return E.jsxs("div",{className:"content-stretch flex items-center justify-between p-[2px] relative shrink-0 w-[500px]","data-name":"Left Side",children:[E.jsx(Jm,{}),E.jsx(Zm,{})]})}function tx(){return E.jsx("div",{className:"relative shrink-0 size-[16px]","data-name":"language",children:E.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:E.jsx("g",{id:"language",children:E.jsx("path",{d:Zi.p1056bc00,fill:"var(--fill-0, #60605E)",id:"Vector"})})})})}function nx(){return E.jsxs("div",{className:"bg-[#fcfbf8] content-stretch flex gap-[2px] items-center justify-center p-[6px] relative rounded-[6px] shrink-0","data-name":"Tab Item Compact",children:[E.jsx("div",{"aria-hidden":"true",className:"absolute border border-[#eceae4] border-solid inset-0 pointer-events-none rounded-[6px] shadow-[0px_4px_14px_0px_rgba(255,255,255,0.1),0px_4px_14px_0px_rgba(0,0,0,0.15)]"}),E.jsx(tx,{}),E.jsx("p",{className:"font-['Inter:Regular',sans-serif] font-normal leading-[normal] not-italic relative shrink-0 text-[#1c1c1c] text-[14px] text-nowrap",children:"Workspace"})]})}function rx(){return E.jsx("div",{className:"relative shrink-0 size-[16px]","data-name":"Cloud",children:E.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:E.jsx("g",{id:"Cloud",children:E.jsx("path",{d:Zi.p19a8d500,fill:"var(--fill-0, #60605E)",id:"Shape"})})})})}function sx(){return E.jsx("div",{className:"content-stretch flex items-center justify-center p-[6px] relative rounded-[6px] shrink-0","data-name":"Tab Item Compact",children:E.jsx(rx,{})})}function ix(){return E.jsxs("div",{className:"bg-[#f8f4ed] content-stretch flex gap-[6px] items-center p-[2px] relative rounded-[8px] shrink-0","data-name":"Tab Group Compact Primary",children:[E.jsx("div",{"aria-hidden":"true",className:"absolute border border-[#eceae4] border-solid inset-0 pointer-events-none rounded-[8px]"}),E.jsx(nx,{}),E.jsx(sx,{})]})}function ox(){return E.jsx("div",{className:"content-stretch flex gap-[12px] items-center relative shrink-0","data-name":"Tabs",children:E.jsx(ix,{})})}function lx(){return E.jsx("div",{className:"bg-[#f7ebff] content-stretch flex gap-[8px] h-[28px] items-center justify-center p-[6px] relative rounded-[8px] shrink-0","data-name":"Pricing Secondary Button Compact",children:E.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[normal] not-italic overflow-ellipsis overflow-hidden relative shrink-0 text-[#60605e] text-[14px] text-nowrap",children:"Upgrade"})})}function ax(){return E.jsx("div",{className:"content-stretch flex items-start relative shrink-0","data-name":"Button Component",children:E.jsx(lx,{})})}function ux(){return E.jsx("div",{className:"bg-[#1e53f1] content-stretch flex h-[28px] items-center justify-center p-[6px] relative rounded-[8px] shrink-0","data-name":"Primary Button Compact",children:E.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[normal] not-italic overflow-ellipsis overflow-hidden relative shrink-0 text-[14px] text-center text-nowrap text-white",children:"Download"})})}function cx(){return E.jsx("div",{className:"content-stretch flex items-start relative shrink-0","data-name":"Button Component",children:E.jsx(ux,{})})}function fx(){return E.jsx("div",{className:"content-stretch flex flex-col items-end relative shrink-0","data-name":"Publish Menu",children:E.jsx(cx,{})})}function dx(){return E.jsxs("div",{className:"content-stretch flex gap-[12px] items-center relative shrink-0","data-name":"Project Actions",children:[E.jsx(ax,{}),E.jsx(fx,{})]})}function px(){return E.jsxs("div",{className:"basis-0 content-stretch flex grow items-center justify-between min-h-px min-w-px relative shrink-0","data-name":"Right Side",children:[E.jsx(ox,{}),E.jsx(dx,{})]})}function hx(){return E.jsx("div",{className:"bg-[#fcfbf8] relative shrink-0 w-full","data-name":"Workspace Header",children:E.jsx("div",{className:"flex flex-row items-center size-full",children:E.jsxs("div",{className:"content-stretch flex gap-[24px] items-center pl-0 pr-[20px] py-0 relative w-full",children:[E.jsx(ex,{}),E.jsx(px,{})]})})})}function gx(){return E.jsx("div",{className:"content-center flex flex-wrap items-center justify-center shrink-0 w-full","data-name":"Date & Time"})}function mx(){return E.jsx("div",{className:"bg-[#f8f4ed] content-stretch flex items-center justify-end p-[12px] relative rounded-[12px] shrink-0 w-[326px]","data-name":"Message",children:E.jsx("p",{className:"basis-0 font-['Inter:Regular',sans-serif] font-normal grow leading-[normal] min-h-px min-w-px not-italic relative shrink-0 text-[#1c1c1c] text-[12px] text-right",children:"hey cadmonkey, make me a cat"})})}function xx(){return E.jsx("div",{className:"relative shrink-0 size-[16px]","data-name":"Copy",children:E.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:E.jsx("g",{id:"Copy",children:E.jsx("path",{d:Zi.p15722080,fill:"var(--fill-0, #60605E)",id:"Shape"})})})})}function yx(){return E.jsx("div",{className:"content-stretch flex h-[28px] items-center justify-center p-[6px] relative rounded-[8px] shrink-0","data-name":"Ghost Button Compact",children:E.jsx(xx,{})})}function vx(){return E.jsx("div",{className:"content-stretch flex items-start opacity-0 relative shrink-0","data-name":"Button Component",children:E.jsx(yx,{})})}function Tx(){return E.jsxs("div",{className:"content-stretch flex flex-col gap-[6px] items-end justify-center relative shrink-0 w-full","data-name":"User response",children:[E.jsx(mx,{}),E.jsx(vx,{})]})}function Ex(){return E.jsx("div",{className:"bg-[#fcfbf8] relative rounded-[12px] shrink-0 w-full","data-name":"Message",children:E.jsx("div",{className:"flex flex-row items-center size-full",children:E.jsx("div",{className:"content-stretch flex items-center p-[12px] relative w-full",children:E.jsxs("div",{className:"basis-0 font-['Inter:Regular',sans-serif] font-normal grow leading-[normal] min-h-px min-w-px not-italic relative shrink-0 text-[#1c1c1c] text-[14px]",children:[E.jsx("p",{className:"mb-0",children:" // Simple cat model built from basic OpenSCAD primitives"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:" // Main body"}),E.jsx("p",{className:"mb-0",children:"translate([0, 0, 0])"}),E.jsx("p",{className:"mb-0",children:"    scale([1.2, 0.8, 1])"}),E.jsx("p",{className:"mb-0",children:"    sphere(r = 20, $fn = 32);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"// Head"}),E.jsx("p",{className:"mb-0",children:"translate([25, 0, 15])"}),E.jsx("p",{className:"mb-0",children:"    sphere(r = 15, $fn = 32);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"// Ears"}),E.jsx("p",{className:"mb-0",children:"translate([30, 10, 25])"}),E.jsx("p",{className:"mb-0",children:"    rotate([0, -30, 0])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 12, r1 = 6, r2 = 0, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"translate([30, -10, 25])"}),E.jsx("p",{className:"mb-0",children:"    rotate([0, 30, 0])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 12, r1 = 6, r2 = 0, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"// Tail"}),E.jsx("p",{className:"mb-0",children:"translate([-25, 0, 10])"}),E.jsx("p",{className:"mb-0",children:"    rotate([0, 0, -30])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 30, r1 = 5, r2 = 2, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"// Legs"}),E.jsx("p",{className:"mb-0",children:"translate([10, 12, -20])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 20, r = 4, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"translate([10, -12, -20])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 20, r = 4, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"translate([-10, 12, -20])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 20, r = 4, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"translate([-10, -12, -20])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 20, r = 4, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"// Eyes"}),E.jsx("p",{className:"mb-0",children:"translate([32, 8, 18])"}),E.jsx("p",{className:"mb-0",children:"    sphere(r = 2, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"translate([32, -8, 18])"}),E.jsx("p",{className:"mb-0",children:"    sphere(r = 2, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"// Nose"}),E.jsx("p",{className:"mb-0",children:"translate([33, 0, 15])"}),E.jsx("p",{className:"mb-0",children:"    sphere(r = 1.5, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"// Mouth"}),E.jsx("p",{className:"mb-0",children:"translate([33, 0, 13])"}),E.jsx("p",{className:"mb-0",children:"    rotate([90, 0, 0])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 1, r = 3, $fn = 16);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"// Whiskers"}),E.jsx("p",{className:"mb-0",children:"translate([33, 2, 13])"}),E.jsx("p",{className:"mb-0",children:"    rotate([0, 90, 0])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 6, r = 0.2, $fn = 8);"}),E.jsx("p",{className:"mb-0",children:""}),E.jsx("p",{className:"mb-0",children:"translate([33, -2, 13])"}),E.jsx("p",{className:"mb-0",children:"    rotate([0, 90, 0])"}),E.jsx("p",{className:"mb-0",children:"    cylinder(h = 6, r = 0.2, $fn = 8);"})]})})})})}function wx(){return E.jsx("div",{className:"content-stretch flex flex-col items-start shrink-0 w-full","data-name":"Edits Accordion"})}function Sx(){return E.jsxs("div",{className:"content-stretch flex flex-col gap-[12px] items-start justify-center relative shrink-0 w-full","data-name":"AI response",children:[E.jsx(Ex,{}),E.jsx(wx,{})]})}function Rx(){return E.jsxs("div",{className:"basis-0 content-stretch flex flex-col gap-[24px] grow items-start min-h-px min-w-px overflow-x-clip overflow-y-auto relative shrink-0 w-full",children:[E.jsx(gx,{}),E.jsx(Tx,{}),E.jsx(Sx,{})]})}const Nx="/api/generate";function Ix(){return E.jsx("div",{className:"content-stretch flex flex-col items-end shrink-0","data-name":"AI Chat Menu"})}function _x(){return E.jsx("div",{className:"content-stretch flex items-start shrink-0","data-name":"Button Component"})}function Cx(){return E.jsxs("div",{className:"content-stretch flex gap-[6px] items-center relative shrink-0","data-name":"Button Group",children:[E.jsx(Ix,{}),E.jsx(_x,{})]})}function Ax(){return E.jsx("div",{className:"content-stretch flex items-start shrink-0","data-name":"Button Component"})}function Mx(){return E.jsx("div",{className:"relative shrink-0 size-[16px]","data-name":"arrow_upward",children:E.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:E.jsxs("g",{id:"arrow_upward",children:[E.jsx("g",{id:"Vector"}),E.jsx("path",{d:Zi.pc3d4a00,fill:"var(--fill-0, #1C1C1C)",id:"Vector_2"})]})})})}function kx({prompt:f,setPrompt:n,handleGenerate:i,isLoading:a}){return E.jsx("div",{className:"basis-0 content-stretch flex grow items-start min-h-px min-w-px relative shrink-0 w-full","data-name":"Container",children:E.jsx("textarea",{value:f,onChange:l=>n(l.target.value),placeholder:"what do you want to make?",disabled:a,onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),i())},className:"size-full bg-transparent border-none outline-none resize-none font-['Inter:Regular',sans-serif] text-[#1c1c1c] text-[14px]"})})}function Ox({onClick:f,disabled:n}){return E.jsx("div",{onClick:n?void 0:f,className:`bg-[#cfcecc] content-stretch flex h-[28px] items-center justify-center p-[6px] relative rounded-[8px] shrink-0 ${n?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-[#b0b0af]"}`,"data-name":"Secondary Button Compact",children:E.jsx(Mx,{})})}function Dx({onClick:f,disabled:n}){return E.jsx("div",{className:"content-stretch flex items-start relative shrink-0","data-name":"Button Component",children:E.jsx(Ox,{onClick:f,disabled:n})})}function jx({onClick:f,disabled:n}){return E.jsxs("div",{className:"content-stretch flex gap-[6px] items-center relative shrink-0",children:[E.jsx(Ax,{}),E.jsx(Dx,{onClick:f,disabled:n})]})}function Lx({onClick:f,disabled:n}){return E.jsxs("div",{className:"content-stretch flex items-center justify-between relative shrink-0 w-full","data-name":"Button Group",children:[E.jsx(Cx,{}),E.jsx(jx,{onClick:f,disabled:n})]})}function Fx({prompt:f,setPrompt:n,handleGenerate:i,isLoading:a}){return E.jsxs("div",{className:"bg-[#f8f4ed] h-[140px] relative rounded-[16px] shrink-0 w-full","data-name":"AI Chat Input",children:[E.jsx("div",{"aria-hidden":"true",className:"absolute border border-[#eceae4] border-solid inset-0 pointer-events-none rounded-[16px]"}),E.jsx("div",{className:"size-full",children:E.jsxs("div",{className:"content-stretch flex flex-col gap-[8px] items-start p-[12px] relative size-full",children:[E.jsx(kx,{prompt:f,setPrompt:n,handleGenerate:i,isLoading:a}),E.jsx(Lx,{onClick:i,disabled:a||!f.trim()})]})})]})}function Px({prompt:f,setPrompt:n,handleGenerate:i,isLoading:a}){return E.jsxs("div",{className:"content-stretch flex flex-col gap-[24px] h-full items-start p-[12px] relative shrink-0 w-[500px]","data-name":"AI Chat Box",children:[E.jsx(Rx,{}),E.jsx(Fx,{prompt:f,setPrompt:n,handleGenerate:i,isLoading:a})]})}function Ux({scadCode:f,isLoading:n}){return E.jsxs("div",{className:"basis-0 bg-white grow h-full min-h-px min-w-px relative rounded-[16px] shrink-0 overflow-hidden","data-name":"Workspace Preview",children:[E.jsx("div",{"aria-hidden":"true",className:"absolute border border-[#eceae4] border-solid inset-0 pointer-events-none rounded-[16px] shadow-[0px_4px_14px_0px_rgba(255,255,255,0.1),0px_4px_14px_0px_rgba(0,0,0,0.15)] z-20"}),n&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 z-10",children:E.jsx("div",{className:"text-sm text-gray-600 font-['Inter:Medium',sans-serif]",children:"Generating Code..."})}),E.jsx(Xm,{scadCode:f})]})}function Bx({prompt:f,setPrompt:n,handleGenerate:i,isLoading:a,scadCode:l}){return E.jsxs("div",{className:"basis-0 content-stretch flex gap-[12px] grow items-center min-h-px min-w-px relative shrink-0 w-full",children:[E.jsx(Px,{prompt:f,setPrompt:n,handleGenerate:i,isLoading:a}),E.jsx(Ux,{scadCode:l,isLoading:a})]})}function zx(){const[f,n]=rn.useState(""),[i,a]=rn.useState(!1),[l,c]=rn.useState(""),d=async()=>{if(f.trim()){a(!0);try{const p=await fetch(Nx,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:`hey cadmonkey, make me ${f}`,max_tokens:4096,temperature:.7})});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const g=p.body?.getReader();if(!g)throw new Error("No response body");const m=new TextDecoder;let S="";for(;;){const{done:R,value:_}=await g.read();if(R)break;const G=m.decode(_).split(`
`);for(const H of G)if(H.startsWith("data: "))try{const j=JSON.parse(H.slice(6));if(j.token&&(S+=j.token),j.done)break}catch(j){console.warn(j)}}c(S)}catch(p){console.error("Generation failed",p),alert("Generation failed: "+p)}finally{a(!1)}}};return E.jsx("div",{className:"bg-[#fcfbf8] relative size-full","data-name":"Workspace",children:E.jsx("div",{className:"flex flex-col justify-center size-full",children:E.jsxs("div",{className:"content-stretch flex flex-col gap-[6px] items-start justify-center p-[12px] relative size-full",children:[E.jsx(hx,{}),E.jsx(Bx,{prompt:f,setPrompt:n,handleGenerate:d,isLoading:i,scadCode:l})]})})})}function Vx(){return E.jsx(zx,{})}Mh.createRoot(document.getElementById("root")).render(E.jsx(Vx,{}));
